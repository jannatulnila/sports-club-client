"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_copilot-chat_hooks_use-chat-message-behavior_ts-ui_packages_copilot-chat_hooks_us-ac6581","ui_packages_document-metadata_document-metadata_ts-ui_packages_fetch-headers_fetch-headers_ts-57e0e0"],{79929:(e,t,n)=>{n.d(t,{A:()=>r});let r={messageContainer:"ChatMessage-module__messageContainer--A1rW_","message-action":"ChatMessage-module__message-action--gd8kA",user:"ChatMessage-module__user--x7t7S",ai:"ChatMessage-module__ai--NWwZ0",contentContainer:"ChatMessage-module__contentContainer--s3iSV",message:"ChatMessage-module__message--_amJV",messageContent:"ChatMessage-module__messageContent--cNCus",hasClientConfirmations:"ChatMessage-module__hasClientConfirmations--nYPDm",agentUnauthorizedAvatar:"ChatMessage-module__agentUnauthorizedAvatar--q02uE",skillExecutionText:"ChatMessage-module__skillExecutionText--Fl5HE",fileListItem:"ChatMessage-module__fileListItem--jEMb9",avatar:"ChatMessage-module__avatar--rn6Gb",clientConfirmationContainer:"ChatMessage-module__clientConfirmationContainer--bBSQw",confirmationStatusText:"ChatMessage-module__confirmationStatusText--LA2mj",messageContentWrapper:"ChatMessage-module__messageContentWrapper--Cuc5Y","snippet-clipboard-content":"ChatMessage-module__snippet-clipboard-content--OZiSB",messageActionsContainer:"ChatMessage-module__messageActionsContainer--E6h9A"}},10370:(e,t,n)=>{n.d(t,{A:()=>r});let r={container:"UserMessage-module__container--cAvvK",mention:"UserMessage-module__mention--JZHRf"}},78924:(e,t,n)=>{n.d(t,{I:()=>r});let r=(0,n(96540).createContext)(null)},52811:(e,t,n)=>{n.d(t,{C:()=>o,i:()=>s});var r=n(96679),a=n(27851),i=n(46493);function o(e,t){(0,a.G7)("arianotify_comprehensive_migration")?s(l(e),{...t,element:t?.element??e}):(0,a.G7)("primer_live_region_element")&&t?.element===void 0?(0,i.Cj)(e,{politeness:t?.assertive?"assertive":"polite"}):s(l(e),t)}function s(e,t){let{assertive:n,element:o}=t??{};(0,a.G7)("arianotify_comprehensive_migration")&&"ariaNotify"in Element.prototype?(o||document.body).ariaNotify(e):(0,a.G7)("primer_live_region_element")&&void 0===o?(0,i.iP)(e,{politeness:n?"assertive":"polite"}):function(e,t,n){let a=n??r.XC?.querySelector(t?"#js-global-screen-reader-notice-assertive":"#js-global-screen-reader-notice");a&&(a.textContent===e?a.textContent=`${e}\u00A0`:a.textContent=e)}(e,n,o)}function l(e){return(e.getAttribute("aria-label")||e.innerText||"").trim()}},53005:(e,t,n)=>{n.d(t,{O:()=>o,S:()=>i});var r=n(96679);let a=r.cg?.document?.head?.querySelector('meta[name="release"]')?.content||"",i="X-GitHub-Client-Version";function o(){return a}},39376:(e,t,n)=>{n.d(t,{p:()=>p});var r=n(52811),a=n(38007),i=n(96540),o=n(83880),s=n(53207),l=n(22069),c=n(34901),d=n(47397),u=n(44435),m=n(88011),h=n(66889);function p({excludeFeedback:e,inputRef:t,isLatestMessage:n,isStreaming:p,removeOutdatedContentPreviewItems:f}){let{message:g}=(0,o.V)(),y=(0,c.bP)("activePlugin","currentUserLogin","mode"),x=(0,m.tD)(),v=(0,d.b)(),b=(0,s.nu)(y.activePlugin),_=(0,l.Th)(g,y.currentUserLogin),C="Copilot"===_.name,S="user"===_.type,w=C||(0,l.yh)(_),j=C&&!!g.agentErrors?.length,N=!j&&!!C&&!!g.error&&g.error.isError,I=C&&!e&&(!n||!p)&&!N,T=(0,i.useRef)(null),R=g.interrupted,k=g.clientConfirmations&&g.clientConfirmations.length>0,A=N&&g.error?.retryable,[E,M]=(0,i.useState)([]),[P,L]=(0,i.useState)(void 0),F=(A||R)&&n,$=(0,i.useMemo)(()=>({openLinksInCurrentTab:"assistive"===y.mode,isStreaming:n&&p,extensions:b?.markdownExtensions?b.markdownExtensions.map(e=>e()):[]}),[y.mode,n,p,b?.markdownExtensions]),B=!N&&(I||w&&!!g.content&&!p)&&(!S||!g.confirmations)||S&&!n||N&&n,D=(0,i.useRef)(0);(0,i.useEffect)(()=>{let e=(g.skillExecutions??[]).find(e=>!E.some(t=>t.slug===e.slug&&t.statusMessage===e.statusMessage));if(e){let t=setTimeout(()=>{D.current=Date.now(),M([...E,e]),L(e)},Math.max(0,2e3-(Date.now()-D.current)));return()=>clearTimeout(t)}},[g.skillExecutions,E]),(0,i.useEffect)(()=>{n&&p&&(0,r.i)("Copilot is responding")},[n,p]),(0,i.useEffect)(()=>{n&&!p&&T.current&&(0,r.C)(T.current)},[n,p]);let O=(0,i.useCallback)(async(e,t,n)=>{if(n)n("accepted"===e.state);else{let n=x();await v.sendChatMessage({thread:(0,u.W)(n),content:`@${_.name} ${(0,h.Z)(e.state)} Confirmation: ${t}`,references:g.references??[],topic:n.currentTopic,context:n.context,confirmations:e,customInstructions:n.customInstructions,model:n.model})}},[x,v,_.name,g.references]),U=(0,i.useCallback)(()=>{window.setTimeout(()=>t?.current?.focus(),1)},[t]),z=(0,i.useCallback)(async()=>{let e=x(),t=(0,u.W)(e);t&&(f?.(),U(),(0,a.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_RETRY",mode:e.mode}),await v.retryLastUnsuccessfulChatMessage(t))},[x,f,U,v]),q=(0,i.useCallback)(async e=>{let t=x(),n=(0,u.W)(t);n&&(f?.(),U(),(0,a.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_RETRY_FOR_NEW_SUBTHREAD",mode:t.mode}),await v.retryUserChatMessage(n,g,e))},[x,v,g,f,U]),V=(0,i.useCallback)(async e=>{let t=x(),n=(0,u.W)(t);n&&(f?.(),await v.editUserChatMessage(n,g,e))},[x,v,g,f]);return{author:_,removeOutdatedContentPreviewItems:f,handleConfirmationAction:O,handleRetryErrorMessage:z,handleRetryCopilotResponse:q,handleEditUserMessage:V,hasClientConfirmations:k,isCopilot:C,isUser:S,isAI:w,isAgentError:j,isError:N,isInterrupted:R,myRef:T,rendererConfig:$,renderFeedback:I,shouldShowMessageActions:B,skillExecutionToUseForRespondingText:P,showRetryButton:F}}},84863:(e,t,n)=>{n.d(t,{Y:()=>d});var r=n(21728),a=n(96540),i=n(22069),o=n(74244),s=n(34901),l=n(47397),c=n(44435);function d(e){let t,n,d,u,m,h,p,f,g,y,x=(0,r.c)(26),v=(0,s.Pk)(),b=(0,l.b)(),{currentTopic:_,messages:C,selectedThreadID:S}=v;x[0]!==v?(t=(0,c.W)(v),x[0]=v,x[1]=t):t=x[1];let w=t,j=(0,a.useRef)(null),N=e||j;return x[2]!==b||x[3]!==C.length||x[4]!==w?(n=()=>{w&&C.length>0&&b.showTopicPicker(!1)},d=[w,C.length,b],x[2]=b,x[3]=C.length,x[4]=w,x[5]=n,x[6]=d):(n=x[5],d=x[6]),(0,a.useEffect)(n,d),x[7]!==_||x[8]!==S?(u=()=>{let e=_?(0,i.P)(_)?_.name:String(_.id):null;S&&e&&o.J.setSelectedTopic(S,e)},m=[S,_],x[7]=_,x[8]=S,x[9]=u,x[10]=m):(u=x[9],m=x[10]),(0,a.useEffect)(u,m),x[11]!==N?(h=()=>{let e=window.setTimeout(()=>{N.current?.focus()},1);return()=>{window.clearTimeout(e)}},p=[N],x[11]=N,x[12]=h,x[13]=p):(h=x[12],p=x[13]),(0,a.useEffect)(h,p),x[14]!==b||x[15]!==v.context?.[0]||x[16]!==v.currentRepository?(f=()=>{let e=v.context?.[0]??v.currentRepository;return e&&b.generateSuggestions(e),()=>{b.clearSuggestions()}},x[14]=b,x[15]=v.context?.[0],x[16]=v.currentRepository,x[17]=f):f=x[17],x[18]!==b||x[19]!==v.context||x[20]!==v.currentRepository||x[21]!==v.currentTopic||x[22]!==v.selectedThreadID?(g=[b,v.context,v.currentTopic,v.currentRepository,v.selectedThreadID],x[18]=b,x[19]=v.context,x[20]=v.currentRepository,x[21]=v.currentTopic,x[22]=v.selectedThreadID,x[23]=g):g=x[23],(0,a.useEffect)(f,g),x[24]!==N?(y={textAreaRef:N},x[24]=N,x[25]=y):y=x[25],y}},54005:(e,t,n)=>{n.d(t,{J:()=>i});var r=n(21728),a=n(96540);function i(e){let t,n,i,l=(0,r.c)(8),{onFilesDrop:c,fileAcceptanceFn:d,onRejectedFiles:u,targetElement:m}=e,[h,p]=(0,a.useState)(!1),f=(0,a.useRef)(0);return l[0]!==d||l[1]!==c||l[2]!==u||l[3]!==m?(t=()=>{if(!m)return;let e=e=>{s(e)&&(e.preventDefault(),e.stopPropagation(),e.dataTransfer?.types.includes("Files")&&(f.current=f.current+1,1===f.current&&p(!0)))},t=e=>{e.preventDefault(),e.stopPropagation(),f.current=f.current-1,f.current<=0&&(f.current=0,p(!1))},n=e=>{if(!s(e))return;e.preventDefault(),e.stopPropagation(),f.current=0,p(!1);let t=e.dataTransfer?.files;if(t&&0!==t.length)if(d){let e=Array.from(t),n=[],r=[];for(let t=0;t<e.length;t++){let a=e[t];d(a,t,e)?n.push(a):r.push(a)}if(r.length>0&&u&&u(r),n.length>0){let e=new DataTransfer;for(let t of n)e.items.add(t);c(e.files,r.length>0)}}else c(t,!1)};return m.addEventListener("dragover",o),m.addEventListener("dragenter",e),m.addEventListener("dragleave",t),m.addEventListener("drop",n),()=>{m.removeEventListener("dragover",o),m.removeEventListener("dragenter",e),m.removeEventListener("dragleave",t),m.removeEventListener("drop",n)}},n=[c,d,u,m],l[0]=d,l[1]=c,l[2]=u,l[3]=m,l[4]=t,l[5]=n):(t=l[4],n=l[5]),(0,a.useEffect)(t,n),l[6]!==h?(i={isDragging:h},l[6]=h,l[7]=i):i=l[7],i}function o(e){e.preventDefault(),e.stopPropagation()}function s(e){return e instanceof DragEvent}},59220:(e,t,n)=>{n.d(t,{a:()=>s});var r=n(96540),a=n(44669),i=n(13468),o=n(99377);function s(e){let{streamingMessage:t,isWaitingOnCopilot:n,messages:s,selectedThreadID:l,pendingFirstMessage:c}=e,d=(0,r.useMemo)(()=>{let e={id:o.Wp,role:"assistant",content:"",createdAt:"",threadID:l||"",references:[],clientSide:!0,messageIndex:-1},r=(0,i.B)(s,c);return n?[...r,t??e]:r},[l,s,c,n,t]);return{messages:d,groupedMessages:(0,a.A)(d)}}},5878:(e,t,n)=>{n.d(t,{g:()=>i});var r=n(21728),a=n(96540);function i(e){let t,n=(0,r.c)(2),[i,o]=(0,a.useState)(!1);return n[0]!==e.current?(t=()=>{let t=e.current,n=t?.lastElementChild;if(!n)return;let r=new IntersectionObserver(e=>{let[t]=e;return o(t?.isIntersecting??!0)},{root:t,threshold:1});return r.observe(n),()=>r.disconnect()},n[0]=e.current,n[1]=t):t=n[1],(0,a.useEffect)(t),i}},6612:(e,t,n)=>{n.d(t,{U:()=>d});var r=n(60439),a=n(6110),i=n(96540),o=n(18312),s=n(34901),l=n(47397),c=n(6901);function d(e,t,n,m,h=!1){let[p,f]=(0,i.useState)(),g=(0,i.useCallback)(()=>f(void 0),[]),{topRepositoriesCache:y,currentRepository:x}=(0,s.Pk)(),v=(0,l.b)(),[b,_]=(0,i.useState)([]),[C,S]=(0,i.useState)(!y&&"initial"),w=(0,i.useRef)(void 0),j=(0,o.useRelayEnvironment)(),N=m&&""!==m.trim();if(p&&!y&&!e&&!N){let e=u(p||[]),{ownerLogin:t,name:n}=x??{};x&&!e.find(e=>`${e.ownerLogin}/${e.name}`==`${t}/${n}`)&&e.splice(0,0,{databaseId:x.id,isInOrganization:"Organization"===x.ownerType,name:x.name,nwo:`${x.ownerLogin}/${x.name}`,ownerLogin:x.ownerLogin,ownerAvatarUrl:`/${x.ownerLogin}.png?s=40`}),setTimeout(()=>v.setTopRepositoryTopics(e),10),S(!1),f(void 0)}let I=(0,i.useCallback)(async()=>{try{let e=await (0,r.St)(j,{first:n,owner:N?m:void 0});f(e)}catch{}finally{S(!1)}},[N,m,j,f,n]);return((0,i.useEffect)(()=>{t&&!N&&I()},[I,N,t,m]),(0,i.useEffect)(()=>{let t=async e=>{S(!0);let t=((await new Promise((t,n)=>{(0,o.fetchQuery)(j,r.XD,{searchQuery:N?(0,c.rl)(m,e,h):(0,a.J4)(e,{includeForks:h})}).subscribe({start:e=>{w.current?.unsubscribe(),w.current=e},next:e=>{t(e)},error:e=>{n(e)}})})).search.nodes||[]).flatMap(e=>e?[(0,r.Jo)(e)]:[]);_(t.length?u(t):[]),S(!1)};e||N?t(e):y&&_(y)},[e,N,m,j,y,h]),(0,i.useEffect)(()=>{v.setTopRepositoryTopics(void 0)},[v,m]),!y||e||N)?{repositories:b,loading:C,resetTopRepoResults:g}:{repositories:y,loading:!1,resetTopRepoResults:g}}function u(e){return e.map(({owner:{login:e,avatarUrl:t},isInOrganization:n,name:r,databaseId:a})=>({databaseId:a??0,isInOrganization:n,name:r,nwo:`${e}/${r}`,ownerLogin:e,ownerAvatarUrl:t}))}},80597:(e,t,n)=>{n.d(t,{G:()=>c});var r=n(21728),a=n(55206),i=n(96540),o=n(34901),s=n(6901),l=n(44435);function c(){let e,t=(0,r.c)(1),n=(0,i.useRef)(null);t[0]===Symbol.for("react.memo_cache_sentinel")?(e=e=>{let t=(0,l.W)(e),r=(0,a.O)(t);return(0,s.Ym)(n.current,r)?n.current:(n.current=r,r)},t[0]=e):e=t[0];let c=(0,o.pn)(e);return(0,s.iI)()||c}},39818:(e,t,n)=>{n.d(t,{JE:()=>f,Z3:()=>h,bn:()=>m,kw:()=>g,qj:()=>p});var r=n(21728),a=n(97286),i=n(99837),o=n(96540),s=n(80597),l=n(22069),c=n(34901),d=n(47397),u=n(88011);let m="https://github.com/marketplace?type=apps&copilot_app=true",h="@",p=/^@(?<slug>\S+)$/;function f(e){let t,n,i,o,m,h,p=(0,r.c)(25),{agentsPath:f,model:g}=(0,c.bP)("agentsPath","model"),y=(0,u.tD)(),x=(0,d.b)(),v=!!(0,s.G)(),b=g?.hasLimitedCapabilities;p[0]!==y||p[1]!==v||p[2]!==b?(t=e=>{let{messages:t}=y();if(b||v)return{agents:[],showLimit:!1};let n=(0,l.Q7)(t)[0];return n?{agents:e.filter(e=>e.slug===n.name),showLimit:e.length>1}:{agents:e,showLimit:!1}},p[0]=y,p[1]=v,p[2]=b,p[3]=t):t=p[3];let _=t;p[4]!==f?(n=["copilot-chat","agents",f],p[4]=f,p[5]=n):n=p[5],p[6]!==f||p[7]!==x?(i=()=>f?x.fetchAgents(f):[],p[6]=f,p[7]=x,p[8]=i):i=p[8];let C=(void 0===e||e)&&!b&&!v;p[9]!==_||p[10]!==n||p[11]!==i||p[12]!==C?(o={queryKey:n,queryFn:i,select:_,enabled:C},p[9]=_,p[10]=n,p[11]=i,p[12]=C,p[13]=o):o=p[13];let{isLoading:S,data:w,refetch:j,isStale:N,isFetched:I}=(0,a.I)(o);p[14]!==w||p[15]!==I||p[16]!==N||p[17]!==j?(m=async()=>!I||N?(await j()).data:w,p[14]=w,p[15]=I,p[16]=N,p[17]=j,p[18]=m):m=p[18];let T=m,R=w?.agents,k=w?.showLimit??!1;return p[19]!==T||p[20]!==S||p[21]!==R||p[22]!==k||p[23]!==b?(h={loading:S,disabled:b,availableAgents:R,showLimit:k,imperativelyFetch:T},p[19]=T,p[20]=S,p[21]=R,p[22]=k,p[23]=b,p[24]=h):h=p[24],h}function g({inputOnChange:e,inputRef:t}){let n=(0,i.H)({inputRef:t,fallbackEventHandler:e});return(0,o.useCallback)((e="")=>{t.current?.value&&n(" ",[0,0]);let r=`${h}${e}`;n(r,[0,0],r.length)},[n,t])}},51295:(e,t,n)=>{n.d(t,{O:()=>r});function r(e,t){let n={};for(let r of e){let e=t(r);n[e]??(n[e]=[]),n[e].push(r)}return n}},33900:(e,t,n)=>{n.d(t,{Ld:()=>g,M8:()=>y,Tz:()=>C,W5:()=>m,cx:()=>f,r_:()=>_,vn:()=>b,xG:()=>h});var r=n(21728),a=n(26559),i=n(97665),o=n(40458),s=n(94747),l=n(97286),c=n(60039),d=n(96540),u=n(74244);n(34901),n(47397);let m={Unindexed:"not_indexed",Indexed:"indexed",Indexing:"indexing",PartiallyIndexed:"partially_indexed",Unknown:"unknown"},h={Requested:"requested",NotFound:"not_found",Unauthorized:"unauthorized",ServiceUnavailable:"service_unavailable",QuotaExhausted:"quota_exhausted",Forbidden:"forbidden",CanIndex:"ok",IndexingError:"indexing_error",RequestFailed:"request_failed",Unknown:"unknown"},p=[h.NotFound,h.Unauthorized,h.ServiceUnavailable,h.QuotaExhausted,h.Forbidden,h.RequestFailed],f=256,g=400;function y(e){var t,n;let a,l,c,d,u,f,g,y,b,_,C=(0,r.c)(22),S=(0,i.jE)();C[0]!==S||C[1]!==e?(a=()=>Promise.all(e.map(e=>S.invalidateQueries({queryKey:["copilot-chat","repos-indexing-state",e]}))),C[0]=S,C[1]=e,C[2]=a):a=C[2];let j=a;C[3]!==e?(l=e.map(v),C[3]=e,C[4]=l):l=C[4],C[5]!==l?(c={queries:l},C[5]=l,C[6]=c):c=C[6];let T=(0,o.E)(c);C[7]===Symbol.for("react.memo_cache_sentinel")?(d=["repos-indexing-state"],C[7]=d):d=C[7],C[8]!==e?(u=()=>w(e),C[8]=e,C[9]=u):u=C[9],C[10]!==j||C[11]!==u?(f={mutationKey:d,mutationFn:u,onSuccess:j},C[10]=j,C[11]=u,C[12]=f):f=C[12];let{mutate:R}=(0,s.n)(f);C[13]!==T?(g={requestStatus:0===(n=(t=T.map(x)).map(e=>e.requestStatus)).length?h.Unknown:n.some(e=>p.includes(e))?h.IndexingError:n.every(e=>e===h.CanIndex)?h.CanIndex:(n.every(e=>e===h.Unknown),h.Unknown),code:N(t.map(e=>e.code)),docs:N(t.map(e=>e.docs)),remainingRepoIndexTokens:t[0]?.remainingRepoIndexTokens},C[13]=T,C[14]=g):g=C[14];let k=g,A=k.code===m.Indexing&&k.requestStatus!==h.IndexingError;return C[15]!==j?(y=()=>void j(),C[15]=j,C[16]=y):y=C[16],I(y,1e4*!!A),C[17]!==R?(b=()=>R(),C[17]=R,C[18]=b):b=C[18],C[19]!==k||C[20]!==b?(_=[k,b],C[19]=k,C[20]=b,C[21]=_):_=C[21],_}function x(e){return e.data}function v(e){return{queryKey:["copilot-chat","repos-indexing-state",e],queryFn:()=>S(e),placeholderData:{requestStatus:h.Unknown,code:m.Unknown,docs:m.Unknown},staleTime:1/0}}function b(e){let t,n,a,o,c,d,u,p,f,g,y,x=(0,r.c)(23),v=(0,i.jE)();x[0]!==v||x[1]!==e?(t=()=>Promise.resolve(v.invalidateQueries({queryKey:["repo-indexing-state",e]})),x[0]=v,x[1]=e,x[2]=t):t=x[2];let b=t;x[3]!==e?(n=["copilot-chat","repo-indexing-state",e],a=()=>S(e),x[3]=e,x[4]=n,x[5]=a):(n=x[4],a=x[5]),x[6]===Symbol.for("react.memo_cache_sentinel")?(o={requestStatus:h.Unknown,code:m.Unknown,docs:m.Unknown},x[6]=o):o=x[6],x[7]!==n||x[8]!==a?(c={queryKey:n,queryFn:a,placeholderData:o,staleTime:1/0},x[7]=n,x[8]=a,x[9]=c):c=x[9];let _=(0,l.I)(c);x[10]===Symbol.for("react.memo_cache_sentinel")?(d=["repo-indexing-state"],x[10]=d):d=x[10],x[11]!==e?(u=()=>w([e]),x[11]=e,x[12]=u):u=x[12],x[13]!==b||x[14]!==u?(p={mutationKey:d,mutationFn:u,onSuccess:b},x[13]=b,x[14]=u,x[15]=p):p=x[15];let{mutate:C}=(0,s.n)(p),j=_.data,N=j.code===m.Indexing&&j.requestStatus!==h.IndexingError;return x[16]!==b?(f=()=>void b(),x[16]=b,x[17]=f):f=x[17],I(f,1e4*!!N),x[18]!==C?(g=()=>C(),x[18]=C,x[19]=g):g=x[19],x[20]!==j||x[21]!==g?(y=[j,g],x[20]=j,x[21]=g,x[22]=y):y=x[22],y}function _(e){let t,n=(0,r.c)(2);n[0]!==e?(t={queryKey:["copilot-chat","repos-indexing-state",e],queryFn:()=>j(e),staleTime:1/0},n[0]=e,n[1]=t):t=n[1];let a=(0,l.I)(t);return!a.isError&&!!a.data?.canChat}function C(){let e=u.J.getPanelHeight(),t=u.J.getPanelWidth(),n=(0,d.useRef)(null),r=(0,d.useRef)(e),a=(0,d.useRef)(e),i=(0,d.useRef)(null),o=(0,d.useRef)(t),s=(0,d.useRef)(t),[l,c]=(0,d.useState)(e),[m,h]=(0,d.useState)(t),p=(0,d.useRef)(0);(0,d.useEffect)(()=>{p.current=parseFloat(getComputedStyle(document.documentElement).fontSize)},[]);let y=e=>Math.min(Math.max(e,f),window.innerHeight-p.current),x=e=>Math.min(Math.max(e,g),window.innerWidth-2*p.current),v=(0,d.useCallback)(e=>{if(null!==n.current){let t=n.current-e.clientY,i=y(r.current+t);c(i),a.current=i}if(null!==i.current){let t=i.current-e.clientX,n=x(o.current+t);h(n),s.current=n}},[]),b=(0,d.useCallback)(()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",b),null!==n.current&&(u.J.setPanelHeight(a.current),n.current=null),null!==i.current&&(u.J.setPanelWidth(s.current),i.current=null)},[v]),_=(0,d.useCallback)((e,t,a)=>{0===e.button&&(e.preventDefault(),a&&(n.current=e.clientY,r.current=l),t&&(i.current=e.clientX,o.current=m),window.addEventListener("mousemove",v),window.addEventListener("mouseup",b))},[l,m,v,b]),C=(0,d.useCallback)(e=>{if("ArrowUp"===e.key){let t=y(l+4);c(t),u.J.setPanelHeight(t),e.preventDefault()}else if("ArrowDown"===e.key){let t=y(l-4);c(t),u.J.setPanelHeight(t),e.preventDefault()}else if("ArrowRight"===e.key){let t=x(m-4);h(t),u.J.setPanelWidth(t),e.preventDefault()}else if("ArrowLeft"===e.key){let t=x(m+4);h(t),u.J.setPanelWidth(t),e.preventDefault()}},[l,m]);return{panelWidth:m,panelHeight:l,startResize:_,onResizerKeyDown:C}}async function S(e){let t=await fetch(`/search/check_indexing_status?nwo=${encodeURIComponent(e)}`,{headers:{Accept:"application/json",...(0,a.kt)()}});if(!t.ok)return{requestStatus:h.RequestFailed,code:m.Unknown,docs:m.Unknown};let n=await t.json();return{requestStatus:n.can_index,code:n.code_status,docs:n.docs_status}}async function w(e){let t=1===e.length?`nwo=${encodeURIComponent(e[0])}`:`nwos=${encodeURIComponent(JSON.stringify(e))}`;return(0,c.DI)(`/search/index_embeddings?${t}&index_code=true`,{method:"POST"})}async function j(e){let t=await fetch(`/github-copilot/docs/docsets/kb_indexed_repos?ids=${encodeURIComponent(JSON.stringify(e))}`,{headers:{Accept:"application/json",...(0,a.kt)()}});return t.ok?await t.json():{canChat:!1}}function N(e){return e.every(e=>e===m.Indexed)?m.Indexed:e.every(e=>e===m.Unindexed)?m.Unindexed:e.some(e=>e===m.Indexing)?m.Indexing:e.some(e=>e===m.Unindexed)?m.PartiallyIndexed:m.Unknown}function I(e,t){let n,a,i,o,s=(0,r.c)(6),l=(0,d.useRef)(void 0),c=(0,d.useRef)(e);return s[0]!==e?(n=()=>{c.current=e},a=[e],s[0]=e,s[1]=n,s[2]=a):(n=s[1],a=s[2]),(0,d.useEffect)(n,a),s[3]!==t?(i=()=>{if(t>0)return l.current=window.setInterval(()=>c.current(),t),()=>window.clearInterval(l.current)},o=[t],s[3]=t,s[4]=i,s[5]=o):(i=s[4],o=s[5]),(0,d.useEffect)(i,o),l}},22469:(e,t,n)=>{n.d(t,{s:()=>CopilotImageAttacher});var r=n(38007),a=n(22069),i=n(31971),o=n(53850),s=n(7324);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c=["image/gif","image/jpeg","image/png","image/webp"];let CopilotImageAttacher=class CopilotImageAttacher{static getAllowedImageFileExtensions(e){return this.getFileExtensions(e).join(",")}static isTypeAllowed(e,t){return e=e.toLowerCase(),this.getMimeTypes(t).includes(e)}static getAllowedFiles(e,t){let[n,r]=e.reduce(([e,n],r)=>this.isTypeAllowed(r.type,t)?[[...e,r],n]:[e,[...n,r]],[[],[]]);return[n,r]}static getAttachmentLimit(){return i.W.attachMultipleImages?4:1}static getAttachmentSizeLimit(){return i.W.dotcomChatFileUpload?3932160:512e3}static makeImageReference(e,t){let n,r=crypto.randomUUID();return i.W.dotcomChatFileUpload&&(n=new s.N(r,e,t)),n||(n=new s.J(r,e)),{id:r,attachment:n,type:"image",name:e.name||"Image"}}static getFileExtensions(e){if(Array.isArray(e))return Array.from(new Set(e.flatMap(e=>this.getFileExtensions(e))));let t=this.getMimeTypes(e).map(e=>`.${e.split("/")[1]}`);return t.includes(".jpeg")&&t.push(".jpg"),t}static getMimeTypes(e){return Array.isArray(e)?Array.from(new Set(e.flatMap(e=>this.getMimeTypes(e)))):e.capabilities.limits.vision?e.capabilities.limits.vision.supported_media_types.filter(e=>c.includes(e)):[]}async addImageAttachments(e,t="unknown",n,s=!1){if(0===e.length)return[];let l=null,c=this.state.selectedThreadID,d=this.manager.getPendingThreadId(n),u=i.W.visionSkipThreadCreate;if(n&&!c&&d&&(c=d),!c&&i.W.dotcomChatFileUpload&&!u)try{c=(l=await this.manager.createThread(n,s)).id}catch(t){let e="An error occurred creating the thread. Sending a single message should create a new thread.";throw t instanceof Error&&(e||(e=t.message)),this.manager.addAmbientError(e),Error(e)}let m=this.state.currentReferences.filter(e=>"image"===e.type).length,h=CopilotImageAttacher.getAttachmentLimit();if(m+e.length>h){let e=i.W.attachMultipleImages?`You can add up to ${h} image files per message.`:"Only one image can be uploaded at a time";return this.manager.addAmbientError(e),(0,o.d)("file_limit_reached"),[]}let p=i.W.dotcomChatFileUpload,f=`Only images below ${p?"3.75MB":"500KB"} are supported${p?"":" during this preview period"}`,g=[],y=[];for(let n of e){if(!CopilotImageAttacher.isTypeAllowed(n.type,this.state.model))return(0,o.d)("included_unsupported_file",{fileTypes:n.type,uploadType:t}),[];if(n.size>CopilotImageAttacher.getAttachmentSizeLimit())return this.manager.addAmbientError(f),(0,o.d)("size_limit_exceeded",{size:n.size}),[];if(null==c&&!u)throw this.manager.addAmbientError("Please manually create a thread before uploading an image"),Error("ThreadID resolution for image attachment is not functioning properly");let e=CopilotImageAttacher.makeImageReference(n,c);if(this.state.model.id.startsWith("claude")&&this.state.model.capabilities.supports.vision){let t=await e.attachment.getDimensions();if(t.width&&t.height&&(t.width>8e3||t.height>8e3)){this.manager.addAmbientError("The image you uploaded exceeds the maximum allowed dimensions for Claude models. Please try again with another model."),(0,o.d)("dimension_limit_exceeded",{width:t.width,height:t.height});continue}}let r=(0,a.Vc)(n.name);this.manager.addReference(r,"image-attacher"),0===y.length&&this.manager.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!0}),y.push({file:n,placeholder:r,reference:e})}return await Promise.all(y.map(async({file:e,placeholder:n,reference:a})=>{try{l&&await a.attachment.prefetch(),this.manager.setImageAttachmentUploaded(a.id,a.attachment),this.manager.replaceReference(n,a),(0,r.BI)("dotcom_chat.vision.image_added",{uploadType:t}),g.push(a)}catch(r){this.manager.removeReference(n);let t="An unexpected error occurred while reading the file";if("string"==typeof r)throw this.manager.addAmbientError(`An error occurred uploading the attachment ${e.name}`),(0,o.d)("ErrorString",{message:r}),Error(r);if(r instanceof Error)if((0,o.d)(r.name,{message:r.message}),"FileSizeError"===r.name)this.manager.addAmbientError(f);else if("GenericServerError"===r.name&&r.message.includes("Error creating policy"))this.manager.addAmbientError(t);else throw this.manager.addAmbientError(t),r;else throw this.manager.addAmbientError(t),r}})).finally(()=>{this.manager.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!1})}),s&&n&&l&&this.manager.setPendingThreadId(l.id,n),g}constructor(e,t){l(this,"state",void 0),l(this,"manager",void 0),this.state=e,this.manager=t}}},86571:(e,t,n)=>{n.d(t,{E:()=>CopilotTextAttacher,x:()=>s});var r=n(38007),a=n(22069),i=n(65011);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s="application/x.clipboard",l=/^\s*`?([\w-_]{3,40}\.\w{1,10})`?\s*$/;let CopilotTextAttacher=class CopilotTextAttacher{static async isAttachable(e){if(e.size>CopilotTextAttacher.getAttachmentSizeLimit())return!1;let t=await e.text();return CopilotTextAttacher.isPlainText(t)}static getTextFileExtensions(){return CopilotTextAttacher.fileExtensionsCache??(CopilotTextAttacher.fileExtensionsCache=Object.values(i.r4).flatMap(e=>e.extensions??[]).filter(e=>"stl"!==e).join(","))}static getAttachmentSizeLimit(){return 512e3}static isPlainText(e){let t=Math.min(e.length,1e3),n=0,r=0;for(let a=0;a<t;a++){let t=e.charCodeAt(a);0===t?n++:(t<32||t>126)&&r++}let a=n/t,i=r/t;return a<=.1&&i<=.2}async makeReference(e,t){let n=await e.text(),r=e.name||(t?await t:await this.generateFileName(n,e.type));return this.makeReferenceSync(n,r)}makeReferenceSync(e,t){let n=t.split(".").pop();return(0,r.BI)("copilot.attach_pasted_file",{extension:n,characters:e.length}),{type:"thread-scoped-file",name:t,text:e,language:""}}async addAttachment(e,t,n){let r;if(e.size>CopilotTextAttacher.getAttachmentSizeLimit())return void this.manager.addAmbientError("Attached text files must be smaller than 500KB");let i=await e.text();if(!CopilotTextAttacher.isPlainText(i))return void this.manager.addAmbientError(`"${e.name}" has an unsupported file type. Please try again with a plain text file`);if(n)r=this.makeReferenceSync(i,n),this.manager.addReference(r,"text-attacher");else{let n=(0,a.Vc)(e.name);this.manager.addReference(n,"text-attacher"),this.manager.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!0});try{r=await this.makeReference(e,t),this.manager.replaceReference(n,r)}catch{this.manager.addAmbientError("Failed to process file. Please try again."),this.manager.removeReference(n)}finally{this.manager.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!1})}}return r}async generateFileName(e,t){let n=this.existingFileNames.size>0?`

Follow the naming formats used by these existing files: ${Array.from(this.existingFileNames).slice(0,5).join(", ")}`:"",a=await this.manager.service.getSimpleCompletion(`Return a suitable filename for the following file contents.
      Follow the file naming conventions of the language and do not include any special characters except for period, underscore or hyphens.
      Try to limit the name to 20 characters or less.
      You MUST include the file extension. Include only the filename in your response and nothing else.${n}

File contents:
\`\`\`
${e}
\`\`\`
`),i=a.ok?l.exec(a.payload)?.[1]:null;return i?(0,r.BI)("copilot.generate_pasted_file_name.success"):(0,r.BI)("copilot.generate_pasted_file_name.failure"),this.uniqueFileName(i??this.defaultFileName(t))}uniqueFileName(e){if(!this.existingFileNames.has(e))return e;let t=e.lastIndexOf("."),n=t>0&&t<e.length-1,r=n?e.substring(0,t):e,a=n?e.substring(t):"",i=2;for(;this.existingFileNames.has(`${r}${i}${a}`);)i++;return`${r}${i}${a}`}defaultFileName(e){return e===s?"pasted.txt":"untitled.txt"}constructor(e,t=new Set){o(this,"manager",void 0),o(this,"existingFileNames",void 0),this.manager=e,this.existingFileNames=t}};o(CopilotTextAttacher,"fileExtensionsCache",void 0)},26268:(e,t,n)=>{n.d(t,{Q:()=>o});let r=/^@(?<repo>[\w-.]+\/[\w-.]+)(?:\/(?<type>\w+)\/(?<id>.+))?$/,a=/^@(?<id>[a-zA-Z0-9_.-]+)$/,i={fromUrlType(e){switch(e){case"issues":return"issue";case"pull":return"pull-request";case"discussions":return"discussion";case"blob":case"tree":return"file";case void 0:return"repository"}},fromMentionType(e){switch(e){case"issues":return"issue";case"pull":return"pull-request";case"discussions":return"discussion";case"files":return"file";case void 0:return"repository"}}},o={fromUrl(e){let t;try{t=new URL(e)}catch{return}if(t.hostname!==window.location.hostname)return;let[,n,r,a,...o]=t.pathname.split("/"),s=o.join("/"),l=i.fromUrlType(a);if(n&&r&&l)return{repo:`${n}/${r}`,type:s?l:"repository",id:s}},stringify(e){switch(e.type){case"issue":return`@${e.repo}/issues/${e.id??""}`;case"pull-request":return`@${e.repo}/pull/${e.id??""}`;case"discussion":return`@${e.repo}/discussions/${e.id??""}`;case"repository":return`@${e.repo}`;case"file":return`@${e.repo}/files/${e.id??""}`;case"thread-scoped-file":return`@${e.id??""}`}},parse(e){let t=r.exec(e)?.groups;if(!t){let t=a.exec(e)?.groups;return t?{repo:"",type:"thread-scoped-file",id:t.id}:void 0}let n=i.fromMentionType(t.type);return n?{repo:t.repo,type:n,id:t.id}:void 0},isEqual:(e,t)=>o.stringify(e)===o.stringify(t),refersTo(e,t){let n=o.for(t);return null!==n&&o.isEqual(e,n)},for:e=>{switch(e.type){case"repository":return{type:"repository",repo:`${e.ownerLogin}/${e.name}`,reference:e};case"issue":return{type:"issue",repo:`${e.repository.owner}/${e.repository.name}`,id:e.number.toString(),reference:e};case"pull-request":return{type:"pull-request",repo:`${e.repository.ownerLogin}/${e.repository.name}`,id:e.number.toString(),reference:e};case"discussion":return{type:"discussion",repo:`${e.repository.owner}/${e.repository.name}`,id:e.number.toString(),reference:e};case"file":case"folder":return{type:"file",repo:`${e.repoOwner}/${e.repoName}`,id:e.path,reference:e};case"thread-scoped-file":return{type:"thread-scoped-file",repo:"",id:e.name,reference:e};default:return null}}}},66889:(e,t,n)=>{n.d(t,{Z:()=>r});function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}},36721:(e,t,n)=>{n.d(t,{U:()=>o});var r=n(39818),a=n(22069),i=n(26268);let o=function({references:e,agents:t}){this.parser=function(n){let o=n.split(/(\s+)/),s=[];for(let[n,l]of o.entries()){let o=0===n&&r.qj.exec(l)?.groups?.slug,c=o&&t.find(e=>e.slug===o);if(c){s.push({type:"agent-mention",value:l,data:{mentionedAgent:c}});continue}let d=i.Q.parse(l),u=d&&e?.find(e=>i.Q.refersTo(d,e));if(d){s.push({type:"reference-mention",value:l,data:{mentionedReferenceId:u&&(0,a.Vb)(u),referenceMention:d}});continue}let m=s.at(-1);m?.type==="text"?m.value+=l:s.push({type:"text",value:l})}return{type:"root",children:s}}}},13897:(e,t,n)=>{n.d(t,{O:()=>i,_:()=>o});var r=n(47970),a=n(39818);function i(e){let t=new Set;return(0,r.YR)(e,e=>{"reference-mention"===e.type&&void 0!==e.data.mentionedReferenceId&&t.add(e.data.mentionedReferenceId)}),t}function o(e){return a.qj.test(e.split(/\s/)[0]??"")}},68714:(e,t,n)=>{n.d(t,{$7:()=>d,Ao:()=>h,BV:()=>f,OW:()=>CopilotSpaceSSOError,Tx:()=>p,e9:()=>u,i9:()=>CopilotSpaceNotFoundError,jS:()=>m});var r=n(97665),a=n(94747),i=n(97286),o=n(29255),s=n(47397),l=n(96540),c=n(34901);let CopilotSpaceNotFoundError=class CopilotSpaceNotFoundError extends Error{constructor(e="Copilot Space not found"){super(e),this.name="CopilotSpaceNotFoundError"}};let CopilotSpaceSSOError=class CopilotSpaceSSOError extends Error{constructor(e,t="Copilot Space SSO error"){super(t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"protectedOrganizations",void 0),this.protectedOrganizations=e,this.name="CopilotSpaceSSOError"}};function d(){let e=(0,r.jE)();return(0,a.n)({mutationFn:async e=>{let t=await (0,o.ee)(e);if(!t.ok)throw Error(String(t.error));return{status:t.status,ok:!0,payload:t.payload}},onSuccess:async()=>{await e.invalidateQueries({queryKey:o.O6})}})}function u(e){let t=(0,s.b)(),{data:n}=m(e);(0,l.useEffect)(()=>{n&&t.dispatch({type:"SET_CUSTOM_COPILOTS",customCopilots:n})},[n,t])}function m(e){return(0,i.I)({queryKey:o.O6,queryFn:o.CT,enabled:e,staleTime:3e5})}function h(e){return(0,i.I)({queryKey:(0,o.dp)(e),queryFn:async()=>{let t=await (0,o.Lr)(e);if(!t.ok){if(404===t.status)throw new CopilotSpaceNotFoundError;throw Error(t.error)}if(void 0===t.payload.id)throw new CopilotSpaceSSOError(t.payload.protectedOrganizations);return t.payload},enabled:!!e})}function p(e,t){return(0,i.I)({queryKey:["visibility-settings",e,t],queryFn:async()=>(0,o.A2)({owner:e,id:t}),enabled:""!==e&&-1!==t,staleTime:3e5})}function f(){return(0,c.A3)("customCopilotsEnabled")}},88334:(e,t,n)=>{n.d(t,{I:()=>o});var r=n(34901),a=n(55206),i=n(68714);function o(){let{threads:e}=(0,r.Pk)(),t=Array.from(e.values()).sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime()).map(e=>(0,a.O)(e)).filter(e=>null!==e),n=(0,i.jS)(!0),{data:o}=n;if(void 0===o)return n;let s=new Set,l=[...t.map(e=>o.find(t=>e.id===t.id&&e.owner===t.owner)).filter(e=>{if(void 0===e)return!1;let t=`${e.owner}:${e.id}`;return!s.has(t)&&(s.add(t),!0)}),...[...o].sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime()).filter(e=>{let t=`${e.owner}:${e.id}`;return!s.has(t)})].slice(0,5);return{...n,data:l}}},24001:(e,t,n)=>{n.d(t,{C:()=>o});var r=n(7777),a=n(80597),i=n(96540);function o(){let e=(0,a.G)(),{selectedCopilotSpaceId:t,setSelectedCopilotSpaceId:n,selectedThreadId:o}=(0,r.O)(),s=!!o||!!e;(0,i.useEffect)(()=>{n(e||void 0)},[e,n]);let l=t||e,c=(0,i.useCallback)(e=>{s||n({id:e.id,owner:e.owner})},[n,s]),d=(0,i.useCallback)(()=>{s||n(void 0)},[n,s]);return{activeCopilotSpaceId:l,readOnly:s,handleSpaceSelect:c,clearSpaceSelection:d}}},29255:(e,t,n)=>{n.d(t,{A2:()=>m,CT:()=>c,Lr:()=>d,O6:()=>s,dp:()=>l,ee:()=>u});var r=n(22069),a=n(6901),i=n(60039);let o="/github-copilot/chat",s=["copilot-chat","custom-copilots"];function l(e){return e?["copilot-chat","custom-copilot",{id:e.id,owner:e.owner}]:["copilot-chat","custom-copilot",null]}async function c(){let e=await (0,i.lS)(`${o}/custom_copilots`);if(!e.ok)throw Error(`Failed to fetch spaces: ${r.nN[e.status]||r.DW}`);return await e.json()}async function d(e){if(!e||!e.owner)return{status:500,ok:!1,error:"unexpected null custom copilot id or missing owner"};let{owner:t,id:n}=e,a=`${o}/custom_copilots/${t}/${n}`,s=await (0,i.lS)(a);if(!s.ok)return{status:s.status,ok:!1,error:r.nN[s.status]||r.DW};let l=await s.json();return{status:s.status,ok:!0,payload:l}}async function u(e){let t=await (0,i.lS)((0,a.fn)(e),{method:"DELETE"});return t.ok?{status:t.status,ok:!0,payload:null}:t}async function m(e){let t=await (0,i.lS)(`${(0,a.fn)(e)}/settings/visibility`);if(!t.ok)throw Error("Error fetching visibility settings");try{let e=await t.json();return{memberCount:e.member_count&&"number"==typeof e.member_count?e.member_count:null}}catch(e){throw Error(`Error parsing visibility settings: ${e}`)}}},39627:(e,t,n)=>{n.d(t,{D:()=>i,Y:()=>o});var r=n(52811),a=n(96679);function i(e){if(!a.XC)return;let t=a.XC.querySelector("title"),n=a.XC.createElement("title");n.textContent=e,t?t.textContent!==e&&(t.replaceWith(n),(0,r.i)(e)):(a.XC.head.appendChild(n),(0,r.i)(e))}function o(e){return document.body.classList.contains("logged-out")?`${e} \xb7 GitHub`:e}},26559:(e,t,n)=>{n.d(t,{jC:()=>l,kt:()=>o,tV:()=>s});var r=n(53005),a=n(27851),i=n(88191);function o(e){let t={"X-Requested-With":"XMLHttpRequest",...(0,i.wE)(e)};return(0,a.G7)("client_version_header")&&(t={...t,[r.S]:(0,r.O)()}),t}function s(e,t){for(let[n,r]of Object.entries(o(t)))e.set(n,r)}function l(e){return{"X-GitHub-App-Type":e}}},88191:(e,t,n)=>{n.d(t,{$r:()=>o,M1:()=>s,li:()=>a,pS:()=>c,wE:()=>l});var r=n(96679);let a="X-Fetch-Nonce",i=new Set;function o(e){i.add(e)}function s(){return i.values().next().value||""}function l(e){let t={};return void 0!==e&&(t["X-Fetch-Nonce-To-Validate"]=e),void 0===e?t[a]=s():i.has(e)?t[a]=e:t[a]=Array.from(i).join(","),t}function c(){let e=r.XC?.head?.querySelector('meta[name="fetch-nonce"]')?.content||"";e&&o(e)}},66871:(e,t,n)=>{n.d(t,{C3:()=>s,JV:()=>a,K3:()=>u,MM:()=>l,OE:()=>m,Zu:()=>d,bj:()=>i,jc:()=>c,kd:()=>o});var r=n(96679);function a(){return r.Kn?.state||{}}function i(e){h(a(),"",e)}function o(e){r.Kn?.pushState({appId:a().appId},"",e),p()}function s(e){h({...a(),...e},"",location.href)}function l(e){i(`?${e.toString()}${r.fV.hash}`)}function c(){i(r.fV.pathname+r.fV.hash)}function d(e){i(e.startsWith("#")?e:`#${e}`)}function u(){i(r.fV.pathname+r.fV.search)}function m(){r.Kn?.back()}function h(e,t,n){r.Kn?.replaceState(e,t,n),p()}function p(){r.cg?.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}},13233:(e,t,n)=>{n.d(t,{l:()=>r});let r=()=>void 0},7531:(e,t,n)=>{n.d(t,{Y:()=>r});function r(){let e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}},41764:(e,t,n)=>{n.d(t,{A:()=>s});let{getItem:r,setItem:a,removeItem:i}=(0,n(85351).A)("localStorage"),o="REACT_PROFILING_ENABLED",s={enable:()=>a(o,"true"),disable:()=>i(o),isEnabled:()=>!!r(o)}},46320:(e,t,n)=>{n.d(t,{Kq:()=>SoftNavErrorEvent,RQ:()=>SoftNavEndEvent,gh:()=>SoftNavPayloadEvent,ni:()=>SoftNavSuccessEvent,sW:()=>SoftNavStartEvent});var r=n(21715);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let i=class SoftNavEvent extends Event{constructor(e,t){super(t),a(this,"mechanism",void 0),this.mechanism=e}};let SoftNavStartEvent=class SoftNavStartEvent extends i{constructor(e){super(e,r.z.START)}};let SoftNavSuccessEvent=class SoftNavSuccessEvent extends i{constructor(e,t){super(e,r.z.SUCCESS),a(this,"visitCount",void 0),this.visitCount=t}};let SoftNavErrorEvent=class SoftNavErrorEvent extends i{constructor(e,t){super(e,r.z.ERROR),a(this,"error",void 0),this.error=t}};let SoftNavEndEvent=class SoftNavEndEvent extends i{constructor(e){super(e,r.z.END)}};let SoftNavPayloadEvent=class SoftNavPayloadEvent extends Event{constructor(e){super("soft-nav:payload"),a(this,"payload",void 0),a(this,"appPayload",void 0),this.payload=e.payload,this.appPayload=e.appPayload}}},97396:(e,t,n)=>{n.d(t,{Bu:()=>p,SC:()=>c,Ti:()=>m,iS:()=>d,k5:()=>l,o4:()=>u,rZ:()=>h});var r=n(21715),a=n(46320),i=n(7522),o=n(78284);let s=0;function l(){s=0,document.dispatchEvent(new Event(r.z.INITIAL)),(0,o.xT)()}function c(e){(0,o.LM)()||(document.dispatchEvent(new Event(r.z.PROGRESS_BAR.START)),document.dispatchEvent(new a.sW(e)),(0,o.Vy)(e),(0,o.ZW)(),(0,o.HK)(),(0,i.E5)())}function d(e={}){g(e)&&(s+=1,document.dispatchEvent(new a.ni((0,o.di)(),s)),m(e))}function u(e={}){if(!g(e))return;s=0;let t=(0,o.my)()||o.BW;document.dispatchEvent(new a.Kq((0,o.di)(),t)),f(),(0,i.Cd)(t),(0,o.xT)()}function m(e={}){if(!g(e))return;let t=(0,o.di)();f(),document.dispatchEvent(new a.RQ(t)),(0,o.Ff)(),(0,o.JA)(t)}function h(e={}){g(e)&&((0,i.Im)(),document.dispatchEvent(new Event(r.z.RENDER)))}function p(){document.dispatchEvent(new Event(r.z.FRAME_UPDATE))}function f(){document.dispatchEvent(new Event(r.z.PROGRESS_BAR.END))}function g({skipIfGoingToReactApp:e,allowedMechanisms:t=[]}={}){return(0,o.LM)()&&(0===t.length||t.includes((0,o.di)()))&&(!e||!(0,o.gc)())}},21715:(e,t,n)=>{n.d(t,{z:()=>r});let r=Object.freeze({INITIAL:"soft-nav:initial",START:"soft-nav:start",REPLACE_MECHANISM:"soft-nav:replace-mechanism",SUCCESS:"soft-nav:success",ERROR:"soft-nav:error",FRAME_UPDATE:"soft-nav:frame-update",END:"soft-nav:end",RENDER:"soft-nav:render",PROGRESS_BAR:{START:"soft-nav:progress-bar:start",END:"soft-nav:progress-bar:end"}})},7522:(e,t,n)=>{n.d(t,{Cd:()=>l,E5:()=>s,Im:()=>c,nW:()=>o});var r=n(7479),a=n(78284);let i="stats:soft-nav-duration",o={turbo:"TURBO",react:"REACT","turbo.frame":"FRAME",ui:"UI",hard:"HARD"};function s(){window.performance.clearResourceTimings(),window.performance.mark(i)}function l(e){(0,r.i)({turboFailureReason:e,turboStartUrl:(0,a.dR)(),turboEndUrl:window.location.href})}function c(){let e=function(){if(0===performance.getEntriesByName(i).length)return null;performance.measure(i,i);let e=performance.getEntriesByName(i).pop();return e?e.duration:null}();if(!e)return;let t=o[(0,a.di)()],n=Math.round(e);t===o.react&&document.dispatchEvent(new CustomEvent("staffbar-update",{detail:{duration:n}})),(0,r.i)({requestUrl:window.location.href,softNavigationTiming:{mechanism:t,destination:(0,a.fX)()||"rails",duration:n,initiator:(0,a.Pv)()||"rails"}})}},64899:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(17515),a=n(96540);function i(){let e=(0,a.useRef)(!1),t=(0,a.useCallback)(()=>e.current,[]);return(0,r.N)(()=>(e.current=!0,()=>{e.current=!1}),[]),t}},17515:(e,t,n)=>{n.d(t,{N:()=>i});var r=n(96679),a=n(96540);let i=void 0!==r.cg?.document?.createElement?a.useLayoutEffect:a.useEffect},47019:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(64899),a=n(96540);let i=function(e){let t=(0,r.A)(),[n,i]=(0,a.useState)(e);return[n,(0,a.useCallback)(e=>{t()&&i(e)},[t])]}},26033:(e,t,n)=>{n.d(t,{y:()=>o});var r=n(74848),a=n(21728),i=n(78924);function o(e){let t,n,o,s=(0,a.c)(7),{children:l,appName:c,category:d,metadata:u}=e;return s[0]!==c||s[1]!==d||s[2]!==u?(n={appName:c,category:d,metadata:u},s[0]=c,s[1]=d,s[2]=u,s[3]=n):n=s[3],t=n,s[4]!==l||s[5]!==t?(o=(0,r.jsx)(i.I.Provider,{value:t,children:l}),s[4]=l,s[5]=t,s[6]=o):o=s[6],o}try{o.displayName||(o.displayName="AnalyticsProvider")}catch{}},75718:(e,t,n)=>{n.d(t,{P:()=>c});var r=n(74848),a=n(21728),i=n(95726),o=n(96540),s=n(47397);let l={ambientErrorBanner:"AmbientErrorBanner-module__ambientErrorBanner--iXbHt",largeBorderRadius:"AmbientErrorBanner-module__largeBorderRadius--Qk23B",mediumBorderRadius:"AmbientErrorBanner-module__mediumBorderRadius--dREtI"};function c(e){let t,n,c,u,m,h,p=(0,a.c)(14),{ambientError:f,useLargerBorderRadius:g}=e,y=(0,s.b)(),[x,v]=(0,o.useState)(0),b=void 0!==g&&g?l.largeBorderRadius:l.mediumBorderRadius,_=(0,o.useRef)(null);p[0]!==f.message?(t=()=>{if(f.message){v(d);let e=setTimeout(()=>{_.current&&_.current.focus()},250);return()=>clearTimeout(e)}},p[0]=f.message,p[1]=t):t=p[1],p[2]!==f?(n=[f],p[2]=f,p[3]=n):n=p[3],(0,o.useEffect)(t,n);let C=`${l.ambientErrorBanner} ${b}`;return p[4]===Symbol.for("react.memo_cache_sentinel")?(c={outline:"none"},p[4]=c):c=p[4],p[5]!==f.message?(u=(0,r.jsx)("div",{ref:_,tabIndex:-1,style:c,children:f.message}),p[5]=f.message,p[6]=u):u=p[6],p[7]!==y?(m=()=>{y.dismissAmbientError()},p[7]=y,p[8]=m):m=p[8],p[9]!==x||p[10]!==C||p[11]!==u||p[12]!==m?(h=(0,r.jsx)(i.l,{"aria-atomic":"true",className:C,description:u,variant:"critical",title:"Error during copilot chat has occurred.",hideTitle:!0,onDismiss:m},x),p[9]=x,p[10]=C,p[11]=u,p[12]=m,p[13]=h):h=p[13],h}function d(e){return e+1}try{c.displayName||(c.displayName="AmbientErrorBanner")}catch{}},97785:(e,t,n)=>{n.d(t,{o:()=>d});var r=n(74848),a=n(21728),i=n(34164),o=n(96540);let s={chatImageAttachment:"ChatImage-module__chatImageAttachment--A31NV",squareView:"ChatImage-module__squareView--z0mEJ",fullView:"ChatImage-module__fullView--n3xkp",userAttachedImage:"ChatImage-module__userAttachedImage--fpKCB",overlay:"ChatImage-module__overlay--KqENn",overlayScreen:"ChatImage-module__overlayScreen--QlNhZ",expandIcon:"ChatImage-module__expandIcon--B0sBN"};function l(e){let t,n,i=(0,a.c)(5),{className:o,size:s}=e,l=s||14,c=s||14;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.672 5.342a.8.8 0 0 0 .05-.295V.805a.75.75 0 0 0-.75-.75H8.73a.75.75 0 0 0 0 1.5h2.433L8.138 4.577A.75.75 0 0 0 9.2 5.638l3.024-3.023v2.432a.75.75 0 0 0 1.45.295M.328 8.657a.8.8 0 0 0-.05.295v4.243a.75.75 0 0 0 .75.75h4.243a.75.75 0 0 0 0-1.5H2.838l3.024-3.023A.75.75 0 1 0 4.8 8.362l-3.024 3.023V8.952a.75.75 0 0 0-1.45-.295",clipRule:"evenodd"}),i[0]=t):t=i[0],i[1]!==o||i[2]!==l||i[3]!==c?(n=(0,r.jsx)("svg",{className:o,xmlns:"http://www.w3.org/2000/svg",width:l,height:c,fill:"none",viewBox:"0 0 14 14",role:"presentation",children:t}),i[1]=o,i[2]=l,i[3]=c,i[4]=n):n=i[4],n}try{l.displayName||(l.displayName="ExpandIcon")}catch{}let c=e=>{let t,n,c,d,u,m,h,p,f,g=(0,a.c)(25),{src:y,alt:x,onClick:v,useOverlay:b,mode:_,squareView:C}=e,[S,w]=(0,o.useState)(!1),j=C?s.squareView:s.fullView,N="assistive"===_;g[0]!==j||g[1]!==N?(t=(0,i.$)(s.chatImageAttachment,j,{assistive:N}),g[0]=j,g[1]=N,g[2]=t):t=g[2];let I=C?s.squareView:s.fullView;return g[3]!==I?(n=(0,i.$)(s.userAttachedImage,I),g[3]=I,g[4]=n):n=g[4],g[5]!==x||g[6]!==y||g[7]!==n?(c=(0,r.jsx)("img",{className:n,src:y,alt:x}),g[5]=x,g[6]=y,g[7]=n,g[8]=c):c=g[8],g[9]!==S||g[10]!==C?(d=(0,i.$)(s.overlay,{hovered:S,[s.squareView]:C}),g[9]=S,g[10]=C,g[11]=d):d=g[11],g[12]===Symbol.for("react.memo_cache_sentinel")?(u=()=>w(!0),m=()=>w(!1),g[12]=u,g[13]=m):(u=g[12],m=g[13]),g[14]!==b?(h=b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:s.overlayScreen}),(0,r.jsx)(l,{className:s.expandIcon,size:20})]}),g[14]=b,g[15]=h):h=g[15],g[16]!==v||g[17]!==y||g[18]!==h||g[19]!==d?(p=(0,r.jsx)("a",{href:y,className:d,onClick:v,onMouseEnter:u,onMouseLeave:m,"aria-label":"Open image thumbnail",target:"_blank",rel:"noreferrer",children:h}),g[16]=v,g[17]=y,g[18]=h,g[19]=d,g[20]=p):p=g[20],g[21]!==p||g[22]!==t||g[23]!==c?(f=(0,r.jsxs)("div",{className:t,children:[c,p]}),g[21]=p,g[22]=t,g[23]=c,g[24]=f):f=g[24],f},d=(0,o.memo)(c);try{c.displayName||(c.displayName="ChatImageUnmemoized")}catch{}try{d.displayName||(d.displayName="ChatImage")}catch{}},71110:(e,t,n)=>{n.d(t,{V:()=>nt});var r,a,i=n(74848),o=n(21728),s=n(38007),l=n(85647),c=n(10569),d=n(15385),u=n(96540),m=n(44446),h=n(68714),p=n(88334),f=n(24001),g=n(22069),y=n(34164);let x={toggleButton:"ToggleButton-module__toggleButton--Is6Ni",selected:"ToggleButton-module__selected--U03b1",icon:"ToggleButton-module__icon--tnvqW",textContent:"ToggleButton-module__textContent--xvwFK"},v=(0,u.forwardRef)((e,t)=>{let n,r,a,s,l,c,d,u=(0,o.c)(21),{icon:m,isSelected:h,onClick:p,hasMenu:f,isMenuOpen:g,selectedItemLabel:v,children:b}=e,_=void 0!==h&&h,C=void 0!==f&&f,S=void 0!==g&&g;u[0]!==C||u[1]!==S||u[2]!==_?(n=()=>C?{"aria-haspopup":"menu","aria-expanded":S}:{"aria-pressed":_},u[0]=C,u[1]=S,u[2]=_,u[3]=n):n=u[3];let w=n,j=C&&v?v:b;u[4]!==p?(r=e=>{p&&p(e)},u[4]=p,u[5]=r):r=u[5];let N=r,I=_&&x.selected;return u[6]!==I?(a=(0,y.$)(x.toggleButton,I),u[6]=I,u[7]=a):a=u[7],u[8]!==w?(s=w(),u[8]=w,u[9]=s):s=u[9],u[10]!==m?(l=m&&(0,i.jsx)("span",{className:x.icon,children:m}),u[10]=m,u[11]=l):l=u[11],u[12]!==j?(c=(0,i.jsx)("span",{className:x.textContent,children:j}),u[12]=j,u[13]=c):c=u[13],u[14]!==N||u[15]!==t||u[16]!==c||u[17]!==a||u[18]!==s||u[19]!==l?(d=(0,i.jsxs)("button",{ref:t,type:"button",className:a,onClick:N,...s,children:[l,c]}),u[14]=N,u[15]=t,u[16]=c,u[17]=a,u[18]=s,u[19]=l,u[20]=d):d=u[20],d});function b(){let[e,t]=(0,u.useState)(!1),n=(0,l.Zp)(),{handleSpaceSelect:r,clearSpaceSelection:a,activeCopilotSpaceId:o,readOnly:y}=(0,f.C)(),x=()=>{n(g.QT),(0,s.BI)("dotcom_chat.activate",{target:"SPACES_INPUT_CREATE_SPACE",mode:"immersive"})},b=e=>{o&&e.id===o.id&&e.owner===o.owner?a():(r({id:e.id,owner:e.owner}),(0,s.BI)("dotcom_chat.activate",{target:"SPACES_INPUT_SELECT_SPACE",space:`${e.owner}/${e.id}`})),t(!1)},{data:_=[]}=(0,p.I)(),{data:C=[]}=(0,h.jS)(!0);if(!(0,h.BV)()||y)return;let S=o?C.find(e=>e.id===o.id&&e.owner===o.owner):void 0,w=S?S.name:"Space";return(0,i.jsxs)(c.W,{open:e,onOpenChange:t,children:[(0,i.jsx)(c.W.Anchor,{children:(0,i.jsx)(v,{icon:(0,i.jsx)(m.I,{icon:"spaces"}),isSelected:!!S,onClick:()=>{},hasMenu:!0,isMenuOpen:e,selectedItemLabel:w,children:w})}),(0,i.jsx)(c.W.Overlay,{style:_.length>0?{width:"260px"}:{},children:(0,i.jsx)(d.l,{selectionVariant:"single",role:"menu","aria-label":"Select a space",children:_.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.l.Group,{children:[(0,i.jsx)(d.l.GroupHeading,{children:"Recent"}),_.map(e=>{let t=!!o&&e.id===o.id&&e.owner===o.owner;return(0,i.jsx)(d.l.Item,{role:"menuitemradio",onSelect:()=>b(e),selected:t,"aria-checked":t,children:(0,i.jsx)("span",{children:e.name})},`${e.owner}, ${e.id}`)})]}),(0,i.jsx)(d.l.Divider,{}),(0,i.jsx)(d.l.Item,{onSelect:x,children:"Create a space"})]}):(0,i.jsx)(d.l.Item,{onSelect:x,children:"Create your first space"})})})]})}v.displayName="ToggleButton";try{b.displayName||(b.displayName="SpacesSelect")}catch{}var _=n(98386),C=n(42080),S=n(99837),w=n(38621),j=n(65556),N=n(55847),I=n(94747),T=n(60039),R=n(7277),k=n(47970),A=n(34901),E=n(47397),M=n(26268),P=n(36721);let L=e=>{switch(e){case"issue":return"issue";case"pull-request":return"pull_request";case"discussion":return"discussion";case"thread-scoped-file":case"file":return"file"}},F=/^(?:https:\/\/)?(?:www\.)?(figma\.com\/.+)$/,$=class FigmaNotAuthorizedError extends Error{constructor(){super(),this.name="FigmaNotAuthorizedError"}};async function B(e){let t=await (0,T.lS)(`/copilot/immersive/figma-link?item_url=${e}`);if(!t.ok){if(403===t.status)throw new $;throw Error(`Failed to fetch Figma reference data (${t.status}: ${t.statusText})`)}return await t.json()}async function D(e){let{itemUrl:t}=e,n=await (0,T.lS)(`/copilot/chat-links?item_url=${t}`);if(!n.ok)throw Error(`Failed to fetch reference data (${n.status}: ${n.statusText})`);return await n.json()}var O=n(17515),U=n(74244),z=n(44435);let q=({manager:e})=>[{label:"Delete conversation",command:"delete",icon:w.TrashIcon,requiresParams:!1,action:async(t,n)=>{e.dispatch({type:"SLASH_COMMANDS_LOADING"});try{let t=(0,z.W)(n);if(!t)throw Error("Thread not found");await e.deleteThread(t),(0,s.BI)("dotcom_chat.activate",{target:"SLASH_COMMAND_DELETE_THREAD",mode:n.mode}),e.dispatch({type:"SLASH_COMMANDS_LOADED"})}catch{e.dispatch({type:"SLASH_COMMANDS_ERROR"})}}},{label:"Rename conversation",command:"rename",icon:w.PencilIcon,requiresParams:!0,action:async(t,n)=>{e.dispatch({type:"SLASH_COMMANDS_LOADING"});try{let r=(0,z.W)(n);if(!r)throw Error("Thread not found");await e.renameThread(r,t),(0,s.BI)("dotcom_chat.activate",{target:"SLASH_COMMAND_RENAME",mode:n.mode}),e.dispatch({type:"SLASH_COMMANDS_LOADED"})}catch{e.dispatch({type:"SLASH_COMMANDS_ERROR"})}}},{label:"Start a new conversation",command:"new",icon:w.PlusIcon,requiresParams:!1,action:async(t,n)=>{e.dispatch({type:"SLASH_COMMANDS_LOADING"});try{await e.selectThread(null),(0,s.BI)("dotcom_chat.activate",{target:"SLASH_COMMAND_NEW_THREAD",mode:n.mode}),e.dispatch({type:"SLASH_COMMANDS_LOADED"})}catch{e.dispatch({type:"SLASH_COMMANDS_ERROR"})}}}],V=async(e,t,n)=>{if((e[0]??"")!=="/")return!1;e=e.substring(1);let r=q({manager:n}).filter(t=>{let n=(e.split(" ",1)[0]??"").toLowerCase().trim();return t.command.toLowerCase().includes(n)});if(1!==r.length)return!1;let a=r[0],i=e.substring(a.command.length).trim();return await a.action(i,t),!0};var H=n(67522);function G(e,t,n){if("immersive"===e&&/^\/copilot(\/agents)?\/?$/.test(t)){let e=n.get("prompt");if(e)return e}}var W=n(54005),K=n(91819),Z=n(31971),Q=n(22469),J=n(53850),X=n(86571),Y=n(6901);let ee=(e,t,n)=>e&&"immersive"===t&&!n;var et=n(80597),en=n(39818),er=n(39459);function ea(e){let t,n,r,a,l,u,m=(0,o.c)(24),{onSelectPanel:h,onSelectAgent:p}=e,{availableAgents:f,showLimit:g,disabled:y,loading:x}=(0,en.JE)(),v=f&&f.length>0;if(x){let e;return m[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsxs)(d.l.Item,{disabled:!0,children:[(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(w.MentionIcon,{})}),"Extension"]}),m[0]=e):e=m[0],e}if(y){let e,t,n;return m[1]!==h?(e=()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION_NOT_SUPPORTED",mode:"immersive"}),h("agents-not-supported")},m[1]=h,m[2]=e):e=m[2],m[3]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(w.MentionIcon,{})}),m[3]=t):t=m[3],m[4]!==e?(n=(0,i.jsxs)(d.l.Item,{onSelect:e,children:[t,"Extension\u2026"]}),m[4]=e,m[5]=n):n=m[5],n}if(!v){let e,t,n;return m[6]!==h?(e=()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION_NOT_AVAILABLE",mode:"immersive"}),h("no-agents-available")},m[6]=h,m[7]=e):e=m[7],m[8]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(w.MentionIcon,{})}),m[8]=t):t=m[8],m[9]!==e?(n=(0,i.jsxs)(d.l.Item,{onSelect:e,children:[t,"Extension\u2026"]}),m[9]=e,m[10]=n):n=m[10],n}if(m[11]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(c.W.Anchor,{children:(0,i.jsxs)(d.l.Item,{onSelect:eo,children:[(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(w.MentionIcon,{})}),"Extension"]})}),m[11]=t):t=m[11],m[12]!==f||m[13]!==p||m[14]!==g){let e;m[16]!==p||m[17]!==g?(e=e=>(0,i.jsxs)(d.l.Item,{onSelect:()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION_SELECTED",mode:"immersive"}),p(e)},children:[(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(er.r,{src:e.avatarUrl})}),e.name,!g&&(0,i.jsxs)(d.l.Description,{variant:"inline",truncate:!0,children:[en.Z3,e.slug]}),g&&(0,i.jsx)(d.l.Description,{variant:"block",children:"Start a new conversation to use other extensions."})]},e.slug),m[16]=p,m[17]=g,m[18]=e):e=m[18],n=f.map(e),m[12]=f,m[13]=p,m[14]=g,m[15]=n}else n=m[15];return m[19]===Symbol.for("react.memo_cache_sentinel")?(r=(0,i.jsx)(d.l.Divider,{}),m[19]=r):r=m[19],m[20]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(w.TelescopeIcon,{})}),m[20]=a):a=m[20],m[21]===Symbol.for("react.memo_cache_sentinel")?(l=(0,i.jsxs)(d.l.LinkItem,{href:en.bn,onClick:ei,children:[a,"Marketplace",(0,i.jsx)(d.l.TrailingVisual,{children:(0,i.jsx)(w.LinkExternalIcon,{})})]}),m[21]=l):l=m[21],m[22]!==n?(u=(0,i.jsxs)(c.W,{children:[t,(0,i.jsx)(c.W.Overlay,{width:"small",children:(0,i.jsxs)(d.l,{children:[n,r,l]})})]}),m[22]=n,m[23]=u):u=m[23],u}function ei(){(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION_MARKETPLACE",mode:"immersive"})}function eo(){(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION",mode:"immersive"})}try{ea.displayName||(ea.displayName="AgentMenu")}catch{}var es=n(34614),el=n(9852);let ec={AgentsDialogsMainContainer:"AgentsDialogs-module__AgentsDialogsMainContainer--II3RA",dialogContentWrapper:"AgentsDialogs-module__dialogContentWrapper--gIypm",dialogTitle:"AgentsDialogs-module__dialogTitle--sYvdl",dialogDescription:"AgentsDialogs-module__dialogDescription--ylOeG",documentationLinkContainer:"AgentsDialogs-module__documentationLinkContainer--wOVFY",AgentsDialogsAlternateContainer:"AgentsDialogs-module__AgentsDialogsAlternateContainer--mELnh",alertIconContainer:"AgentsDialogs-module__alertIconContainer--bChLB"};function ed(e){let t,n,r=(0,o.c)(4),{onClose:a,returnFocusRef:s}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t={narrow:"fullscreen",regular:"center"},r[0]=t):t=r[0],r[1]!==a||r[2]!==s?(n=(0,i.jsx)(el.l,{width:"large",title:"Extensions",position:t,onClose:a,returnFocusRef:s,renderBody:eu}),r[1]=a,r[2]=s,r[3]=n):n=r[3],n}function eu(){return(0,i.jsx)("div",{className:ec.AgentsDialogsMainContainer,children:(0,i.jsxs)("div",{className:ec.dialogContentWrapper,children:[(0,i.jsx)(w.TelescopeIcon,{size:24}),(0,i.jsx)("h3",{className:ec.dialogTitle,children:"Chat with your favorite tools and services"}),(0,i.jsx)("p",{className:ec.dialogDescription,children:"Browse the marketplace to find extensions for the tools and services you rely on"}),(0,i.jsx)(N.Q,{as:"a",href:en.bn,children:"Browse marketplace"}),(0,i.jsx)("div",{className:ec.documentationLinkContainer,children:(0,i.jsx)(es.A,{href:"https://gh.io/copilot-extensions-docs",children:"Documentation"})})]})})}function em(e){let t,n,r,a=(0,o.c)(9),{onClose:s,returnFocusRef:l}=e,c=(0,E.b)(),d=(0,A.Pk)(),u=(0,h.BV)(),m=(0,H.GF)(d.availableModels);return a[0]===Symbol.for("react.memo_cache_sentinel")?(t={narrow:"fullscreen",regular:"center"},a[0]=t):t=a[0],a[1]!==u||a[2]!==m||a[3]!==c?(n=()=>(0,i.jsx)("div",{className:ec.AgentsDialogsAlternateContainer,children:(0,i.jsxs)("div",{className:ec.dialogContentWrapper,children:[(0,i.jsx)("div",{className:ec.alertIconContainer,children:(0,i.jsx)(w.AlertIcon,{size:24})}),(0,i.jsxs)("h3",{className:ec.dialogTitle,children:[u?"Copilots and extensions":"Extensions"," aren't supported by this model"]}),(0,i.jsxs)("p",{className:ec.dialogDescription,children:["Switch back to the ",m.displayName," model or start a new conversation"]}),(0,i.jsx)(N.Q,{onClick:()=>{c.selectThread(null),c.selectModel(m)},children:"New conversation"})]})}),a[1]=u,a[2]=m,a[3]=c,a[4]=n):n=a[4],a[5]!==s||a[6]!==l||a[7]!==n?(r=(0,i.jsx)(el.l,{width:"large",title:"Extensions",position:t,onClose:s,returnFocusRef:l,renderBody:n}),a[5]=s,a[6]=l,a[7]=n,a[8]=r):r=a[8],r}try{ed.displayName||(ed.displayName="NoAgentsAvailableDialog")}catch{}try{em.displayName||(em.displayName="AgentsNotSupportedDialog")}catch{}var eh=n(85351),ep=n(87330),ef=n(21114),eg=n(84217),ey=n(75177),ex=n(3971),ev=n(58569),eb=n(53110),e_=n(40961);let eC={disabledForPreviewModelsPanel:"KnowledgeSelectPanel-module__disabledForPreviewModelsPanel--NqDvF",knowledgeBaseIcon:"KnowledgeSelectPanel-module__knowledgeBaseIcon--8UOiW",KnowledgeSelectPanelContainer:"KnowledgeSelectPanel-module__KnowledgeSelectPanelContainer--udKC7",panelHeader:"KnowledgeSelectPanel-module__panelHeader--qV2cs",headerContent:"KnowledgeSelectPanel-module__headerContent--V2v8A",panelTitle:"KnowledgeSelectPanel-module__panelTitle--g2jcs",emptyStateContainer:"KnowledgeSelectPanel-module__emptyStateContainer--dQbe2",emptyStateContent:"KnowledgeSelectPanel-module__emptyStateContent--flXvx",emptyStateMessage:"KnowledgeSelectPanel-module__emptyStateMessage--BOmgQ",emptyStateDescription:"KnowledgeSelectPanel-module__emptyStateDescription--o3g_H",emptyStateInstructions:"KnowledgeSelectPanel-module__emptyStateInstructions--ZqIt3",actionButtonsContainer:"KnowledgeSelectPanel-module__actionButtonsContainer--Ja6mV",createButton:"KnowledgeSelectPanel-module__createButton--qb36f",organizationsSection:"KnowledgeSelectPanel-module__organizationsSection--i6URP",sectionTitle:"KnowledgeSelectPanel-module__sectionTitle--pLzZE",organizationsList:"KnowledgeSelectPanel-module__organizationsList--WXZKk",organizationLink:"KnowledgeSelectPanel-module__organizationLink--RJw9M",organizationAvatar:"KnowledgeSelectPanel-module__organizationAvatar--PEHVf",organizationName:"KnowledgeSelectPanel-module__organizationName--NFqlr",ssoNotice:"KnowledgeSelectPanel-module__ssoNotice--aspbN"},eS=(0,u.forwardRef)(function(e,t){let n,r,a,s,l,c=(0,o.c)(12);c[0]!==e?({open:r,setOpen:a,...n}=e,c[0]=e,c[1]=n,c[2]=r,c[3]=a):(n=c[1],r=c[2],a=c[3]);let d=!!r||void 0;return c[4]!==r||c[5]!==a?(s=()=>a(!r),c[4]=r,c[5]=a,c[6]=s):s=c[6],c[7]!==n||c[8]!==t||c[9]!==d||c[10]!==s?(l=(0,i.jsx)(ep.K,{ref:t,"aria-expanded":d,"aria-haspopup":!0,"aria-label":"Attach knowledge base","aria-labelledby":void 0,icon:w.BookIcon,onClick:s,variant:"invisible",className:eC.knowledgeBaseIcon,...n}),c[7]=n,c[8]=t,c[9]=d,c[10]=s,c[11]=l):l=c[11],l});function ew({disabledForPreviewModelsProps:e,emptyKnowledgeBaseProps:t,open:n,onOpenChange:r,anchorRef:a}){let o=(0,A.Pk)(),s=(0,E.b)(),l=(0,eh.A)("localStorage"),{knowledgeBases:c}=o,[d,m]=(0,u.useState)([]),[h,p]=(0,u.useState)(!0),[f,y]=(0,u.useState)(""),x=(0,u.useRef)(null),v=l.getItem("lastUsedKnowledgeBaseId")||"",b=l.getItem("lastUsedKnowledgeBaseOrg")||"",{currentReferences:C}=o;(0,u.useEffect)(()=>{n||y("")},[n]);let S=(0,u.useMemo)(()=>""===f?c:c.filter(e=>e.name.toLowerCase().includes(f.toLowerCase())),[f,c]),w=(0,u.useMemo)(()=>S.reduce((e,t)=>{let n=e.find(e=>e.org===t.ownerLogin);return n?n.docsets.push(t):e.push({org:t.ownerLogin,docsets:[t]}),e},[]),[S]),[j,N]=(0,u.useState)(!1),I=h||"pending"===o.knowledgeBasesLoading.state,T=j||"error"===o.knowledgeBasesLoading.state,R=(0,u.useRef)(!1);(0,u.useEffect)(()=>{let e=async()=>{p(!0),await s.fetchKnowledgeBases();let e=await s.service.listAdministratedCopilotEnterpriseOrganizations();e.ok?m(e.payload||[]):N(!0),p(!1)};n&&!R.current&&(R.current=!0,e())},[n,s]);let k=ek(),M=e=>{let t=e.filter(e=>(0,g.P)(e)&&!C.some(t=>(0,g.P)(t)&&t.id===e.id));for(let t of C.filter(t=>(0,g.P)(t)&&!e.some(e=>e.id===t.id)))s.removeReference(t);for(let e of t)s.addReference((0,g.UU)(e),"docsetMenu")};if(o.model?.hasLimitedCapabilities)return(0,i.jsx)(eM,{open:n,setOpen:r,...e});if(!I&&0===c.length)return(0,i.jsx)(ej,{administratedCopilotEnterpriseOrganizations:d,persistentPanelStyles:{position:["fixed","fixed","absolute"],bottom:["60px","60px","0 !important"],"@media screen and (max-height: 480px)":{bottom:"0 !important"},top:"initial !important",left:["18px","18px","calc(50% - 360px) !important"],maxHeight:"100%"},open:n,setOpen:r,mode:o.mode,...t});let P=e=>{M(e.map(e=>c.find(t=>t.id===e.id)).filter(e=>void 0!==e))},L=S.sort((e,t)=>e.id===v?-1:+(t.id===v)).map(e=>({id:e.id,key:e.id,groupId:e.ownerLogin,text:e.name,description:e.description,disabled:!e.canChat,descriptionVariant:"block"})),F=[...w].sort((e,t)=>e.org===b?-1:+(t.org===b)).map(e=>({id:e.org,key:e.org,text:e.org,groupId:e.org,header:{title:e.org}})),$=c.filter(e=>C.some(t=>(0,g.P)(t)&&t.id===e.id));return(0,i.jsx)("div",{ref:x,...(0,_.G)("knowledge-select-panel"),children:(0,i.jsx)(ef.X,{title:"Select knowledge bases",subtitle:"Knowledge bases consolidate content from multiple repositories for an improved chat experience.",onCancel:()=>{(0,e_.flushSync)(()=>r(!1)),a.current?.focus()},open:n,renderAnchor:null,anchorRef:a,onOpenChange:r,loading:I,items:L,onFilterChange:y,groupMetadata:F,notice:null!==k?{text:k,variant:"info"}:void 0,message:T?{variant:"error",title:"Failed to load knowledge bases",body:"Try again later"}:0===w.length?{variant:"empty",title:`No knowledge bases found for \`${f}\``,body:"Try a different search term"}:void 0,...{selected:$,onSelectedChange:e=>P(e)},variant:"modal",overlayProps:{maxHeight:"xlarge"},width:"large"})})}function ej(e){let t,n,r,a,s,l,c,d,u,m,h,p,f,g,y,x,v,b,C,S,j,N,I,T,R=(0,o.c)(53),{administratedCopilotEnterpriseOrganizations:k,anchorRef:A,open:E,setOpen:M}=e,P=ek();R[0]!==A||R[1]!==E||R[2]!==M?(t=A?{anchorRef:A,renderAnchor:null}:{anchorRef:void 0,renderAnchor:e=>{let{...t}=e;return(0,i.jsx)(eS,{open:E,setOpen:M,...t})}},R[0]=A,R[1]=E,R[2]=M,R[3]=t):t=R[3];let L=t,F=k?.length===0;R[4]!==F?(n=F?{flexGrow:1,maxHeight:"100%",overflowY:"auto"}:{},R[4]=F,R[5]=n):n=R[5];let $=n;R[6]!==F?(r=F?{maxHeight:"100%"}:{},R[6]=F,R[7]=r):r=R[7];let B=r;R[8]!==F?(a=F?{height:"100%"}:{},R[8]=F,R[9]=a):a=R[9];let D=a;return R[10]!==M?(s=()=>M(!0),l=()=>M(!1),R[10]=M,R[11]=s,R[12]=l):(s=R[11],l=R[12]),R[13]===Symbol.for("react.memo_cache_sentinel")?(c={anchorSide:"outside-bottom",sx:{width:"min(100%, 350px)"}},R[13]=c):c=R[13],R[14]!==D?(d={...D},R[14]=D,R[15]=d):d=R[15],R[16]===Symbol.for("react.memo_cache_sentinel")?(u=(0,_.G)("empty-knowledge-base-picker"),R[16]=u):u=R[16],R[17]===Symbol.for("react.memo_cache_sentinel")?(m=(0,i.jsx)(eg.A,{id:"knowledge-base-dialog-title",as:"h4",className:eC.panelTitle,children:"Attach a knowledge base"}),R[17]=m):m=R[17],R[18]!==M?(h=(0,i.jsx)("div",{className:eC.panelHeader,children:(0,i.jsxs)("div",{className:eC.headerContent,children:[m,(0,i.jsx)(ep.K,{unsafeDisableTooltip:!0,"aria-label":"Close",icon:w.XIcon,variant:"invisible",onClick:()=>M(!1)})]})}),R[18]=M,R[19]=h):h=R[19],R[20]!==$?(p={...$},R[20]=$,R[21]=p):p=R[21],R[22]===Symbol.for("react.memo_cache_sentinel")?(f=(0,i.jsx)(eb.A,{icon:w.BookIcon,size:"medium",className:eC.knowledgeBaseIcon}),R[22]=f):f=R[22],R[23]!==B?(g={...B},R[23]=B,R[24]=g):g=R[24],R[25]===Symbol.for("react.memo_cache_sentinel")?(y=(0,i.jsx)("span",{className:eC.emptyStateMessage,children:"You don't have any knowledge bases"}),R[25]=y):y=R[25],R[26]===Symbol.for("react.memo_cache_sentinel")?(x=(0,i.jsx)("p",{children:"Knowledge bases consolidate content from multiple repositories for an improved chat experience."}),R[26]=x):x=R[26],R[27]!==F?(v=F&&(0,i.jsx)("p",{className:eC.emptyStateInstructions,...(0,_.G)("ask-admin-for-knowledge-base"),children:"Speak with an organization owner about creating a knowledge base for your organization."}),R[27]=F,R[28]=v):v=R[28],R[29]!==v?(b=(0,i.jsxs)("div",{className:eC.emptyStateDescription,children:[x,v]}),R[29]=v,R[30]=b):b=R[30],R[31]!==k?(C=k.length>0&&(0,i.jsx)(eN,{administratedCopilotEnterpriseOrganizations:k}),R[31]=k,R[32]=C):C=R[32],R[33]!==g||R[34]!==b||R[35]!==C?(S=(0,i.jsxs)(ey.A,{sx:g,className:eC.emptyStateContent,children:[y,b,C]}),R[33]=g,R[34]=b,R[35]=C,R[36]=S):S=R[36],R[37]!==p||R[38]!==S?(j=(0,i.jsxs)(ey.A,{sx:p,className:eC.emptyStateContainer,children:[f,S]}),R[37]=p,R[38]=S,R[39]=j):j=R[39],R[40]!==P?(N=P&&(0,i.jsx)("div",{className:eC.actionButtonsContainer,children:(0,i.jsx)(eR,{message:P})}),R[40]=P,R[41]=N):N=R[41],R[42]!==h||R[43]!==j||R[44]!==N||R[45]!==d?(I=(0,i.jsxs)(ey.A,{role:"dialog","aria-labelledby":"knowledge-base-dialog-title",sx:d,className:eC.KnowledgeSelectPanelContainer,...u,children:[h,j,N]}),R[42]=h,R[43]=j,R[44]=N,R[45]=d,R[46]=I):I=R[46],R[47]!==L||R[48]!==E||R[49]!==I||R[50]!==s||R[51]!==l?(T=(0,i.jsx)(ex.T,{open:E,onOpen:s,onClose:l,overlayProps:c,...L,children:I}),R[47]=L,R[48]=E,R[49]=I,R[50]=s,R[51]=l,R[52]=T):T=R[52],T}function eN(e){let t=(0,o.c)(11),{administratedCopilotEnterpriseOrganizations:n}=e;if(1===n.length){let e,r,a;return t[0]!==n[0]?(e=eE(n[0]),t[0]=n[0],t[1]=e):e=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,_.G)("create-knowledge-base-button"),t[2]=r):r=t[2],t[3]!==e?(a=(0,i.jsx)(N.Q,{as:"a",href:e,className:eC.createButton,...r,children:"Create a knowledge base"}),t[3]=e,t[4]=a):a=t[4],a}{let e,r,a,o;return t[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,_.G)("create-knowledge-base-dropdown"),r=(0,i.jsx)(eg.A,{as:"h3",className:eC.sectionTitle,children:"Create a knowledge base for an organization"}),t[5]=e,t[6]=r):(e=t[5],r=t[6]),t[7]!==n?(a=n.map(eI),t[7]=n,t[8]=a):a=t[8],t[9]!==a?(o=(0,i.jsxs)("div",{className:eC.organizationsSection,...e,children:[r,(0,i.jsx)(d.l,{className:eC.organizationsList,children:a})]}),t[9]=a,t[10]=o):o=t[10],o}}function eI(e){return(0,i.jsx)(eT,{org:e},e.id)}function eT(e){let t,n,r,a,s=(0,o.c)(11),{org:l}=e;return s[0]!==l?(t=eE(l),s[0]=l,s[1]=t):t=s[1],s[2]!==l.avatarUrl||s[3]!==l.login?(n=(0,i.jsx)(er.r,{square:!0,src:l.avatarUrl,alt:l.login,"aria-hidden":"true",className:eC.organizationAvatar}),s[2]=l.avatarUrl,s[3]=l.login,s[4]=n):n=s[4],s[5]!==l.login?(r=(0,i.jsx)(ev.A,{inline:!0,title:l.login,className:eC.organizationName,children:l.login}),s[5]=l.login,s[6]=r):r=s[6],s[7]!==t||s[8]!==n||s[9]!==r?(a=(0,i.jsx)(d.l.Item,{children:(0,i.jsxs)(es.A,{href:t,className:eC.organizationLink,children:[n,r]})}),s[7]=t,s[8]=n,s[9]=r,s[10]=a):a=s[10],a}function eR(e){let t,n=(0,o.c)(2),{message:r}=e;return r?(n[0]!==r?(t=(0,i.jsx)("div",{"data-testid":"knowledge-select-panel-sso",className:eC.ssoNotice,children:r}),n[0]=r,n[1]=t):t=n[1],t):null}function ek(){let e=(0,A.Pk)(),t=e.ssoOrganizations.map(eA);for(let n of e.knowledgeBases)for(let e of n.protectedOrganizations)t.includes(e)||t.push(e);if(!t||0===t.length)return null;{if(1===t.length)return`Single sign-on to see content from ${t[0]}.`;if(2===t.length)return`Single sign-on to see content from ${t[0]} and ${t[1]}.`;let e=t.length-2;return`Single sign-on to see content from ${t[0]}, ${t[1]}, and ${e} organization${e>1?"s":""}`}}function eA(e){return e.login}function eE(e){return`/organizations/${e.login}/settings/copilot/chat_settings/new`}function eM(e){let t,n,r,a,s,l=(0,o.c)(13),{anchorRef:c,open:d,setOpen:u}=e;l[0]!==c||l[1]!==d||l[2]!==u?(t=c?{anchorRef:c,renderAnchor:null}:{anchorRef:void 0,renderAnchor:e=>{let{...t}=e;return(0,i.jsx)(eS,{open:d,setOpen:u,...t})}},l[0]=c,l[1]=d,l[2]=u,l[3]=t):t=l[3];let m=t;return l[4]!==u?(n=()=>u(!0),r=()=>u(!1),l[4]=u,l[5]=n,l[6]=r):(n=l[5],r=l[6]),l[7]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsxs)("div",{className:(0,y.$)("m-3 d-flex flex-column flex-items-center text-center",eC.disabledForPreviewModelsPanel),children:[(0,i.jsx)(w.AlertIcon,{className:"fgColor-attention mb-3"}),(0,i.jsx)("h3",{className:"h5 mb-2",children:"Knowledge bases aren't supported by this model"}),(0,i.jsx)("span",{className:"text-small fgColor-muted",children:"Switch back to the GPT-4o model or start a new conversation"})]}),l[7]=a):a=l[7],l[8]!==m||l[9]!==d||l[10]!==n||l[11]!==r?(s=(0,i.jsx)(ex.T,{open:d,onOpen:n,onClose:r,...m,children:a}),l[8]=m,l[9]=d,l[10]=n,l[11]=r,l[12]=s):s=l[12],s}try{eS.displayName||(eS.displayName="KBIconButton")}catch{}try{(r=KBIconButtonInner).displayName||(r.displayName="KBIconButtonInner")}catch{}try{ew.displayName||(ew.displayName="KnowledgeSelectPanel")}catch{}try{ej.displayName||(ej.displayName="EmptyKnowledgeBase")}catch{}try{eN.displayName||(eN.displayName="CreateKnowledgeBaseButton")}catch{}try{eT.displayName||(eT.displayName="CreateKnowledgeBaseActionRow")}catch{}try{eR.displayName||(eR.displayName="SSOFooter")}catch{}try{eM.displayName||(eM.displayName="DisabledForPreviewModels")}catch{}var eP=n(42342),eL=n(70170),eF=n(83978),e$=n(97286);async function eB(e,t,n,r){return new Promise((a,i)=>{if(!window.Worker)return void setTimeout(()=>a(e.filter(e=>e.includes(t))));let o=new Worker(n);o.addEventListener("message",e=>a(e.data.list)),o.addEventListener("error",e=>i(Error(`Worker error: ${e.message}`))),r.addEventListener("abort",()=>{o.terminate(),i(Error("Worker aborted"))}),o.postMessage({baseList:e,query:t})})}function eD(e,t){let n,r,a,i=(0,o.c)(9),{findFileWorkerPath:s}=(0,A.Pk)();i[0]!==e||i[1]!==t||i[2]!==s?(n=["copilot-worker-filter",s,e,t],r=async n=>{let{signal:r}=n;return e?0===t.length?e:eB(e,t,s,r):[]},i[0]=e,i[1]=t,i[2]=s,i[3]=n,i[4]=r):(n=i[3],r=i[4]);let l=null!==e;return i[5]!==n||i[6]!==r||i[7]!==l?(a={queryKey:n,queryFn:r,enabled:l,staleTime:1/0,gcTime:1e4,networkMode:"always",retry:!1,placeholderData:eO},i[5]=n,i[6]=r,i[7]=l,i[8]=a):a=i[8],(0,e$.I)(a)}function eO(e){return e}function eU(e,t){let n,r,a,i=(0,o.c)(11),s=void 0===t||t,l=(0,E.b)(),c=null!==e;return i[0]!==s||i[1]!==e?(n=["copilot-repository-files",e,s],i[0]=s,i[1]=e,i[2]=n):n=i[2],i[3]!==s||i[4]!==l||i[5]!==e?(r=async()=>{if(!e)return{};let t=await l.service.listRepoFiles(e,s);if(!t.ok)throw Error("Failed to fetch files for repository");return t.payload},i[3]=s,i[4]=l,i[5]=e,i[6]=r):r=i[6],i[7]!==c||i[8]!==n||i[9]!==r?(a={enabled:c,queryKey:n,queryFn:r,staleTime:3e5},i[7]=c,i[8]=n,i[9]=r,i[10]=a):a=i[10],(0,e$.I)(a)}function ez(e,t){let n,r,a,i=(0,o.c)(11),s=(0,E.b)(),l=null!==e&&t.length>0;return i[0]!==e||i[1]!==t?(n=["copilot-repository-symbols",e,t],i[0]=e,i[1]=t,i[2]=n):n=i[2],i[3]!==s||i[4]!==e||i[5]!==t?(r=async()=>{if(!e)return[];let n=await s.service.querySymbols(e,t);if(!n.ok)throw Error("Failed to fetch symbols for repository");return n.payload.filter(eq)},i[3]=s,i[4]=e,i[5]=t,i[6]=r):r=i[6],i[7]!==l||i[8]!==n||i[9]!==r?(a={enabled:l,queryKey:n,queryFn:r},i[7]=l,i[8]=n,i[9]=r,i[10]=a):a=i[10],(0,e$.I)(a)}function eq(e){return!!e.symbol}var eV=n(51295),eH=n(39546);let eG={chooseRepoInstructionPanel:"ReferencesSelectPanel-module__chooseRepoInstructionPanel--ZB4TR",chooseRepoTitle:"ReferencesSelectPanel-module__chooseRepoTitle--WR2cM",chooseRepoSubtitle:"ReferencesSelectPanel-module__chooseRepoSubtitle--D5U0G",selectPanelContainer:"ReferencesSelectPanel-module__selectPanelContainer--pXThH",ActionList:"ReferencesSelectPanel-module__ActionList--_r6z2",referenceListItem:"ReferencesSelectPanel-module__referenceListItem--E4oD7",referenceItemText:"ReferencesSelectPanel-module__referenceItemText--SSG5P"};var eW=n(69359);let eK="Search",eZ=e=>{let t=e.includes("files"),n=e.includes("folders"),r=e.includes("symbols");return t&&n&&r?"Select files, folders, and symbols":t&&n?"Select files and folders":t&&r?"Select files and symbols":n&&r?"Select folders and symbols":t?"Select files":n?"Select folders":r?"Select symbols":"Select references"},eQ=(e,t)=>{let n=t.includes("files"),r=t.includes("folders"),a=t.includes("symbols"),i="references";return n&&r&&a?i="files, folders, and symbols":n&&r?i="files and folders":n&&a?i="files and symbols":r&&a?i="folders and symbols":n?i="files":r?i="folders":a&&(i="symbols"),`Choose ${i} from ${e} to chat about. Use fewer references for more accurate responses.`},eJ=e=>{let t=e.includes("files"),n=e.includes("folders"),r=e.includes("symbols");return t&&n&&r?"Fetching files, folders, and symbols\u2026":t&&n?"Fetching files and folders\u2026":t&&r?"Fetching files and symbols\u2026":n&&r?"Fetching folders and symbols\u2026":t?"Fetching files\u2026":n?"Fetching folders\u2026":r?"Fetching symbols\u2026":"Fetching references\u2026"},eX=e=>{let t=e.includes("files"),n=e.includes("folders"),r=e.includes("symbols"),a="References";return t&&n&&r?a="Files, folders, and symbols":t&&n?a="Files and folders":t&&r?a="Files and symbols":n&&r?a="Folders and symbols":t?a="Files":n?a="Folders":r&&(a="Symbols"),a},eY=e=>{let t=e.includes("files"),n=e.includes("folders"),r=e.includes("symbols");return t&&n&&r?"Choose a repository to browse for files, folders, and symbols.":t&&n?"Choose a repository to browse for files and folders.":t&&r?"Choose a repository to browse for files and symbols.":n&&r?"Choose a repository to browse for folders and symbols.":t?"Choose a repository to browse for files.":n?"Choose a repository to browse for folders.":r?"Choose a repository to browse for symbols.":"Choose a repository to browse for references."},e0=e=>{let t=e.includes("files"),n=e.includes("folders"),r=e.includes("symbols");return t&&n&&r?"No files, folders, or symbols found":t&&n?"No files or folders found":t&&r?"No files or symbols found":n&&r?"No folders or symbols found":t?"No files found":n?"No folders found":r?"No symbols found":"No references found"},e1=e=>{let t,n,r,a,s,l,c,d,m,h,p,f=(0,o.c)(34);f[0]!==e?({open:r,onOpenChange:n,cancelReturnFocusRef:t,submitReturnFocusRef:s,...a}=e,f[0]=e,f[1]=t,f[2]=n,f[3]=r,f[4]=a,f[5]=s):(t=f[1],n=f[2],r=f[3],a=f[4],s=f[5]);let g=(0,E.b)(),[y,x]=(0,u.useState)();f[6]===Symbol.for("react.memo_cache_sentinel")?(l=()=>x(void 0),f[6]=l):l=f[6],f[7]!==r?(c=[r],f[7]=r,f[8]=c):c=f[8],(0,u.useEffect)(l,c);let v=(0,A.pn)(tt);f[9]!==v?(d=new Set(v.filter(tn).map(tr)),f[9]=v,f[10]=d):d=f[10];let b=d,[_,C]=(0,u.useState)(),S=(0,u.useRef)(!1);f[11]!==g.service?(m=async e=>{C(void 0),S.current=!0;let t=await g.service.fetchRepo(e);t.ok?x(t.payload):C("Error: failed to load repository details. Please try again."),S.current=!1},f[11]=g.service,f[12]=m):m=f[12];let w=m,j=a.supportedReferenceTypes??e2;f[13]!==j?(h=eY(j),f[13]=j,f[14]=h):h=f[14];let N=h;if(!y){let e,a,o;return f[15]!==n?(e=e=>{S.current||n(e)},f[15]=n,f[16]=e):e=f[16],f[17]===Symbol.for("react.memo_cache_sentinel")?(a=new Set,f[17]=a):a=f[17],f[18]!==t||f[19]!==N||f[20]!==w||f[21]!==r||f[22]!==b||f[23]!==_||f[24]!==s||f[25]!==e?(o=(0,i.jsx)(eW.X1,{selectionVariant:"instant",open:r,onOpenChange:e,selectedRepoIds:a,onSelectRepo:w,cancelReturnFocusRef:t,submitReturnFocusRef:s,description:N,featuredRepoIds:b,error:_}),f[18]=t,f[19]=N,f[20]=w,f[21]=r,f[22]=b,f[23]=_,f[24]=s,f[25]=e,f[26]=o):o=f[26],o}return f[27]!==t||f[28]!==n||f[29]!==r||f[30]!==a||f[31]!==y||f[32]!==s?(p=(0,i.jsx)(e5,{...a,open:r,onOpenChange:n,sourceRepository:y,cancelReturnFocusRef:t,submitReturnFocusRef:s}),f[27]=t,f[28]=n,f[29]=r,f[30]=a,f[31]=y,f[32]=s,f[33]=p):p=f[33],p},e2=["files","folders","symbols"],e5=e=>{let t,n,r,a,s,l,c,m,h,p,f,y,x,v=(0,o.c)(40),{renderAnchor:b,anchorRef:_,open:C,onOpenChange:S,submitReturnFocusRef:w,cancelReturnFocusRef:j,sourceRepository:N,supportedReferenceTypes:I}=e,T=void 0===I?e2:I,[R,k]=(0,u.useState)("");v[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,eL.s)(k,250),v[0]=t):t=v[0];let M=(0,u.useRef)(t);v[1]!==C?(n=()=>{C||k("")},r=[C],v[1]=C,v[2]=n,v[3]=r):(n=v[2],r=v[3]),(0,u.useEffect)(n,r);let{initialLoading:P,filterLoading:L,selected:F,unselected:$,toggleSelection:B}=function(e,t,n,r=e2){let a=(0,A.Pk)(),i=(0,E.b)(),s=function(e,t,n,r){let a,i,s,l,c,d=(0,o.c)(16),u=void 0===r?e2:r;d[0]!==u?(a=u.includes("folders"),d[0]=u,d[1]=a):a=d[1];let m=a,h=u.includes("symbols");d[2]!==u?(i=u.includes("files"),d[2]=u,d[3]=i):i=d[3];let p=i,f=n?t:null,g=eU(f,m),y=eD(g.data?.paths??null,e),x=eD(g.data?.directories??null,e),v=ez(h?f:null,e);d[4]!==v.data?(s=v.data?.map(te)??null,d[4]=v.data,d[5]=s):s=d[5];let b=eD(s,e);if(d[6]!==x||d[7]!==y.data||d[8]!==b.data||d[9]!==p||d[10]!==m){let e=p?y.data?.slice(0,7).map(e9)??[]:[];l=[...e,...m?x.data?.slice(0,7).map(e8)??[]:[],...b.data?.slice(0,7).map(e7)??[]],d[6]=x,d[7]=y.data,d[8]=b.data,d[9]=p,d[10]=m,d[11]=l}else l=d[11];let _=l,C=null===y.data&&null===x.data&&null===v.data,S=g.isFetching||y.isFetching||x.isFetching||v.isFetching||b.isFetching;return d[12]!==S||d[13]!==C||d[14]!==_?(c={items:_,filterLoading:S,initialLoading:C},d[12]=S,d[13]=C,d[14]=_,d[15]=c):c=d[15],c}(t,n,e,r),l=r.includes("symbols"),c=ez(e&&l?n:null,t).data,[d,m,h]=(0,u.useMemo)(()=>{let e=new Set,t=new Set,r=new Set;for(let i of a.currentReferences)"file"===i.type&&i.repoOwner===n?.ownerLogin&&i.repoName===n?.name?e.add(i.path):"folder"===i.type&&i.repoOwner===n?.ownerLogin&&i.repoName===n?.name?t.add(i.path):"symbol"===i.type&&"suggestionSymbol"===i.kind&&i.suggestionDefinitions?.some(e=>e.repoOwner===n?.ownerLogin&&e.repoName===n?.name)&&r.add(i.name);return[e,t,r]},[a.currentReferences,n?.ownerLogin,n?.name]),{selected:p=[],unselected:f=[]}=(0,eV.O)(s.items,e=>{switch(e.type){case"file":return d.has(e.text)?"selected":"unselected";case"folder":return m.has(e.text)?"selected":"unselected";case"symbol":return h.has(e.text)?"selected":"unselected"}}),y=(0,u.useCallback)(e=>{let t;if(!n)return;switch(e.type){case"file":t=(0,g.Od)(e.text,n);break;case"folder":t=(0,g.OC)(e.text,n);break;case"symbol":{let r=c?.find(t=>(0,g.Sm)(t)===e.text);if(!r)return;t=(0,g.Qt)(r,n)}}let r=(0,g.Vb)(t),o=a.currentReferences.find(e=>r===(0,g.Vb)(e));o?i.removeReference(o):i.addReference(t,"references-menu")},[i,n,a.currentReferences,c]);return{...s,selected:p,unselected:f,toggleSelection:y}}(C,R,N,T),D=F.length+$.length,O=`${N.ownerLogin}/${N.name}`;return v[4]!==b?(a=b?.({}),v[4]=b,v[5]=a):a=v[5],v[6]!==T?(s=eZ(T),v[6]=T,v[7]=s):s=v[7],v[8]!==O||v[9]!==T?(l=eQ(O,T),v[8]=O,v[9]=T,v[10]=l):l=v[10],v[11]!==S||v[12]!==w.current?(c=()=>{(0,e_.flushSync)(()=>S(!1)),w.current?.focus()},v[11]=S,v[12]=w.current,v[13]=c):c=v[13],v[14]!==j.current||v[15]!==S?(m=()=>{(0,e_.flushSync)(()=>S(!1)),j.current?.focus()},v[14]=j.current,v[15]=S,v[16]=m):m=v[16],v[17]===Symbol.for("react.memo_cache_sentinel")?(h=e=>M.current(e.target.value),v[17]=h):h=v[17],v[18]!==L?(p=(0,i.jsx)(eF.X.Header,{children:(0,i.jsx)(eF.X.SearchInput,{loading:L,onChange:h,placeholder:eK,"aria-label":eK})}),v[18]=L,v[19]=p):p=v[19],v[20]!==L||v[21]!==P||v[22]!==F||v[23]!==T||v[24]!==B||v[25]!==D||v[26]!==$?(f=(0,i.jsx)(d.l,{className:eG.ActionList,children:P?(0,i.jsx)(eF.X.Loading,{children:eJ(T)}):0!==D||L?(0,i.jsxs)(i.Fragment,{children:[F.map(e=>(0,i.jsx)(e6,{item:e,selected:!0,toggleSelection:B},e4(e))),F.length>0&&$.length>0&&(0,i.jsx)(d.l.Divider,{}),$.map(e=>(0,i.jsx)(e6,{item:e,selected:!1,toggleSelection:B},e4(e)))]}):(0,i.jsx)(eH.O,{delay:500,children:(0,i.jsx)(eF.X.Message,{variant:"empty",title:e0(T),children:"Try a different search term"})})}),v[20]=L,v[21]=P,v[22]=F,v[23]=T,v[24]=B,v[25]=D,v[26]=$,v[27]=f):f=v[27],v[28]!==_||v[29]!==C||v[30]!==p||v[31]!==f||v[32]!==s||v[33]!==l||v[34]!==c||v[35]!==m?(y=(0,i.jsxs)(eF.X,{anchorRef:_,title:s,description:l,onCancel:c,onSubmit:m,open:C,selectionVariant:"multiple",variant:"modal",width:"large",maxHeight:"xlarge",children:[p,f]}),v[28]=_,v[29]=C,v[30]=p,v[31]=f,v[32]=s,v[33]=l,v[34]=c,v[35]=m,v[36]=y):y=v[36],v[37]!==y||v[38]!==a?(x=(0,i.jsxs)("div",{className:eG.selectPanelContainer,children:[a,y]}),v[37]=y,v[38]=a,v[39]=x):x=v[39],x};function e3(e){let t,n,r,a,s,l=(0,o.c)(11),{open:c,setOpen:d,renderAnchor:u}=e;return l[0]!==d?(t=()=>d(!0),n=()=>d(!1),l[0]=d,l[1]=t,l[2]=n):(t=l[1],n=l[2]),l[3]!==u?(r=e=>u?.(e)??(0,i.jsx)(i.Fragment,{}),l[3]=u,l[4]=r):r=l[4],l[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsxs)("div",{className:eG.chooseRepoInstructionPanel,children:[(0,i.jsx)(w.PaperclipIcon,{}),(0,i.jsx)("h3",{className:eG.chooseRepoTitle,children:"Attach a repository first"}),(0,i.jsx)("p",{className:eG.chooseRepoSubtitle,children:"To pick attachments, attach a repository where the files are stored."})]}),l[5]=a):a=l[5],l[6]!==c||l[7]!==t||l[8]!==n||l[9]!==r?(s=(0,i.jsx)(ex.T,{open:c,onOpen:t,onClose:n,renderAnchor:r,children:a}),l[6]=c,l[7]=t,l[8]=n,l[9]=r,l[10]=s):s=l[10],s}let e4=e=>`${e.type}#${e.text}`;function e6(e){let t,n,r,a,s,l=(0,o.c)(15),{toggleSelection:c,selected:u,item:m}=e;return l[0]!==m||l[1]!==c?(t=()=>{c(m),setTimeout(()=>{document.getElementById(e4(m))?.focus()})},l[0]=m,l[1]=c,l[2]=t):t=l[2],l[3]!==m?(n=e4(m),l[3]=m,l[4]=n):n=l[4],l[5]!==m.type?(r=(0,i.jsx)(d.l.LeadingVisual,{children:"symbol"===m.type?(0,i.jsx)(w.CodeSquareIcon,{}):"folder"===m.type?(0,i.jsx)(w.FileDirectoryFillIcon,{}):(0,i.jsx)(w.FileIcon,{})}),l[5]=m.type,l[6]=r):r=l[6],l[7]!==m.text?(a=(0,i.jsx)("div",{className:eG.referenceItemText,children:m.text}),l[7]=m.text,l[8]=a):a=l[8],l[9]!==u||l[10]!==t||l[11]!==n||l[12]!==r||l[13]!==a?(s=(0,i.jsxs)(d.l.Item,{onSelect:t,selected:u,"aria-checked":u,id:n,className:eG.referenceListItem,children:[r,a]}),l[9]=u,l[10]=t,l[11]=n,l[12]=r,l[13]=a,l[14]=s):s=l[14],s}function e7(e){return{type:"symbol",text:e}}function e8(e){return{type:"folder",text:e}}function e9(e){return{type:"file",text:e}}function te(e){return(0,g.Sm)(e)}try{(a=e=>{let t,n,r,a,s=(0,o.c)(12);s[0]!==e?({open:n,onOpenChange:t,...r}=e,s[0]=e,s[1]=t,s[2]=n,s[3]=r):(t=s[1],n=s[2],r=s[3]);let{currentTopic:l}=(0,A.Pk)();if(!(0,g.Z6)(l)){let e;return s[4]!==t||s[5]!==n?(e=(0,i.jsx)(e3,{open:n,setOpen:t}),s[4]=t,s[5]=n,s[6]=e):e=s[6],e}return s[7]!==l||s[8]!==t||s[9]!==n||s[10]!==r?(a=(0,i.jsx)(e5,{...r,open:n,onOpenChange:t,sourceRepository:l}),s[7]=l,s[8]=t,s[9]=n,s[10]=r,s[11]=a):a=s[11],a}).displayName||(a.displayName="TopicReferencesSelectPanel")}catch{}try{e1.displayName||(e1.displayName="MultistepReferencesSelectPanel")}catch{}try{e5.displayName||(e5.displayName="ReferencesSelectPanel")}catch{}try{e3.displayName||(e3.displayName="ChooseRepositoryInstruction")}catch{}try{e6.displayName||(e6.displayName="ReferenceListItem")}catch{}function tt(e){return e.currentReferences}function tn(e){return"repository"===e.type}function tr(e){return e.id}let ta=(0,u.memo)(e=>{let t,n,r,a,l,m,h,p,f,y,x,v,b,C,S,j,N,I,T,R,k,M,P,L,F,$=(0,o.c)(91);$[0]!==e?({panel:n,onPanelChange:a,anchorRef:t,...r}=e,$[0]=e,$[1]=t,$[2]=n,$[3]=r,$[4]=a):(t=$[1],n=$[2],r=$[3],a=$[4]);let{inputRef:B}=r,D=(0,E.b)(),O=(0,A.Pk)(),{supportedAttachmentTypes:U,supportedReferenceTypes:z}=function(){let e=(0,A.Pk)(),t=null!==(0,et.G)(),n=["upload"],r=e.renderKnowledgeBases&&(e.currentTopic&&(0,g.Z6)(e.currentTopic)||!e.currentTopic);return t||n.push("repositories"),n.push("references"),r&&!t&&n.push("knowledge-bases"),t||n.push("agents"),{supportedAttachmentTypes:n,supportedReferenceTypes:t?["files"]:["files","folders","symbols"]}}(),{model:q}=(0,A.bP)("model"),V=Z.W.attachImagesImmersive&&"immersive"===O.mode&&!!q.capabilities.supports.vision||!1,H=(0,en.kw)(r),G=(0,u.useRef)(null),W=(0,et.G)(),K=(0,Y.FQ)(!0),J=!!(W&&K);$[5]!==W||$[6]!==V||$[7]!==D||$[8]!==q||$[9]!==J||$[10]!==O||$[11]!==U?(l=U.includes("upload")&&(0,i.jsx)("input",{id:"image-uploader",...(0,_.G)("image-uploader"),hidden:!0,ref:G,type:"file",accept:[V?Q.s.getAllowedImageFileExtensions(q):"",X.E.getTextFileExtensions()].join(","),multiple:!0,onChange:e=>{if(!e.target.files)return;let[t,n]=Q.s.getAllowedFiles([...e.target.files],q),r=[];for(let e of(V?new Q.s(O,D).addImageAttachments(t,"menu",W,J):r.push(...t),n))new X.E(D).addAttachment(e);for(let e of r)(0,s.BI)("dotcom_chat.upload_unsupported_file",{name:e.name,type:e.type,size:e.size});e.currentTarget.value=""}}),$[5]=W,$[6]=V,$[7]=D,$[8]=q,$[9]=J,$[10]=O,$[11]=U,$[12]=l):l=$[12];let ee="attachment-types"===n;$[13]!==a?(m=e=>a(t=>e&&null===t?"attachment-types":e||"attachment-types"!==t?t:null),$[13]=a,$[14]=m):m=$[14];let er="assistive"===O.mode?eP.E5:void 0;$[15]!==a||$[16]!==O.mode||$[17]!==U?(h=U.includes("repositories")&&(0,i.jsxs)(d.l.Item,{onSelect:()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_REPOSITORIES",mode:O.mode}),a("repositories")},children:[(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(w.RepoIcon,{})}),"Repositories\u2026"]}),$[15]=a,$[16]=O.mode,$[17]=U,$[18]=h):h=$[18],$[19]!==a||$[20]!==O.mode?(p=()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_REFERENCES",mode:O.mode}),a("references")},$[19]=a,$[20]=O.mode,$[21]=p):p=$[21];let ei=U.includes("references")?void 0:"First attach a repository";$[22]===Symbol.for("react.memo_cache_sentinel")?(f=(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(w.FileCodeIcon,{})}),$[22]=f):f=$[22],$[23]!==z?(y=eX(z),$[23]=z,$[24]=y):y=$[24],$[25]!==p||$[26]!==ei||$[27]!==y?(x=(0,i.jsxs)(d.l.Item,{onSelect:p,inactiveText:ei,children:[f,y,"\u2026"]}),$[25]=p,$[26]=ei,$[27]=y,$[28]=x):x=$[28],$[29]!==a||$[30]!==O.mode||$[31]!==U?(v=U.includes("knowledge-bases")&&(0,i.jsxs)(d.l.Item,{onSelect:()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_KNOWLEDGE_BASES",mode:O.mode}),a("knowledge-bases")},children:[(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(w.BookIcon,{})}),(0,i.jsx)("span",{...(0,_.G)("knowledge-bases-action-list-item"),children:"Knowledge bases\u2026"})]}),$[29]=a,$[30]=O.mode,$[31]=U,$[32]=v):v=$[32],$[33]!==a||$[34]!==O.mode||$[35]!==U?(b=U.includes("upload")&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.l.Divider,{}),(0,i.jsxs)(d.l.Item,{onSelect:()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_IMAGES",mode:O.mode}),a(null),G.current?.click()},children:[(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(w.UploadIcon,{})}),"Upload from computer"]})]}),$[33]=a,$[34]=O.mode,$[35]=U,$[36]=b):b=$[36],$[37]!==H||$[38]!==a||$[39]!==U?(C=U.includes("agents")&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.l.Divider,{}),(0,i.jsx)(ea,{onSelectPanel:e=>a(e),onSelectAgent:e=>setTimeout(()=>H(e.slug))})]}),$[37]=H,$[38]=a,$[39]=U,$[40]=C):C=$[40],$[41]!==x||$[42]!==v||$[43]!==b||$[44]!==C||$[45]!==h?(S=(0,i.jsxs)(d.l,{children:[h,x,v,b,C]}),$[41]=x,$[42]=v,$[43]=b,$[44]=C,$[45]=h,$[46]=S):S=$[46],$[47]!==S||$[48]!==er?(j=(0,i.jsx)(c.W.Overlay,{width:"small",side:"outside-top",align:"start",portalContainerName:er,children:S}),$[47]=S,$[48]=er,$[49]=j):j=$[49],$[50]!==t||$[51]!==j||$[52]!==ee||$[53]!==m?(N=(0,i.jsx)(c.W,{anchorRef:t,open:ee,onOpenChange:m,children:j}),$[50]=t,$[51]=j,$[52]=ee,$[53]=m,$[54]=N):N=$[54];let eo="references"===n;$[55]!==a?(I=e=>a(e?"references":null),$[55]=a,$[56]=I):I=$[56],$[57]!==t||$[58]!==B||$[59]!==z||$[60]!==eo||$[61]!==I?(T=(0,i.jsx)(e1,{open:eo,onOpenChange:I,submitReturnFocusRef:B,cancelReturnFocusRef:t,supportedReferenceTypes:z}),$[57]=t,$[58]=B,$[59]=z,$[60]=eo,$[61]=I,$[62]=T):T=$[62];let es="repositories"===n;return $[63]!==a?(R=e=>a(e?"repositories":null),$[63]=a,$[64]=R):R=$[64],$[65]!==t||$[66]!==B||$[67]!==es||$[68]!==R?(k=(0,i.jsx)(eW.FZ,{open:es,onOpenChange:R,submitReturnFocusRef:B,cancelReturnFocusRef:t}),$[65]=t,$[66]=B,$[67]=es,$[68]=R,$[69]=k):k=$[69],$[70]!==t||$[71]!==n||$[72]!==a||$[73]!==U?(M=U.includes("knowledge-bases")&&(0,i.jsx)(ew,{disabledForPreviewModelsProps:{anchorRef:t},emptyKnowledgeBaseProps:{anchorRef:t},open:"knowledge-bases"===n,onOpenChange:e=>a(e?"knowledge-bases":null),anchorRef:t}),$[70]=t,$[71]=n,$[72]=a,$[73]=U,$[74]=M):M=$[74],$[75]!==t||$[76]!==n||$[77]!==a?(P="no-agents-available"===n&&(0,i.jsx)(ed,{onClose:()=>a(null),returnFocusRef:t}),$[75]=t,$[76]=n,$[77]=a,$[78]=P):P=$[78],$[79]!==t||$[80]!==n||$[81]!==a?(L="agents-not-supported"===n&&(0,i.jsx)(em,{onClose:()=>a(null),returnFocusRef:t}),$[79]=t,$[80]=n,$[81]=a,$[82]=L):L=$[82],$[83]!==l||$[84]!==N||$[85]!==T||$[86]!==k||$[87]!==M||$[88]!==P||$[89]!==L?(F=(0,i.jsxs)("div",{children:[l,N,T,k,M,P,L]}),$[83]=l,$[84]=N,$[85]=T,$[86]=k,$[87]=M,$[88]=P,$[89]=L,$[90]=F):F=$[90],F});ta.displayName="AttachmentMenu";var ti=n(90051);let to={agents:"Extensions",repositories:"Repositories",files:"Files and folders",issues:"Issues",pulls:"Pull requests",discussions:"Discussions"},ts=[{name:to.agents,icon:w.StackIcon,value:"agents",where:"start"},{name:to.repositories,icon:w.RepoIcon,value:"repositories",where:"anywhere"},{name:to.files,icon:w.FileIcon,value:"repositories:files",where:"anywhere"},{name:to.issues,icon:w.IssueOpenedIcon,value:"repositories:issues",where:"anywhere"},{name:to.pulls,icon:w.GitPullRequestIcon,value:"repositories:pulls",where:"anywhere"},{name:to.discussions,icon:w.CommentDiscussionIcon,value:"repositories:discussions",where:"anywhere"}],tl={is:e=>ts.some(t=>t.value===e)};function tc(e){let t,n,r,a,s,l=(0,o.c)(12);return l[0]!==e?({agent:t,...n}=e,l[0]=e,l[1]=t,l[2]=n):(t=l[1],n=l[2]),l[3]!==t.avatarUrl?(r=(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(er.r,{src:t.avatarUrl})}),l[3]=t.avatarUrl,l[4]=r):r=l[4],l[5]!==t.slug?(a=(0,i.jsxs)(d.l.Description,{variant:"inline",truncate:!0,children:[en.Z3,t.slug]}),l[5]=t.slug,l[6]=a):a=l[6],l[7]!==t.name||l[8]!==n||l[9]!==r||l[10]!==a?(s=(0,i.jsxs)(d.l.Item,{...n,children:[r,t.name,a]}),l[7]=t.name,l[8]=n,l[9]=r,l[10]=a,l[11]=s):s=l[11],s}try{tc.displayName||(tc.displayName="AgentSuggestion")}catch{}function td(e){let t,n,r,a,s,l,c,m,h=(0,o.c)(20);h[0]!==e?({leadingVisual:t,...n}=e,h[0]=e,h[1]=t,h[2]=n):(t=h[1],n=h[2]);let p=(0,u.useId)(),f=(0,u.useId)();return h[3]!==f||h[4]!==p?(r=(0,y.$)(p,f),h[3]=f,h[4]=p,h[5]=r):r=h[5],h[6]!==t?(a=void 0!==t&&(0,i.jsx)(d.l.LeadingVisual,{children:t}),h[6]=t,h[7]=a):a=h[7],h[8]!==p||h[9]!==n.children?(s=(0,i.jsx)("span",{id:p,children:n.children}),h[8]=p,h[9]=n.children,h[10]=s):s=h[10],h[11]!==f?(l=(0,i.jsx)("span",{className:"d-none","aria-hidden":!0,id:f,children:"Opens in new tab."}),h[11]=f,h[12]=l):l=h[12],h[13]===Symbol.for("react.memo_cache_sentinel")?(c=(0,i.jsx)(d.l.TrailingVisual,{children:(0,i.jsx)(w.LinkExternalIcon,{})}),h[13]=c):c=h[13],h[14]!==n||h[15]!==r||h[16]!==a||h[17]!==s||h[18]!==l?(m=(0,i.jsxs)(d.l.Item,{...n,"aria-labelledby":r,children:[a,s,l,c]}),h[14]=n,h[15]=r,h[16]=a,h[17]=s,h[18]=l,h[19]=m):m=h[19],m}try{td.displayName||(td.displayName="LinkSuggestion")}catch{}function tu(e){return{value:`@${e.slug}`,render:t=>(0,i.jsx)(tc,{agent:e,...t})}}function tm(e){let t,n,r,a,s,l=(0,o.c)(9);return l[0]!==e?({leadingVisual:t,...n}=e,l[0]=e,l[1]=t,l[2]=n):(t=l[1],n=l[2]),l[3]!==t?(r=void 0!==t&&(0,i.jsx)(d.l.LeadingVisual,{children:t}),l[3]=t,l[4]=r):r=l[4],l[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)(d.l.TrailingVisual,{children:(0,i.jsx)(w.ArrowRightIcon,{})}),l[5]=a):a=l[5],l[6]!==n||l[7]!==r?(s=(0,i.jsxs)(d.l.Item,{"aria-haspopup":!0,...n,children:[r,n.children,a]}),l[6]=n,l[7]=r,l[8]=s):s=l[8],s}try{tm.displayName||(tm.displayName="MultistepSuggestion")}catch{}function th(e){let t,n,r,a,s=(0,o.c)(9);s[0]!==e?({category:n,...t}=e,s[0]=e,s[1]=t,s[2]=n):(t=s[1],n=s[2]);let{name:l,icon:c}=n;return s[3]!==c?(r=(0,i.jsx)(c,{}),s[3]=c,s[4]=r):r=s[4],s[5]!==l||s[6]!==t||s[7]!==r?(a=(0,i.jsx)(tm,{leadingVisual:r,...t,children:l}),s[5]=l,s[6]=t,s[7]=r,s[8]=a):a=s[8],a}try{th.displayName||(th.displayName="CategorySuggestion")}catch{}let tp={asyncSuggestion:"shared-module__asyncSuggestion--lDyxK",stale:"shared-module__stale--IEVWo"};function tf(e){let t,n,r,a,s,l,c,u,m,h,p,f=(0,o.c)(25);f[0]!==e?({discussion:n,stale:a,className:t,...r}=e,f[0]=e,f[1]=t,f[2]=n,f[3]=r,f[4]=a):(t=f[1],n=f[2],r=f[3],a=f[4]);let g=a&&tp.stale;return f[5]!==t||f[6]!==g?(s=(0,y.$)(tp.asyncSuggestion,g,t),f[5]=t,f[6]=g,f[7]=s):s=f[7],f[8]!==n.state?(l="open"===n.state&&(0,i.jsx)(w.CommentDiscussionIcon,{className:"fgColor-open"}),f[8]=n.state,f[9]=l):l=f[9],f[10]!==n.state?(c="closed"===n.state&&(0,i.jsx)(w.DiscussionClosedIcon,{className:"fgColor-muted"}),f[10]=n.state,f[11]=c):c=f[11],f[12]!==l||f[13]!==c?(u=(0,i.jsxs)(d.l.LeadingVisual,{children:[l,c]}),f[12]=l,f[13]=c,f[14]=u):u=f[14],f[15]!==n.title?(m=(0,i.jsx)(ev.A,{title:n.title,maxWidth:350,children:n.title}),f[15]=n.title,f[16]=m):m=f[16],f[17]!==n.number?(h=(0,i.jsxs)(d.l.Description,{children:["#",n.number]}),f[17]=n.number,f[18]=h):h=f[18],f[19]!==r||f[20]!==s||f[21]!==u||f[22]!==m||f[23]!==h?(p=(0,i.jsxs)(d.l.Item,{...r,className:s,children:[u,m,h]}),f[19]=r,f[20]=s,f[21]=u,f[22]=m,f[23]=h,f[24]=p):p=f[24],p}try{tf.displayName||(tf.displayName="DiscussionSuggestion")}catch{}function tg(e){let t,n,r,a,s,l,c,u,m,h,p,f,g,x,v,b=(0,o.c)(35);if(b[0]!==e?({type:s,path:n,stale:a,className:t,...r}=e,b[0]=e,b[1]=t,b[2]=n,b[3]=r,b[4]=a,b[5]=s):(t=b[1],n=b[2],r=b[3],a=b[4],s=b[5]),b[6]!==t||b[7]!==n||b[8]!==r||b[9]!==a||b[10]!==s){let e=n.split("/"),o=e.pop();c=d.l.Item,h=r;let x=a&&tp.stale;b[19]!==t||b[20]!==x?(p=(0,y.$)(tp.asyncSuggestion,x,t),b[19]=t,b[20]=x,b[21]=p):p=b[21],b[22]!==s?(f=(0,i.jsx)(d.l.LeadingVisual,{children:"folder"===s?(0,i.jsx)(w.FileDirectoryFillIcon,{}):(0,i.jsx)(w.FileIcon,{})}),b[22]=s,b[23]=f):f=b[23],g=o,l=d.l.Description,u="inline",m=e.join("/"),b[6]=t,b[7]=n,b[8]=r,b[9]=a,b[10]=s,b[11]=l,b[12]=c,b[13]=u,b[14]=m,b[15]=h,b[16]=p,b[17]=f,b[18]=g}else l=b[11],c=b[12],u=b[13],m=b[14],h=b[15],p=b[16],f=b[17],g=b[18];return b[24]!==l||b[25]!==u||b[26]!==m?(x=(0,i.jsxs)(l,{variant:u,children:[m,"/"]}),b[24]=l,b[25]=u,b[26]=m,b[27]=x):x=b[27],b[28]!==c||b[29]!==h||b[30]!==p||b[31]!==f||b[32]!==g||b[33]!==x?(v=(0,i.jsxs)(c,{...h,className:p,children:[f,g,x]}),b[28]=c,b[29]=h,b[30]=p,b[31]=f,b[32]=g,b[33]=x,b[34]=v):v=b[34],v}try{tg.displayName||(tg.displayName="FileSuggestion")}catch{}function ty(e){let t,n,r,a,s,l,c,u,m,h,p,f,g=(0,o.c)(28);g[0]!==e?({issue:n,stale:a,className:t,...r}=e,g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=a):(t=g[1],n=g[2],r=g[3],a=g[4]);let x=a&&tp.stale;return g[5]!==t||g[6]!==x?(s=(0,y.$)(tp.asyncSuggestion,x,t),g[5]=t,g[6]=x,g[7]=s):s=g[7],g[8]!==n.state?(l="draft"===n.state&&(0,i.jsx)(w.IssueDraftIcon,{className:"fgColor-neutral"}),g[8]=n.state,g[9]=l):l=g[9],g[10]!==n.state?(c="open"===n.state&&(0,i.jsx)(w.IssueOpenedIcon,{className:"fgColor-open"}),g[10]=n.state,g[11]=c):c=g[11],g[12]!==n.state?(u="closed"===n.state&&(0,i.jsx)(w.IssueClosedIcon,{className:"fgColor-done"}),g[12]=n.state,g[13]=u):u=g[13],g[14]!==l||g[15]!==c||g[16]!==u?(m=(0,i.jsxs)(d.l.LeadingVisual,{children:[l,c,u]}),g[14]=l,g[15]=c,g[16]=u,g[17]=m):m=g[17],g[18]!==n.title?(h=(0,i.jsx)(ev.A,{title:n.title,maxWidth:350,children:n.title}),g[18]=n.title,g[19]=h):h=g[19],g[20]!==n.number?(p=(0,i.jsxs)(d.l.Description,{children:["#",n.number]}),g[20]=n.number,g[21]=p):p=g[21],g[22]!==r||g[23]!==s||g[24]!==m||g[25]!==h||g[26]!==p?(f=(0,i.jsxs)(d.l.Item,{...r,className:s,children:[m,h,p]}),g[22]=r,g[23]=s,g[24]=m,g[25]=h,g[26]=p,g[27]=f):f=g[27],f}try{ty.displayName||(ty.displayName="IssueSuggestion")}catch{}function tx(e){let t,n,r,a,s,l,c,u,m,h,p,f,g=(0,o.c)(28);g[0]!==e?({pullRequest:r,stale:a,className:t,...n}=e,g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=a):(t=g[1],n=g[2],r=g[3],a=g[4]);let x=a&&tp.stale;return g[5]!==t||g[6]!==x?(s=(0,y.$)(tp.asyncSuggestion,x,t),g[5]=t,g[6]=x,g[7]=s):s=g[7],g[8]!==r.state?(l="draft"===r.state&&(0,i.jsx)(w.GitPullRequestDraftIcon,{className:"fgColor-neutral"}),g[8]=r.state,g[9]=l):l=g[9],g[10]!==r.state?(c="open"===r.state&&(0,i.jsx)(w.GitPullRequestIcon,{className:"fgColor-open"}),g[10]=r.state,g[11]=c):c=g[11],g[12]!==r.state?(u="closed"===r.state&&(0,i.jsx)(w.GitPullRequestClosedIcon,{className:"fgColor-done"}),g[12]=r.state,g[13]=u):u=g[13],g[14]!==l||g[15]!==c||g[16]!==u?(m=(0,i.jsxs)(d.l.LeadingVisual,{children:[l,c,u]}),g[14]=l,g[15]=c,g[16]=u,g[17]=m):m=g[17],g[18]!==r.title?(h=(0,i.jsx)(ev.A,{title:r.title,maxWidth:350,children:r.title}),g[18]=r.title,g[19]=h):h=g[19],g[20]!==r.number?(p=(0,i.jsxs)(d.l.Description,{children:["#",r.number]}),g[20]=r.number,g[21]=p):p=g[21],g[22]!==n||g[23]!==s||g[24]!==m||g[25]!==h||g[26]!==p?(f=(0,i.jsxs)(d.l.Item,{...n,className:s,children:[m,h,p]}),g[22]=n,g[23]=s,g[24]=m,g[25]=h,g[26]=p,g[27]=f):f=g[27],f}try{tx.displayName||(tx.displayName="PullRequestSuggestion")}catch{}function tv(e){let t,n,r,a,s,l,c,u,m=(0,o.c)(18);m[0]!==e?({repository:a,isMultistep:n,stale:s,className:t,...r}=e,m[0]=e,m[1]=t,m[2]=n,m[3]=r,m[4]=a,m[5]=s):(t=m[1],n=m[2],r=m[3],a=m[4],s=m[5]);let h=s&&tp.stale;m[6]!==t||m[7]!==h?(l=(0,y.$)(tp.asyncSuggestion,h,t),m[6]=t,m[7]=h,m[8]=l):l=m[8];let p=l;m[9]!==a.isInOrganization||m[10]!==a.ownerAvatarUrl?(c=a.ownerAvatarUrl?(0,i.jsx)(er.r,{src:a.ownerAvatarUrl,alt:"",size:16,square:a.isInOrganization}):(0,i.jsx)(w.RepoIcon,{}),m[9]=a.isInOrganization,m[10]=a.ownerAvatarUrl,m[11]=c):c=m[11];let f=c;return m[12]!==f||m[13]!==p||m[14]!==n||m[15]!==r||m[16]!==a.nwo?(u=n?(0,i.jsx)(tm,{...r,className:p,leadingVisual:f,children:a.nwo},a.nwo):(0,i.jsxs)(d.l.Item,{...r,className:p,children:[(0,i.jsx)(d.l.LeadingVisual,{children:f}),a.nwo]},a.nwo),m[12]=f,m[13]=p,m[14]=n,m[15]=r,m[16]=a.nwo,m[17]=u):u=m[17],u}try{tv.displayName||(tv.displayName="RepositorySuggestion")}catch{}function tb(e){return{value:null,key:e.value,render:t=>(0,i.jsx)(th,{category:e,...t})}}function t_(e){return null!==e}function tC(e){let t,n,r=(0,o.c)(3),[a,i]=(0,u.useState)(null);return(null===a&&null!==e||null!==a&&null===e)&&i(e),r[0]!==e?(t=()=>{let t=setTimeout(()=>i(e),200);return()=>clearTimeout(t)},n=[e],r[0]=e,r[1]=t,r[2]=n):(t=r[1],n=r[2]),(0,u.useEffect)(t,n),a}function tS(e){return e}function tw(e){return e}function tj(e){return e}var tN=n(6612);function tI(e){let t,n,r,a,s=(0,o.c)(9);return s[0]!==e?({org:t,...n}=e,s[0]=e,s[1]=t,s[2]=n):(t=s[1],n=s[2]),s[3]!==t.avatarUrl?(r=(0,i.jsx)(er.r,{square:!0,src:t.avatarUrl}),s[3]=t.avatarUrl,s[4]=r):r=s[4],s[5]!==t.login||s[6]!==n||s[7]!==r?(a=(0,i.jsx)(td,{leadingVisual:r,...n,children:t.login}),s[5]=t.login,s[6]=n,s[7]=r,s[8]=a):a=s[8],a}function tT(e){let t,n,r,a=(0,o.c)(7);return a[0]!==e?({orgs:t,...n}=e,a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]),a[3]!==t[0]?.login||a[4]!==t.length||a[5]!==n?(r=1===t.length?(0,i.jsxs)(td,{leadingVisual:(0,i.jsx)(w.ShieldLockIcon,{}),...n,children:["Single sign-on to ",(0,i.jsx)("strong",{children:t[0]?.login})," for more"]}):(0,i.jsx)(tm,{leadingVisual:(0,i.jsx)(w.ShieldLockIcon,{}),...n,children:"Single sign-on for more"}),a[3]=t[0]?.login,a[4]=t.length,a[5]=n,a[6]=r):r=a[6],r}try{tI.displayName||(tI.displayName="SSOOrgSuggestion")}catch{}try{tT.displayName||(tT.displayName="SSOPromptSuggestion")}catch{}let tR=e=>`/orgs/${encodeURIComponent(e.login)}/sso?return_to=${encodeURIComponent(location.href)}`;function tk(e){return{value:null,key:`open-link:${tR(e)}`,render:t=>(0,i.jsx)(tI,{org:e,...t})}}let tA=e=>(t,n)=>e.has(t.databaseId)&&!e.has(n.databaseId)?-1:e.has(n.databaseId)&&!e.has(t.databaseId)?1:0,tE=[{triggerChar:"@",insertSpaceOnCommit:!0,keepTriggerCharOnCommit:!1,multiWord:!0}];function tM(e){let t,n,r,a,l,c,m,h,p,f,g=(0,o.c)(25),{children:y,onSelectReference:x,onShowAgentsDialog:v}=e,{mode:b}=(0,A.Pk)(),[_,C]=(0,u.useState)(tP);g[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>C(!0),n=[],g[0]=t,g[1]=n):(t=g[0],n=g[1]),(0,u.useEffect)(t,n);let[S,j]=(0,u.useState)(null),{suggestions:N,stale:I}=function(e){let t=(0,o.c)(7),n=function(e){let t,n=(0,o.c)(3),{currentReferences:r}=(0,A.Pk)();e:{let a;if(!e){t=null;break e}if(n[0]!==r||n[1]!==e){let t=e.filter.toLowerCase(),o=e=>e.toLowerCase().includes(t)&&e.toLowerCase()!==t,s=r.map(e=>{let t=M.Q.for(e);switch(t?.type){case void 0:break;case"repository":{let e=`${t.reference.ownerLogin}/${t.reference.name}`;if(!o(e))return null;return{value:M.Q.stringify(t),render:n=>(0,i.jsx)(tv,{repository:{databaseId:t.reference.id,isInOrganization:"Organization"===t.reference.ownerType,name:t.reference.name,nwo:e,ownerLogin:t.reference.ownerLogin},...n})}}case"issue":{let e=t.reference.title??"";if(!o(e))return null;return{value:M.Q.stringify(t),render:n=>(0,i.jsx)(ty,{issue:{number:t.reference.number,state:t.reference.state??"",title:e},...n})}}case"pull-request":{let e=t.reference.title??"";if(!o(e))return null;return{value:M.Q.stringify(t),render:n=>(0,i.jsx)(tx,{pullRequest:{number:t.reference.number,state:t.reference.state??"",title:e},...n})}}case"discussion":{let e=t.reference.title??"";if(!o(e))return null;return{value:M.Q.stringify(t),render:n=>(0,i.jsx)(tf,{discussion:{number:t.reference.number,state:t.reference.state,title:e},...n})}}case"file":{let e=t.reference.path;if(!o(e))return null;return{value:M.Q.stringify(t),render:n=>(0,i.jsx)(tg,{type:"folder"===t.reference.type?"folder":"file",path:e,...n})}}}return null}).filter(t_),l=ts.filter(n=>n.name.toLowerCase().includes(t)&&function(e,t){switch(e){case"start":return 0===t.index;case"anywhere":return!0}}(n.where,e)).map(tb);if(l.length>0){let e=s.at(-1);if(e&&"object"==typeof e){let t=e.render;e.render=e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t,{...e}),(0,i.jsx)(d.l.Divider,{})]})}}a=s.concat(l),n[0]=r,n[1]=e,n[2]=a}else a=n[2];t=a}return t}(e?.category==="categories"?e:null),r=function(e){let t,n=(0,o.c)(4),{availableAgents:r,loading:a,showLimit:s,disabled:l}=(0,en.JE)(null!==e);e:{let o;if(l||!e){t=null;break e}if(a&&!r){t="loading";break e}n[0]!==r||n[1]!==e||n[2]!==s?(o=r?.filter(t=>e?.category==="agents"&&t.name.toLowerCase().includes(e.filter.toLowerCase())).map(tu).concat({value:null,key:`open-link:${en.bn}`,render:e=>(0,i.jsxs)(i.Fragment,{children:[r.length>0&&(0,i.jsx)(d.l.Divider,{}),(0,i.jsx)(td,{leadingVisual:(0,i.jsx)(w.TelescopeIcon,{}),...e,inactiveText:s?"Start a new conversation to use other extensions.":void 0,children:"Marketplace"})]})})??null,n[0]=r,n[1]=e,n[2]=s,n[3]=o):o=n[3],t=o}return t}(e?.category==="agents"?e:null),a=function(e){let{currentReferences:t}=(0,A.Pk)(),n=tC(e),r=e!==n,{repositories:a,loading:o}=(0,tN.U)(n?.filter??"",null!==n),s=(0,u.useMemo)(()=>new Set(t.filter(e=>"repository"===e.type).map(e=>e.id)),[t]),{ssoOrganizations:l}=(0,A.Pk)();return{suggestions:(0,u.useMemo)(()=>{if(!n)return null;if("initial"===o)return"loading";let e=void 0!==n.nextCategory,t=a.toSorted(tA(s)).slice(0,5).map(t=>({value:e?null:M.Q.stringify({type:"repository",repo:t.nwo}),key:t.nwo,render:n=>(0,i.jsx)(tv,{repository:t,isMultistep:e,stale:!!o||r,...n})}))??[];return l.length>0&&t.push({value:null,key:1===l.length?`open-link:${tR(l[0])}`:"sso-orgs",render:e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.l.Divider,{}),(0,i.jsx)(tT,{orgs:l,...e})]})}),t},[a,o,n,s,l,r]),stale:!0===o}}(e?.category==="repositories"?e:null),s=function(e){let t,n,r,a,s,l=(0,o.c)(18),{service:c}=(0,E.b)(),d=tC(e),u=e!==d,m=null!==d,h=d?.repository,p=d?.filter;l[0]!==h||l[1]!==p?(t=["copilot-autocomplete-issues",h,p],l[0]=h,l[1]=p,l[2]=t):t=l[2],l[3]!==d||l[4]!==c?(n=async()=>c.fetchAutocompleteIssues(d.repository,d.filter),l[3]=d,l[4]=c,l[5]=n):n=l[5],l[6]!==m||l[7]!==t||l[8]!==n?(r={enabled:m,queryKey:t,queryFn:n,placeholderData:tw},l[6]=m,l[7]=t,l[8]=n,l[9]=r):r=l[9];let f=(0,e$.I)(r);e:{let e;if(!d){a=null;break e}if(f.isLoading){a="loading";break e}l[10]!==d||l[11]!==u||l[12]!==f.data||l[13]!==f.isPlaceholderData?(e=f.data?.map(e=>({value:M.Q.stringify({type:"issue",repo:d.repository,id:e.number.toString()}),key:e.number.toString(),render:t=>(0,i.jsx)(ty,{...t,issue:e,stale:f.isPlaceholderData||u})}))??null,l[10]=d,l[11]=u,l[12]=f.data,l[13]=f.isPlaceholderData,l[14]=e):e=l[14],a=e}let g=a;return l[15]!==f.isPlaceholderData||l[16]!==g?(s={suggestions:g,stale:f.isPlaceholderData},l[15]=f.isPlaceholderData,l[16]=g,l[17]=s):s=l[17],s}(e?.category==="issues"?e:null),l=function(e){let t,n,r,a,s,l=(0,o.c)(18),{service:c}=(0,E.b)(),d=tC(e),u=e!==d,m=null!==d,h=d?.repository,p=d?.filter;l[0]!==h||l[1]!==p?(t=["copilot-autocomplete-pulls",h,p],l[0]=h,l[1]=p,l[2]=t):t=l[2],l[3]!==d||l[4]!==c?(n=async()=>c.fetchAutocompletePullRequests(d.repository,d.filter),l[3]=d,l[4]=c,l[5]=n):n=l[5],l[6]!==m||l[7]!==t||l[8]!==n?(r={enabled:m,queryKey:t,queryFn:n,placeholderData:tj},l[6]=m,l[7]=t,l[8]=n,l[9]=r):r=l[9];let f=(0,e$.I)(r);e:{let e;if(!d){a=null;break e}if(f.isLoading){a="loading";break e}l[10]!==d||l[11]!==u||l[12]!==f.data||l[13]!==f.isPlaceholderData?(e=f.data?.map(e=>({value:M.Q.stringify({type:"pull-request",repo:d.repository,id:e.number.toString()}),key:e.number.toString(),render:t=>(0,i.jsx)(tx,{...t,pullRequest:e,stale:f.isPlaceholderData||u})}))??null,l[10]=d,l[11]=u,l[12]=f.data,l[13]=f.isPlaceholderData,l[14]=e):e=l[14],a=e}let g=a;return l[15]!==f.isPlaceholderData||l[16]!==g?(s={suggestions:g,stale:f.isPlaceholderData},l[15]=f.isPlaceholderData,l[16]=g,l[17]=s):s=l[17],s}(e?.category==="pulls"?e:null),c=function(e){let t,n,r,a,s,l=(0,o.c)(18),{service:c}=(0,E.b)(),d=tC(e),u=e!==d,m=null!==d,h=d?.repository,p=d?.filter;l[0]!==h||l[1]!==p?(t=["copilot-autocomplete-discussions",h,p],l[0]=h,l[1]=p,l[2]=t):t=l[2],l[3]!==d||l[4]!==c?(n=async()=>c.fetchAutocompleteDiscussions(d.repository,d.filter),l[3]=d,l[4]=c,l[5]=n):n=l[5],l[6]!==m||l[7]!==t||l[8]!==n?(r={enabled:m,queryKey:t,queryFn:n,placeholderData:tS},l[6]=m,l[7]=t,l[8]=n,l[9]=r):r=l[9];let f=(0,e$.I)(r);e:{let e;if(!d){a=null;break e}if(f.isLoading){a="loading";break e}l[10]!==d||l[11]!==f.data||l[12]!==f.isPlaceholderData||l[13]!==u?(e=f.data?.map(e=>({value:M.Q.stringify({type:"discussion",repo:d.repository,id:e.number.toString()}),key:e.number.toString(),render:t=>(0,i.jsx)(tf,{...t,discussion:e,stale:f.isPlaceholderData||u})}))??null,l[10]=d,l[11]=f.data,l[12]=f.isPlaceholderData,l[13]=u,l[14]=e):e=l[14],a=e}let g=a;return l[15]!==f.isPlaceholderData||l[16]!==g?(s={suggestions:g,stale:f.isPlaceholderData},l[15]=f.isPlaceholderData,l[16]=g,l[17]=s):s=l[17],s}(e?.category==="discussions"?e:null),m=function(e){let t,n,r,a,s,l,c,d,u,m=(0,o.c)(23),h=(0,E.b)(),p=null!==e,f=e?.repository;m[0]!==f?(t=["copilot-repository",f],m[0]=f,m[1]=t):t=m[1],m[2]!==h||m[3]!==e?.repository?(n=async()=>{if(!e?.repository)return null;let t=await h.service.fetchRepo(e?.repository);if(!t.ok)throw Error("Failed to fetch repository");return t.payload},m[2]=h,m[3]=e?.repository,m[4]=n):n=m[4],m[5]!==p||m[6]!==t||m[7]!==n?(r={enabled:p,queryKey:t,queryFn:n,staleTime:3e5},m[5]=p,m[6]=t,m[7]=n,m[8]=r):r=m[8];let g=(0,e$.I)(r),y=eU(g.data??null);y.data?.directories,m[9]!==y.data?.directories?(s=y.data?.directories??[],m[9]=y.data?.directories,m[10]=s):s=m[10],m[11]!==s?(l=new Set(s),m[11]=s,m[12]=l):l=m[12],a=l,m[13]!==y.data?(c=y.data?(y.data.paths??[]).concat(y.data.directories??[]):null,m[13]=y.data,m[14]=c):c=m[14];let x=eD(c,e?.filter??"");e:{let t;if(!e){d=null;break e}if(g.isLoading||y.isLoading||x.isLoading){d="loading";break e}m[15]!==a||m[16]!==x.data||m[17]!==x.isPlaceholderData||m[18]!==e?(t=[...x.data?.slice(0,5).map(t=>({value:M.Q.stringify({repo:e.repository,type:"file",id:t}),key:t,render:e=>(0,i.jsx)(tg,{...e,path:t,type:a.has(t)?"folder":"file",stale:x.isPlaceholderData})}))??[]],m[15]=a,m[16]=x.data,m[17]=x.isPlaceholderData,m[18]=e,m[19]=t):t=m[19];let n=t;d=n.length>0?n:null}let v=d;return m[20]!==g.isPlaceholderData||m[21]!==v?(u={suggestions:v,stale:g.isPlaceholderData},m[20]=g.isPlaceholderData,m[21]=v,m[22]=u):u=m[22],u}(e?.category==="files"?e:null),h=function(e){let t,n=(0,o.c)(5),{ssoOrganizations:r}=(0,A.Pk)();e:{let a;if(!e){t=null;break e}if(n[0]!==e||n[1]!==r){let t;n[3]!==e?(t=t=>t.login.toLowerCase().includes(e.filter.toLowerCase()),n[3]=e,n[4]=t):t=n[4],a=r.filter(t).slice(0,10).map(tk),n[0]=e,n[1]=r,n[2]=a}else a=n[2];t=a}return t}(e?.category==="sso-orgs"?e:null);switch(e?.category){case void 0:{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={suggestions:null,stale:!1},t[0]=e):e=t[0],e}case"categories":{let e;return t[1]!==n?(e={suggestions:n,stale:!1},t[1]=n,t[2]=e):e=t[2],e}case"repositories":return a;case"issues":return s;case"agents":{let e;return t[3]!==r?(e={suggestions:r,stale:!1},t[3]=r,t[4]=e):e=t[4],e}case"discussions":return c;case"pulls":return l;case"files":return m;case"sso-orgs":{let e;return t[5]!==h?(e={suggestions:h,stale:!1},t[5]=h,t[6]=e):e=t[6],e}}}(S);if(g[2]!==v||g[3]!==S?(r={query:S,onShowAgentsDialog:v},g[2]=v,g[3]=S,g[4]=r):r=g[4],!function(e){let t,n,r=(0,o.c)(12),{query:a,onShowAgentsDialog:i}=e,s=a?.category==="agents",{availableAgents:l,loading:c,disabled:d}=(0,en.JE)(s);r[0]!==s||r[1]!==l?.length||r[2]!==d||r[3]!==c||r[4]!==i?(t=()=>{s&&!c&&(d?i("agents-not-supported"):l?.length||i("no-agents-available"))},r[0]=s,r[1]=l?.length,r[2]=d,r[3]=c,r[4]=i,r[5]=t):t=r[5],r[6]!==s||r[7]!==l||r[8]!==d||r[9]!==c||r[10]!==i?(n=[s,c,l,d,i],r[6]=s,r[7]=l,r[8]=d,r[9]=c,r[10]=i,r[11]=n):n=r[11],(0,u.useEffect)(t,n)}(r),!_){let e;return g[5]!==y?(e=(0,i.jsx)("div",{children:y}),g[5]=y,g[6]=e):e=g[6],e}g[7]!==b||g[8]!==x||g[9]!==S?(a=e=>{let{suggestion:t}=e,n="string"==typeof t?t:t.value;(0,s.BI)("dotcom_chat.activate",{target:"AUTOCOMPLETE_ITEM_SELECTED",mode:b,suggestion:n});let r=null!==n&&S?.category!=="agents"?M.Q.parse(n):void 0;if(r&&x(r),"object"!=typeof t||null!==t.value)return;let a=/^open-link:(.+)$/.exec(t.key);if(a){j(null),window.open(a[1],"_blank");return}switch(S?.category){case"categories":tl.is(t.key)&&j(function(e){switch(e){case"repositories":return{category:"repositories",filter:""};case"agents":return{category:"agents",filter:""};case"repositories:discussions":return{category:"repositories",filter:"",nextCategory:"discussions"};case"repositories:issues":return{category:"repositories",filter:"",nextCategory:"issues"};case"repositories:pulls":return{category:"repositories",filter:"",nextCategory:"pulls"};case"repositories:files":return{category:"repositories",filter:"",nextCategory:"files"}}}(t.key));break;case"repositories":"sso-orgs"===t.key?j({category:"sso-orgs",filter:""}):S.nextCategory&&j({category:S.nextCategory,filter:"",repository:t.key})}},g[7]=b,g[8]=x,g[9]=S,g[10]=a):a=g[10];let T=a;g[11]===Symbol.for("react.memo_cache_sentinel")?(l=e=>j(t=>t?{...t,filter:e.query}:{category:"categories",filter:e.query,index:(e.target.selectionStart??0)-(e.query.length+e.trigger.triggerChar.length)}),g[11]=l):l=g[11];let R=l;g[12]===Symbol.for("react.memo_cache_sentinel")?(c=()=>j(null),g[12]=c):c=g[12];let k=c;return g[13]!==S?(m=S&&function(e){switch(e.category){case"categories":return null;case"repositories":switch(e.nextCategory){case"discussions":case"issues":case"pulls":case"files":return`${to[e.nextCategory]} \u{203A}`;default:return"Repositories \u203A"}case"agents":return to[e.category];case"discussions":case"issues":case"pulls":case"files":return`${to[e.category]} \u{203A} ${e.repository} \u{203A}`;case"sso-orgs":return"Single sign-on"}}(S)||void 0,g[13]=S,g[14]=m):m=g[14],g[15]!==y||g[16]!==T||g[17]!==N||g[18]!==m?(h=(0,i.jsx)(ti.a,{fullWidth:!0,suggestions:N,triggers:tE,tabInsertsSuggestions:!1,onHideSuggestions:k,onShowSuggestions:R,onSelectSuggestion:T,suggestionsPlacement:"above",title:m,asMenu:!0,children:y}),g[15]=y,g[16]=T,g[17]=N,g[18]=m,g[19]=h):h=g[19],g[20]!==I?(p=I&&(0,i.jsx)("span",{role:"status","aria-live":"polite",className:"sr-only",children:"Loading"}),g[20]=I,g[21]=p):p=g[21],g[22]!==h||g[23]!==p?(f=(0,i.jsxs)(i.Fragment,{children:[h,p]}),g[22]=h,g[23]=p,g[24]=f):f=g[24],f}function tP(){return"undefined"!=typeof document}try{tM.displayName||(tM.displayName="ChatInputAutocomplete")}catch{}let tL={container:"ChatInput-module__container--NFzCy",input:"ChatInput-module__input--iApWs",clicked:"ChatInput-module__clicked--hHA9l",attachments:"ChatInput-module__attachments--a9G6d",inputContainer:"ChatInput-module__inputContainer--BcExV",inputPreview:"ChatInput-module__inputPreview--f_0H3",toolbar:"ChatInput-module__toolbar--ZtCiG",toolbarLeft:"ChatInput-module__toolbarLeft--cjV2H",toolbarRight:"ChatInput-module__toolbarRight--PiQJn",containerSmall:"ChatInput-module__containerSmall--PJkO5",CommandIconButton:"ChatInput-module__CommandIconButton--eueFJ"};var tF=n(13897),t$=n(10370);let tB=(0,u.forwardRef)(function(e,t){let n,r,a,s,l,c=(0,o.c)(14),{text:d}=e;c[0]!==d?(n=(0,tF._)(d),c[0]=d,c[1]=n):n=c[1];let{availableAgents:m}=(0,en.JE)(n);c[2]!==m?(r=void 0===m?[]:m,c[2]=m,c[3]=r):r=c[3];let h=r,{currentReferences:p}=(0,A.Pk)(),f=(0,E.b)(),y=(0,R.l)().use(P.U,{references:p,agents:h}).parse(d),x=(0,tF.O)(y),v=(0,u.useRef)(x);c[4]!==p||c[5]!==f||c[6]!==x?(a=function(){for(let e of v.current)if(!x.has(e)){let t=p.find(t=>(0,g.Vb)(t)===e);t&&f.removeReference(t)}v.current=x},c[4]=p,c[5]=f,c[6]=x,c[7]=a):a=c[7],(0,u.useEffect)(a),c[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,_.G)("copilot-chat-input-textarea-preview"),c[8]=s):s=c[8];let b=y.children.map(tD);return c[9]!==t||c[10]!==b||c[11]!==s||c[12]!==tL.inputPreview?(l=(0,i.jsx)("div",{id:"copilot-chat-textarea-preview",...s,"aria-hidden":!0,className:tL.inputPreview,ref:t,role:"presentation",children:b}),c[9]=t,c[10]=b,c[11]=s,c[12]=tL.inputPreview,c[13]=l):l=c[13],l});try{tB.displayName||(tB.displayName="ChatInputPreview")}catch{}function tD(e,t){switch(e.type){case"text":return e.value;case"reference-mention":return void 0!==e.data.mentionedReferenceId?(0,i.jsx)("span",{className:t$.A.mention,...(0,_.G)("input-preview-ref"),children:e.value},t):e.value;case"agent-mention":return(0,i.jsx)("span",{className:t$.A.mention,children:e.value},t)}}var tO=n(69676),tU=n(82678),tz=n(63867),tq=n(5878),tV=n(33900);let tH={container:"ChatInputReferences-module__container--kZx3r",attachmentsList:"ChatInputReferences-module__attachmentsList--c0Z3e",scrolledToEnd:"ChatInputReferences-module__scrolledToEnd--qEVr3",loading:"ChatInputReferences-module__loading--G1S4m",divider:"ChatInputReferences-module__divider--m7eF_",menuButton:"ChatInputReferences-module__menuButton--R82CM",functionLoading:"ChatInputReferences-module__functionLoading--_Tp1T",convertToFileButton:"ChatInputReferences-module__convertToFileButton--JUfME",hoveringDismissConvertToFile:"ChatInputReferences-module__hoveringDismissConvertToFile--BVZ5r",convertToFileButtonContent:"ChatInputReferences-module__convertToFileButtonContent--pQ4zi"};var tG=n(53655);let tW=(0,u.memo)(e=>{let t,n,r,a,s,l,m,h,p,f,x,v,b,C,S,j,I,T=(0,o.c)(45),{className:R,isLoading:k,returnFocusRef:M,tokenSize:P,onSelectReference:L,getReferenceVersion:F,showConvertToFileText:$,onConvertToFile:B,onConvertToFileDismiss:D}=e,U=void 0===P?"medium":P,{currentReferences:z}=(0,A.Pk)(),q=(0,E.b)(),V=(0,u.useRef)(null),H=(0,tq.g)(V),[G,W]=(0,u.useState)(!1);T[0]!==z?(n=(0,g.rT)(z),T[0]=z,T[1]=n):n=T[1],t=n;let K=(0,u.useRef)(null);T[2]===Symbol.for("react.memo_cache_sentinel")?(r={containerRef:K,focusableElementFilter:tZ,bindKeys:tO.z0.ArrowHorizontal|tO.z0.HomeAndEnd,focusInStrategy:"previous",focusOutBehavior:"stop"},T[2]=r):r=T[2],T[3]!==t?(a=[t],T[3]=t,T[4]=a):a=T[4],(0,tU.G)(r,a),T[5]===Symbol.for("react.memo_cache_sentinel")?(s=[],T[5]=s):s=T[5];let Z=(0,u.useRef)(s),Q=(e,t)=>{let n=Z.current[t+1]??Z.current[t-1]??M.current;n?.focus(),q.removeReference(e)};T[6]!==q||T[7]!==M?(l=()=>{setTimeout(()=>M.current?.focus()),q.clearCurrentReferences()},T[6]=q,T[7]=M,T[8]=l):l=T[8];let J=l,X=(0,u.useRef)(t);T[9]!==t?(m=()=>{if(X.current.length<t.length){let e=t.find(e=>!X.current.find(t=>(0,g.x_)(t,e))),n=e?t.indexOf(e):-1;Z?.current?.[n]?.scrollIntoView({behavior:"smooth",inline:"end"})}X.current=t},h=[t],T[9]=t,T[10]=m,T[11]=h):(m=T[10],h=T[11]),(0,O.N)(m,h),T[12]!==D?(p=()=>{W(!1),D?.()},T[12]=D,T[13]=p):p=T[13];let Y=p,ee=(0,u.useId)();T[14]!==Y||T[15]!==$?(f=e=>{("Delete"===e.key||"Backspace"===e.key)&&(e.preventDefault(),e.stopPropagation(),$&&Y())},T[14]=Y,T[15]=$,T[16]=f):f=T[16];let et=f;if(0===t.length&&!k&&!$)return null;T[17]!==R?(x=(0,y.$)(R,tH.container),T[17]=R,T[18]=x):x=T[18];let en=H&&tH.scrolledToEnd,er=k&&tH.loading;T[19]!==en||T[20]!==er?(v=(0,y.$)(tH.attachmentsList,en,er),T[19]=en,T[20]=er,T[21]=v):v=T[21],T[22]!==ee||T[23]!==Y||T[24]!==G||T[25]!==B||T[26]!==et||T[27]!==$||T[28]!==U?(b=$&&(0,i.jsx)(N.Q,{onClick:B,leadingVisual:w.FileIcon,className:(0,y.$)(tH.convertToFileButton,G&&tH.hoveringDismissConvertToFile),"aria-describedby":ee,onKeyDown:et,children:(0,i.jsxs)("div",{className:tH.convertToFileButtonContent,children:["Convert to file",(0,i.jsx)(tG.lh,{size:U,onRemove:Y,descriptionId:ee,onMouseOver:()=>W(!0),onMouseLeave:()=>W(!1)})]})}),T[22]=ee,T[23]=Y,T[24]=G,T[25]=B,T[26]=et,T[27]=$,T[28]=U,T[29]=b):b=T[29];let ea=t.map((e,t)=>"repository"===e.type?(0,i.jsx)(tK,{reference:e,ref:e=>{Z.current[t]=e},"data-index":t,size:U,onRemove:()=>Q(e,t),onClick:L,getReferenceVersion:F},(0,g.Vb)(e)):(0,i.jsx)(tG.BR,{reference:e,ref:e=>{Z.current[t]=e},"data-index":t,size:U,onRemove:()=>Q(e,t),onClick:L,getReferenceVersion:F},(0,g.Vb)(e)));return T[30]!==k?(C=k&&(0,i.jsxs)("div",{className:tH.functionLoading,...(0,_.G)("loading-indicator"),children:[(0,i.jsx)(tz.A,{size:"small"}),"Retrieving\u2026"]}),T[30]=k,T[31]=C):C=T[31],T[32]!==v||T[33]!==b||T[34]!==ea||T[35]!==C?(S=(0,i.jsxs)("div",{className:v,ref:V,children:[b,ea,C]}),T[32]=v,T[33]=b,T[34]=ea,T[35]=C,T[36]=S):S=T[36],T[37]!==J||T[38]!==t.length||T[39]!==U?(j=t.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:tH.divider}),(0,i.jsxs)(c.W,{children:[(0,i.jsx)(c.W.Anchor,{children:(0,i.jsx)(ep.K,{icon:w.KebabHorizontalIcon,"aria-label":"Attachments options",variant:"invisible",tooltipDirection:"n",className:tH.menuButton,size:U})}),(0,i.jsx)(c.W.Overlay,{width:"small",children:(0,i.jsx)(d.l,{children:(0,i.jsxs)(d.l.Item,{onSelect:J,children:[(0,i.jsx)(d.l.LeadingVisual,{children:(0,i.jsx)(w.TrashIcon,{})}),"Remove attachments"]})})})]})]}),T[37]=J,T[38]=t.length,T[39]=U,T[40]=j):j=T[40],T[41]!==x||T[42]!==S||T[43]!==j?(I=(0,i.jsxs)("div",{role:"toolbar","aria-label":"Attachments",className:x,ref:K,children:[S,j]}),T[41]=x,T[42]=S,T[43]=j,T[44]=I):I=T[44],I});tW.displayName="ChatInputReferences";let tK=(0,u.forwardRef)(function(e,t){let n,r,a,s=(0,o.c)(8),l=e.reference,c=(0,A.pn)(tQ),d=`${l.ownerLogin}/${l.name}`,[m,h]=(0,tV.vn)(d),p=(0,u.useRef)(!1),f=m.code===tV.W5.Unindexed||m.docs===tV.W5.Unindexed;return s[0]!==c||s[1]!==f||s[2]!==h?(n=function(){!p.current&&f&&c&&(p.current=!0,h())},r=[c,f,h],s[0]=c,s[1]=f,s[2]=h,s[3]=n,s[4]=r):(n=s[3],r=s[4]),(0,u.useEffect)(n,r),s[5]!==e||s[6]!==t?(a=(0,i.jsx)(tG.BR,{ref:t,...e}),s[5]=e,s[6]=t,s[7]=a):a=s[7],a});try{tK.displayName||(tK.displayName="RepoReferenceToken")}catch{}try{tK.displayName||(tK.displayName="RepoReferenceToken")}catch{}function tZ(e){return!e.hasAttribute("aria-hidden")}function tQ(e){return e.model&&!e.model.hasLimitedCapabilities}var tJ=n(9591),tX=n(55864),tY=n(65607),t0=n(93116),t1=n(73451);let t2={dialogForm:"ConfigureMcpServersMenu-module__dialogForm--axjnZ",underline:"ConfigureMcpServersMenu-module__underline--Ii6ZO",inputError:"ConfigureMcpServersMenu-module__inputError--xZK7_",formField:"ConfigureMcpServersMenu-module__formField--nch6o",hiddenSubmitButton:"ConfigureMcpServersMenu-module__hiddenSubmitButton--rguJJ"},t5=(0,i.jsx)("a",{href:"https://modelcontextprotocol.io/specification/2025-06-18/basic/authorization",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"},children:"MCP authorization specification"}),t3=({panel:e,onPanelChange:t})=>{let[n,r]=(0,u.useState)(!1),a=(0,u.useRef)(null),[o,s]=(0,u.useState)(""),[l,c]=(0,u.useState)(""),[d,m]=(0,u.useState)(null);(0,u.useEffect)(()=>{"add-mcp"===e&&r(!0)},[e]);let h=(0,u.useCallback)(()=>{r(!1),s(""),c(""),m(null),t(null)},[t]),p=()=>""!==l.trim(),f=async e=>{if(e&&e.preventDefault(),!p()){l.trim()||m("MCP server URL is required");return}try{if(m(null),!function(e){try{let t=new URL(e.trim(),window.location.origin);return"https:"===t.protocol&&!!t.hostname&&/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t.hostname)}catch{return!1}}(l))return void m("Invalid HTTPS URL format");let e=new FormData;e.append("mcp_server_url",l.trim()),e.append("name",o.trim());let t=await (0,T.DI)("/copilot/mcp/servers",{method:"POST",body:e});if(!t.ok){let e="Failed to add MCP server";try{let n=await t.text();try{let t=JSON.parse(n);"unsupported_server_type"===t.error?e=(0,i.jsxs)(i.Fragment,{children:["This server does not conform to the ",t5,"."]}):t.message&&(e=t.message)}catch{e=n.includes("well-known/oauth-authorization-server")?(0,i.jsxs)(i.Fragment,{children:["This server does not conform to the ",t5,"."]}):n||e}}catch{e="Failed to add MCP server"}m(e);return}let n=(await t.json()).redirect_url;n&&"string"==typeof n?(h(),window.location.assign(n)):h()}catch(e){e instanceof Error?m(e.message):m("An unknown error occurred")}};return(0,i.jsx)(i.Fragment,{children:n&&(0,i.jsx)(el.l,{title:"Add remote MCP",onClose:h,footerButtons:[{buttonType:"default",content:"Cancel",onClick:h},{buttonType:"primary",content:(0,i.jsxs)(i.Fragment,{children:["Connect to MCP",(0,i.jsx)("span",{style:{marginLeft:8},children:(0,i.jsx)(w.LinkExternalIcon,{size:16})})]}),onClick:()=>{f()}}],returnFocusRef:a,children:(0,i.jsxs)("form",{className:t2.dialogForm,onSubmit:f,autoComplete:"on",children:[(0,i.jsxs)(t1.A,{className:t2.formField,children:[(0,i.jsx)(t1.A.Label,{children:"Name"}),(0,i.jsx)(tJ.A,{name:"mcp-server-name",type:"text",value:o,onChange:e=>s(e.target.value),placeholder:"Enter a name for this MCP",autoComplete:"on",block:!0})]}),(0,i.jsxs)(t1.A,{required:!0,className:t2.formField,children:[(0,i.jsx)(t1.A.Label,{children:"MCP server URL"}),(0,i.jsx)(tJ.A,{name:"mcp-url",type:"url",value:l,onChange:e=>{c(e.target.value),m(null)},placeholder:"https://mcp.example.com/sse",className:d?t2.inputError:void 0,autoComplete:"on",block:!0}),d&&(0,i.jsx)(t1.A.Validation,{variant:"error",children:d})]}),(0,i.jsx)("button",{type:"submit",className:t2.hiddenSubmitButton,tabIndex:-1,children:"Submit"}),(0,i.jsxs)("p",{children:["MCP data will be processed by models coming from third-party providers. Always review the permissions required by the MCP and only connect to MCPs you know and trust. You can revoke access for the MCP at any time in"," ",(0,i.jsx)("a",{href:"/settings",className:t2.underline,children:"your settings"}),"."]})]})})})};try{t5.displayName||(t5.displayName="MCP_SPEC_LINK")}catch{}try{t3.displayName||(t3.displayName="ConfigureMcpServersMenu")}catch{}let t4={container:"McpToolsManager-module__container--cYWPI",header:"McpToolsManager-module__header--Oajnd",headerTitle:"McpToolsManager-module__headerTitle--gw2Fr",searchInput:"McpToolsManager-module__searchInput--EnBEo",contentArea:"McpToolsManager-module__contentArea--QjXge",loadingContainer:"McpToolsManager-module__loadingContainer--BSyl_",emptyState:"McpToolsManager-module__emptyState--nZxUC",emptyStateTitle:"McpToolsManager-module__emptyStateTitle--AaZZo",emptyStateDescription:"McpToolsManager-module__emptyStateDescription--xBhZh",footer:"McpToolsManager-module__footer--dAl5m"},t6=({anchorRef:e,open:t,onOpenChange:n,onSelectionChange:r})=>{let[a,o]=(0,u.useState)(!1),[s,l]=(0,u.useState)(null),[c,d]=(0,u.useState)([]),[m,h]=(0,u.useState)(!1),[p,f]=(0,u.useState)(null),[g,y]=(0,u.useState)(()=>new Set),[x,v]=(0,u.useState)(""),b=e=>{y(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},_=(0,u.useCallback)(()=>{let e=[];for(let t of c)g.has(t.id)&&e.push({serverId:t.id,serverText:t.text});return e},[c,g]);u.useEffect(()=>{let e=_();r?.(e)},[g,c,_,r]),(0,u.useEffect)(()=>{t&&C()},[t]);let C=async()=>{h(!0),f(null);try{let e=await fetch("/copilot/mcp/servers.json",{headers:{Accept:"application/json"}});if(!e.ok)throw Error(`HTTP ${e.status}: ${e.statusText}`);let t=await e.json();d(t.servers)}catch(e){f(e instanceof Error?e.message:"Failed to load MCP servers")}finally{h(!1)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ex.T,{open:t,onOpen:()=>n(!0),onClose:()=>n(!1),anchorRef:e,renderAnchor:()=>(0,i.jsx)(i.Fragment,{}),width:"medium",children:(0,i.jsxs)("div",{className:t4.container,children:[(0,i.jsxs)("div",{className:t4.header,children:[(0,i.jsx)("div",{className:t4.headerTitle,children:"Select MCP servers"}),(0,i.jsx)(tJ.A,{placeholder:"Search by provider",value:x,onChange:e=>v(e.target.value),className:t4.searchInput,leadingVisual:w.SearchIcon})]}),(0,i.jsx)("div",{className:t4.contentArea,children:m?(0,i.jsx)("div",{className:t4.loadingContainer,children:(0,i.jsx)(tz.A,{})}):p?(0,i.jsxs)(t0.E,{children:[(0,i.jsx)(t0.E.Visual,{children:"\u26A0\uFE0F"}),(0,i.jsx)(t0.E.Heading,{children:"Error loading tools"})]}):0===c.length?(0,i.jsxs)("div",{className:t4.emptyState,children:[(0,i.jsx)(w.ToolsIcon,{size:24}),(0,i.jsx)("div",{className:t4.emptyStateTitle,children:"You don't have any MCP tools configured"}),(0,i.jsx)("div",{className:t4.emptyStateDescription,children:"Add one to connect models to files, APIs, databases, and more."})]}):(0,i.jsx)(tX.G,{"aria-label":"MCP server selection","aria-multiselectable":"true",children:c.filter(e=>e.text.toLowerCase().includes(x.toLowerCase())).map(e=>{let t=g.has(e.id);return(0,i.jsxs)(tX.G.Item,{id:e.id,onSelect:()=>b(e.id),current:t,"aria-selected":t,children:[(0,i.jsx)(tX.G.LeadingVisual,{children:(0,i.jsx)(tY.A,{checked:t,readOnly:!0,"aria-label":`Select ${e.text}`})}),e.text,(0,i.jsx)(tX.G.SubTree,{})]},e.id)})})}),(0,i.jsx)("div",{className:t4.footer,children:(0,i.jsx)(N.Q,{variant:"default",leadingVisual:w.PlusIcon,onClick:()=>{o(!0),l("add-mcp")},block:!0,children:"New tool"})})]})},"mcp-tool-manager"),a&&(0,i.jsx)(t3,{panel:s,onPanelChange:e=>{l(e),!e&&(o(!1),t&&C())}})]})};try{t6.displayName||(t6.displayName="McpToolsManager")}catch{}let t7=()=>{let e,t,n=(0,o.c)(3),[r,a]=(0,u.useState)(!1),s=(0,u.useRef)(null);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(N.Q,{ref:s,leadingVisual:w.SlidersIcon,variant:"invisible","aria-label":"MCP Tools",onClick:()=>a(!0),children:"Tools"}),n[0]=e):e=n[0],n[1]!==r?(t=(0,i.jsxs)(i.Fragment,{children:[e,(0,i.jsx)(t6,{anchorRef:s,open:r,onOpenChange:a})]}),n[1]=r,n[2]=t):t=n[2],t};try{t7.displayName||(t7.displayName="McpToolMenu")}catch{}var t8=n(66912),t9=n(31637);let ne=["github:cancel","copilot-chat:send-message","copilot-chat:edit-last-message"],nt=e=>{let t,n,r,a,c,d,m,h,p,x,v,b,w,N,z,q,ee,et,en,er,ea,ei,eo,es,el,ec,ed,eu,em,eh,ep,ef,eg,ey=(0,o.c)(145),ex=(0,A.Pk)(),ev=(0,E.b)();ey[0]!==ev?(t=ev.maxMessagesReached(),ey[0]=ev,ey[1]=t):t=ey[1];let eb=t,[e_,eC]=(0,u.useState)(null),eS="loading"===ex.slashCommandLoading.state,{safeSetTimeout:ew}=(0,j.A)(),{isLicensedLimited:ej}=(0,t9.xR)(),{onSelectReference:eN}=e,eI=(0,u.useRef)(null),eT=(0,u.useRef)(""),eR=(0,u.useRef)(!1),{activeCopilotSpaceId:ek}=(0,f.C)();ey[2]!==e_||ey[3]!==ex.mode?(n=e=>{eI.current=null,eT.current="",eR.current=!1,e_&&(eC(null),void 0!==e&&e&&(0,s.BI)("dotcom_chat.activate",{target:"CONVERT_TO_FILE_DISMISS",mode:ex.mode}))},ey[2]=e_,ey[3]=ex.mode,ey[4]=n):n=ey[4];let eA=n,eE=ex.isWaitingOnCopilot||ex.isWaitingOnAttachment||eS;ey[5]!==eA||ey[6]!==e.onSubmit||ey[7]!==e.textAreaRef||ey[8]!==eE?(r={isLoading:eE,onSubmit:e.onSubmit,textAreaRef:e.textAreaRef,clearPastedFile:eA},ey[5]=eA,ey[6]=e.onSubmit,ey[7]=e.textAreaRef,ey[8]=eE,ey[9]=r):r=ey[9];let{typingHasStarted:eM,textAreaRef:eP,textareaPreviewRef:eL,textAreaPreviewContainerRef:eF,text:e$,setText:eB,handleSubmit:eD,handleSubmitToNewThread:eO,handleScroll:eU,handleChange:ez,handleStop:eq,handleFocus:eV}=function(e){let t=(0,A.Pk)(),n=(0,E.b)(),{selectedThreadID:r,mode:a,autoSubmit:i,model:o}=t,{clearPastedFile:c,isLoading:d,onSubmit:m}=e,h=U.J.getSavedMessage(r),p=U.J.getSavedUserMessageOnError(r),{pathname:f}=(0,l.zy)(),[g,y]=(0,l.ok)(),[x,v]=(0,u.useState)(()=>G(t.mode,f,g)??p??h??""),[b,_]=(0,u.useState)(!1),C=(0,u.useRef)(null),S=e.textAreaRef||C,w=(0,u.useRef)(null),j=(0,u.useRef)(null),N=(0,u.useRef)(0),I=(0,u.useRef)(null),T=(0,u.useRef)(()=>{}),R=(0,u.useRef)(!1),k=(0,H.GF)(t.availableModels),M=(0,u.useCallback)(async()=>{t.renderAttachKnowledgeBaseHerePopover&&await n.fetchKnowledgeBases()},[n,t.renderAttachKnowledgeBaseHerePopover]);(0,u.useEffect)(()=>{M()},[M]),(0,u.useEffect)(()=>{U.J.setSavedMessage(r,x)},[r,x]),(0,O.N)(()=>{let e=0;!function t(){if(!S.current||!j.current||!w.current)return;e++,0===S.current.scrollHeight&&e<10&&setTimeout(t,1),S.current.style.height="0";let n=S.current.scrollHeight,r=Math.min(n,300);w.current.style.height=`${n}px`,S.current.style.height=`${n}px`,j.current.style.height=`${r}px`}()},[x,S,w]);let P=(0,u.useCallback)(()=>{S?.current&&w?.current&&j?.current&&(w.current.scrollTop=S.current.scrollTop,w.current.scrollLeft=S.current.scrollLeft)},[S]),L=(0,u.useMemo)(()=>t.currentReferences.filter(e=>!("isClientOnly"in e)||!e.isClientOnly),[t.currentReferences]),F=(0,u.useCallback)(async e=>{if(_(!1),U.J.clearSavedUserMessage(r),U.J.clearSavedUserMessageOnError(r),t.defaultRecipient&&!x.includes(`@${t.defaultRecipient}`)&&n.clearDefaultRecipient(),e?.preventDefault(),"assistive"===t.mode&&await V(x,t,n)){(0,s.BI)("dotcom_chat.activate",{target:"SLASH_COMMAND_EXECUTED",mode:t.mode,command:x}),"/new"===x.trim()&&U.J.setSavedMessageFast(r,null),v("");return}if(!d){let e=x;if(!e){let[t,r]=n.tryInferMessage(L);if(!t||!r)return;e=r}v(""),await m?.(e)}},[d,n,m,r,L,t,x]),$=(0,u.useCallback)(()=>n.sendMessageToNewThread(r,x,L,t.context,k),[n,r,t.context,L,x,k]);(0,u.useEffect)(()=>{(async()=>{let e=G(a,f,g),t=new URLSearchParams(g),n=t.get("model"),r=!n||n===o.id;e&&r&&!R.current&&(t.delete("prompt"),t.delete("model"),(0,s.BI)("dotcom_chat.activate",{target:"COPILOT_PROMPT_LOADED_FROM_URL",mode:"immersive"}),y(t,{replace:!0}),i&&(R.current=!0,await Promise.resolve(),await F()))})()},[f,g,y,a,i,o,F]);let B=(0,u.useCallback)(e=>{_(!0),S?.current&&(v(e.target.value),c?.(),N.current=0,P())},[P,c,S]),D=(0,u.useCallback)(async()=>{await n.stopStreaming(),null!=r&&(n.startThreadReload(),await new Promise(e=>{I.current=setTimeout(()=>e(r),6e3)}),T.current=await n.fetchMessages(r,!0,!0))},[n,r]);return(0,u.useEffect)(()=>{T.current&&(T.current(),T.current=()=>{})},[t.messages]),(0,u.useEffect)(()=>()=>{I.current&&(clearTimeout(I.current),I.current=null),n.cancelThreadReload(),T.current=()=>{}},[n]),{typingHasStarted:b,textAreaRef:S,textareaPreviewRef:w,textAreaPreviewContainerRef:j,text:x,setText:v,handleSubmit:F,handleSubmitToNewThread:$,handleScroll:P,handleChange:B,handleStop:D,handleFocus:e=>{e.currentTarget.selectionStart>0||e.currentTarget.setSelectionRange(e.currentTarget.value.length,e.currentTarget.value.length)}}}(r);ey[10]!==ez||ey[11]!==eP?(a={inputRef:eP,fallbackEventHandler:ez},ey[10]=ez,ey[11]=eP,ey[12]=a):a=ey[12];let eH=(0,S.H)(a);ey[13]!==eH||ey[14]!==e.figmaAuthUrl||ey[15]!==eP?(c={figmaAuthUrl:e.figmaAuthUrl,textAreaRef:eP,emitChange:eH},ey[13]=eH,ey[14]=e.figmaAuthUrl,ey[15]=eP,ey[16]=c):c=ey[16];let{replaceUrlWithReferenceMention:eG}=function(e){let t,n,r,a,i,s,l,c,d,u,m,h,p,f=(0,o.c)(37),{figmaAuthUrl:y,textAreaRef:x,emitChange:v}=e,b=(0,E.b)(),{currentReferences:_}=(0,A.Pk)();f[0]!==v||f[1]!==x?(t=(e,t,n)=>{if(!x.current||e===t)return;let r=n?.[0]??0,a=x.current.value.slice(r,n?.[1]),i=a.indexOf(e);for(;i>-1;){let n=i+e.length;v(t,[i+r,n+r]),i=(a=a.replace(e,t)).indexOf(e)}},f[0]=v,f[1]=x,f[2]=t):t=f[2];let C=t;f[3]!==b?(n=e=>{let{itemUrl:t}=e,n=(0,g.Vc)(t);return b.addReference(n,"url-attacher"),b.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!0}),n},f[3]=b,f[4]=n):n=f[4],f[5]!==C||f[6]!==b?(r=(e,t,n)=>{let{parsedReferenceMention:r}=t;b.replaceReference(n,e);let a=M.Q.for(e);if(!a)return;let i=M.Q.stringify(r),o=M.Q.stringify(a);i!==o&&C(i,o)},a=(e,t,n)=>{let{itemUrl:r,parsedReferenceMention:a}=t;b.removeReference(n),C(M.Q.stringify(a),r)},f[5]=C,f[6]=b,f[7]=r,f[8]=a):(r=f[7],a=f[8]),f[9]!==b?(i=()=>{b.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!1})},f[9]=b,f[10]=i):i=f[10],f[11]!==n||f[12]!==r||f[13]!==a||f[14]!==i?(s={mutationFn:D,onMutate:n,onSuccess:r,onError:a,onSettled:i},f[11]=n,f[12]=r,f[13]=a,f[14]=i,f[15]=s):s=f[15];let S=(0,I.n)(s);f[16]!==b?(l=e=>{let t=(0,g.Vc)(e);return b.addReference(t,"figma-attacher"),b.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!0}),t},c=(e,t,n)=>{b.replaceReference(n,e)},f[16]=b,f[17]=l,f[18]=c):(l=f[17],c=f[18]),f[19]!==y||f[20]!==b?(d=(e,t,n)=>{n&&y&&e instanceof $?b.replaceReference(n,{type:"figma",title:"Sign in to Figma",id:`forbidden-${t}`,url:y,thumbnailUrl:"",fullImageUrl:"",authenticationRequired:!0}):b.removeReference(n)},f[19]=y,f[20]=b,f[21]=d):d=f[21],f[22]!==b?(u=()=>{b.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!1})},f[22]=b,f[23]=u):u=f[23],f[24]!==u||f[25]!==l||f[26]!==c||f[27]!==d?(m={mutationFn:B,onMutate:l,onSuccess:c,onError:d,onSettled:u},f[24]=u,f[25]=l,f[26]=c,f[27]=d,f[28]=m):m=f[28];let w=(0,I.n)(m);f[29]!==_||f[30]!==w||f[31]!==C||f[32]!==S||f[33]!==x?(h=e=>{let t=x.current?.value.slice(...e)??"";if(/\s/.test(t))return t;let n=M.Q.fromUrl(t);n&&(_.every(e=>!M.Q.refersTo(n,e))&&S.mutate({itemUrl:t,parsedReferenceMention:n}),C(t,M.Q.stringify(n),e));let r=F.exec(t);return r&&(w.mutate(t),C(t,r[1],e)),t},f[29]=_,f[30]=w,f[31]=C,f[32]=S,f[33]=x,f[34]=h):h=f[34];let j=h;return f[35]!==j?(p={replaceUrlWithReferenceMention:j},f[35]=j,f[36]=p):p=f[36],p}(c),{isLoading:eW,addReferenceForMention:eK,addReferencesForMentions:eZ}=function(){let e=(0,E.b)(),{currentReferences:t,mode:n}=(0,A.Pk)(),r=(0,I.n)({mutationFn:async e=>{let t="repository"===e.type?[e.repo]:[e.repo,L(e.type),e.id??""],r=await (0,T.lS)(`/copilot/chat/reference/${t.join("/")}`);if(!r.ok)throw Error(`Failed to fetch reference data (${r.status}: ${r.statusText})`);return(0,s.BI)("dotcom_chat.activate",{target:"REFERENCE_LINK_PASTE",mode:n,linkType:e.type}),await r.json()},onSuccess:t=>e.addReference(t,"chatInput")}),a=e=>{t.every(t=>!M.Q.refersTo(e,t))&&r.mutate(e)};return{isLoading:r.isPending,addReferenceForMention:a,addReferencesForMentions:e=>{let n=(0,R.l)().use(P.U,{references:t,agents:[]}).parse(e),r=0;(0,k.YR)(n,e=>{"reference-mention"===e.type&&void 0===e.data.mentionedReferenceId&&r<20&&(r++,a(e.data.referenceMention))})}}}(),eQ=(0,Y.FQ)(),eJ=!!(ek&&eQ),eX=eS||eW||ex.isWaitingOnAttachment||!!e.submitDisabled,eY=0===e$.length;ey[17]!==eq||ey[18]!==ex.mode?(d=()=>{(0,s.BI)("dotcom_chat.activate",{target:"CHAT_MESSAGE_STOP",mode:ex.mode}),eq()},ey[17]=eq,ey[18]=ex.mode,ey[19]=d):d=ey[19];let e0=d;ey[20]!==ek||ey[21]!==eA||ey[22]!==eD||ey[23]!==ev||ey[24]!==e_||ey[25]!==eJ||ey[26]!==ex.mode||ey[27]!==eX?(m=async()=>{eX||((0,s.BI)("dotcom_chat.activate",{target:"CHAT_MESSAGE_SUBMIT",mode:ex.mode}),eJ&&await ev.selectPendingThread(ek),e_&&eA(!1),eD())},ey[20]=ek,ey[21]=eA,ey[22]=eD,ey[23]=ev,ey[24]=e_,ey[25]=eJ,ey[26]=ex.mode,ey[27]=eX,ey[28]=m):m=ey[28];let e1=m;ey[29]!==ek||ey[30]!==eO||ey[31]!==ev||ey[32]!==eJ||ey[33]!==eX?(h=async()=>{eX||(eJ&&await ev.selectPendingThread(ek),eO())},ey[29]=ek,ey[30]=eO,ey[31]=ev,ey[32]=eJ,ey[33]=eX,ey[34]=h):h=ey[34];let e2=h;ey[35]!==ev||ey[36]!==ex.messages?(p=()=>{let e=ex.messages.findLast(ni)?.id;e&&ev.startEditingMessage(e)},ey[35]=ev,ey[36]=ex.messages,ey[37]=p):p=ey[37];let e5=p,e3=ex.isWaitingOnCopilot?"Copilot is responding\u2026":ex.defaultRecipient?void 0:eb?"Message limit reached. To continue chatting with Copilot, start a new conversation.":e.placeholder?e.placeholder:"How can I help you?";ex.defaultRecipient&&""===e$&&!eM&&eB(`@${ex.defaultRecipient} `);let e4=(0,u.useRef)(null),[e6,e7]=(0,u.useState)(null);ey[38]!==ex.mode?(x=()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU",mode:ex.mode}),e7(no)},ey[38]=ex.mode,ey[39]=x):x=ey[39];let e8=x;ey[40]!==ev||ey[41]!==ex.mode||ey[42]!==ex.skillOptions?.deepCodeSearch?(v=()=>{(0,s.BI)("dotcom_chat.activate",{target:"DEEP_CODESEARCH",mode:ex.mode}),ev.dispatch({type:"SET_DEEP_CODESEARCH",deepCodeSearch:!ex.skillOptions?.deepCodeSearch})},ey[40]=ev,ey[41]=ex.mode,ey[42]=ex.skillOptions?.deepCodeSearch,ey[43]=v):v=ey[43],ex.skillOptions?.deepCodeSearch;let e9=v,{model:te}=(0,A.bP)("model"),tt=Z.W.attachImagesImmersive&&"immersive"===ex.mode&&!!te.capabilities.supports.vision||!1;ey[44]!==ek||ey[45]!==ev||ey[46]!==te||ey[47]!==eJ||ey[48]!==e.existingFileNames||ey[49]!==tt||ey[50]!==ex?(b=async(t,n,r,a)=>{let i=new Q.s(ex,ev),o=new X.E(ev,e.existingFileNames),s=[];[...t].some(ns)&&!te.capabilities.supports.vision&&(ev.addAmbientError(`The ${te.displayName} model doesn't support answering questions about images. Select a different model and try again.`),(0,J.d)("vision_not_supported_for_model",{modelId:te.id,uploadType:n}));let[l,c]=Q.s.getAllowedFiles([...t],te);if(tt){let e=await i.addImageAttachments(l,n,ek,eJ);e&&s.push(...e)}let d=[];for(let e of c)if(await X.E.isAttachable(e)){let t=await o.addAttachment(e,r,a);t&&s.push(t)}else d.push(e.type);return tt&&d.length>0&&(0,J.d)("included_unsupported_file",{fileTypes:d.join(","),uploadType:n}),s},ey[44]=ek,ey[45]=ev,ey[46]=te,ey[47]=eJ,ey[48]=e.existingFileNames,ey[49]=tt,ey[50]=ex,ey[51]=b):b=ey[51];let tn=b;ey[52]!==eA||ey[53]!==tn||ey[54]!==e_||ey[55]!==eB||ey[56]!==ex.mode||ey[57]!==e$?(w=async()=>{if(!e_)return;let e=[e_],t=await tn(e,"paste",eI.current||void 0,eT.current);if(t.length>0&&t[0]?.type==="thread-scoped-file"){let e=await e_.text();eB(e$.replaceAll(e,`@${t[0].name}`)),eA(!1),(0,s.BI)("dotcom_chat.activate",{target:"CONVERT_TO_FILE_CONVERT",mode:ex.mode})}},ey[52]=eA,ey[53]=tn,ey[54]=e_,ey[55]=eB,ey[56]=ex.mode,ey[57]=e$,ey[58]=w):w=ey[58];let tr=w;ey[59]!==eA?(N=()=>{eA(!0)},ey[59]=eA,ey[60]=N):N=ey[60];let ti=N;ey[61]!==e_||ey[62]!==ex.isWaitingOnAttachment||ey[63]!==ex.mode?(z=()=>{!e_||ex.isWaitingOnAttachment||eR.current||(eR.current=!0,(0,s.BI)("dotcom_chat.activate",{target:"CONVERT_TO_FILE_TRIGGER",mode:ex.mode}))},q=[e_,ex.isWaitingOnAttachment,ex.mode],ey[61]=e_,ey[62]=ex.isWaitingOnAttachment,ey[63]=ex.mode,ey[64]=z,ey[65]=q):(z=ey[64],q=ey[65]),(0,u.useEffect)(z,q),ey[66]!==eZ||ey[67]!==tn||ey[68]!==ev||ey[69]!==e.existingFileNames||ey[70]!==eG||ey[71]!==ew||ey[72]!==eP?(ee=t=>{let n=t.clipboardData;if(n?.items){let r=[];for(let t=0;t<n.items.length;t++){let a=n.items[t];if(a){if("file"===a.kind){let e=a.getAsFile();e&&r.push(e)}else if("string"===a.kind&&["text","text/plain"].includes(a.type)){let t=n.getData(a.type);if(t.length>1e3&&t.length<=X.E.getAttachmentSizeLimit())ew(()=>{eR.current=!1;let n=new File([t],"",{type:X.x}),r=new X.E(ev,e.existingFileNames);eC(n),eI.current=r.generateFileName(t,n.type).then(e=>eT.current=e)},1);else{eZ(t);let e=eP.current?.selectionStart??0;setTimeout(()=>eG([e,e+t.length]));return}}}}r.length>0&&(t.preventDefault(),tn(r,"paste"))}},ey[66]=eZ,ey[67]=tn,ey[68]=ev,ey[69]=e.existingFileNames,ey[70]=eG,ey[71]=ew,ey[72]=eP,ey[73]=ee):ee=ey[73];let to=ee;ey[74]!==tn?(et=e=>{tn(e,"drag")},ey[74]=tn,ey[75]=et):et=ey[75];let ts=et,tl=tt&&Z.W.wholeAreaDragDrop,tc=ek&&eQ,td=!tl||tc?eP.current:void 0;ey[76]!==ts||ey[77]!==td?(en={onFilesDrop:ts,targetElement:td},ey[76]=ts,ey[77]=td,ey[78]=en):en=ey[78],(0,W.J)(en);let tu=e.isStreaming||ex.isWaitingOnCopilot,tm=tu?e0:void 0,th=eY?e5:void 0;ey[79]!==e8||ey[80]!==e1||ey[81]!==e2||ey[82]!==e9||ey[83]!==tm||ey[84]!==th?(ea={"github:cancel":tm,"copilot-chat:send-message":e1,"copilot-chat:send-message-new-conversation":e2,"copilot-chat:add-attachment":e8,"copilot-chat:edit-last-message":th,"copilot-chat:deep-codesearch":e9},ey[79]=e8,ey[80]=e1,ey[81]=e2,ey[82]=e9,ey[83]=tm,ey[84]=th,ey[85]=ea):ea=ey[85],er=ea;let tp="small"===e.size;ey[86]!==tp?(ei=(0,y.$)(tL.container,{[tL.containerSmall]:tp}),ey[86]=tp,ey[87]=ei):ei=ey[87];let tf="small"===e.size?"small":"medium",tg=!!e_&&!ex.isWaitingOnAttachment;ey[88]!==tr||ey[89]!==ti||ey[90]!==eW||ey[91]!==eN||ey[92]!==e.getReferenceVersion||ey[93]!==tf||ey[94]!==tg?(eo=(0,i.jsx)(tW,{className:tL.attachments,returnFocusRef:e4,tokenSize:tf,isLoading:eW,onSelectReference:eN,getReferenceVersion:e.getReferenceVersion,showConvertToFileText:tg,onConvertToFile:tr,onConvertToFileDismiss:ti}),ey[88]=tr,ey[89]=ti,ey[90]=eW,ey[91]=eN,ey[92]=e.getReferenceVersion,ey[93]=tf,ey[94]=tg,ey[95]=eo):eo=ey[95];let ty=eb||e.disabled;ey[96]===Symbol.for("react.memo_cache_sentinel")?(es=(0,_.G)("copilot-chat-input-textarea"),ey[96]=es):es=ey[96],ey[97]!==ez||ey[98]!==eV||ey[99]!==to||ey[100]!==eU||ey[101]!==e3||ey[102]!==ty||ey[103]!==e$||ey[104]!==eP?(el=(0,i.jsx)("textarea",{autoFocus:!0,id:K.wg,className:tL.input,autoComplete:"off",autoCorrect:"off",spellCheck:"false","aria-multiline":"true",onPaste:to,ref:eP,onScroll:eU,onChange:ez,onFocus:eV,placeholder:e3,value:e$,"data-react-autofocus":!0,disabled:ty,...es}),ey[97]=ez,ey[98]=eV,ey[99]=to,ey[100]=eU,ey[101]=e3,ey[102]=ty,ey[103]=e$,ey[104]=eP,ey[105]=el):el=ey[105],ey[106]!==eK||ey[107]!==el?(ec=(0,i.jsx)(tM,{onSelectReference:eK,onShowAgentsDialog:e7,children:el}),ey[106]=eK,ey[107]=el,ey[108]=ec):ec=ey[108],ey[109]!==e$||ey[110]!==eL?(ed=(0,i.jsx)(tB,{text:e$,ref:eL}),ey[109]=e$,ey[110]=eL,ey[111]=ed):ed=ey[111],ey[112]!==ec||ey[113]!==ed||ey[114]!==eF?(eu=(0,i.jsxs)(C.tL.LimitKeybindingScope,{commandIds:ne,className:tL.inputContainer,ref:eF,children:[ec,ed]}),ey[112]=ec,ey[113]=ed,ey[114]=eF,ey[115]=eu):eu=ey[115];let tx=ex.skillOptions?.deepCodeSearch,tv=!!e.hideAttachmentButton;return ey[116]!==e8||ey[117]!==eQ||ey[118]!==ej||ey[119]!==e.extraToolbarLeft||ey[120]!==e.onNewThreadSelected||ey[121]!==e.showModelPicker||ey[122]!==e.showSpacesSelect||ey[123]!==e.submitButtonLabel||ey[124]!==ex.mode||ey[125]!==tu||ey[126]!==eX||ey[127]!==tx||ey[128]!==tv?(em=(0,i.jsx)(nn,{addAttachment:e8,attachmentButtonRef:e4,deepCodeSearch:tx,hideAttachmentButton:tv,stoppable:tu,submitDisabled:eX,onNewThreadSelected:e.onNewThreadSelected,showModelPicker:e.showModelPicker,isLicensedLimited:ej,mode:ex.mode,extraToolbarLeft:e.extraToolbarLeft,isCopilotSpacePath:eQ,submitButtonLabel:e.submitButtonLabel,showSpacesSelect:e.showSpacesSelect}),ey[116]=e8,ey[117]=eQ,ey[118]=ej,ey[119]=e.extraToolbarLeft,ey[120]=e.onNewThreadSelected,ey[121]=e.showModelPicker,ey[122]=e.showSpacesSelect,ey[123]=e.submitButtonLabel,ey[124]=ex.mode,ey[125]=tu,ey[126]=eX,ey[127]=tx,ey[128]=tv,ey[129]=em):em=ey[129],ey[130]!==ei||ey[131]!==eo||ey[132]!==eu||ey[133]!==em?(eh=(0,i.jsxs)("form",{className:ei,children:[eo,eu,em]}),ey[130]=ei,ey[131]=eo,ey[132]=eu,ey[133]=em,ey[134]=eh):eh=ey[134],ey[135]!==er||ey[136]!==eh?(ep=(0,i.jsx)(C.tL,{commands:er,children:eh}),ey[135]=er,ey[136]=eh,ey[137]=ep):ep=ey[137],ey[138]!==e6||ey[139]!==ez||ey[140]!==eP?(ef=(0,i.jsx)(ta,{inputRef:eP,inputOnChange:ez,anchorRef:e4,panel:e6,onPanelChange:e7}),ey[138]=e6,ey[139]=ez,ey[140]=eP,ey[141]=ef):ef=ey[141],ey[142]!==ep||ey[143]!==ef?(eg=(0,i.jsxs)(i.Fragment,{children:[ep,ef]}),ey[142]=ep,ey[143]=ef,ey[144]=eg):eg=ey[144],eg},nn=(0,u.memo)(e=>{let t,n,r,a,s,l,c,d,u,m=(0,o.c)(31),{addAttachment:h,attachmentButtonRef:p,deepCodeSearch:f,hideAttachmentButton:g,stoppable:x,submitDisabled:v,onNewThreadSelected:_,showModelPicker:S,isLicensedLimited:j,mode:I,extraToolbarLeft:T,isCopilotSpacePath:R,submitButtonLabel:k,showSpacesSelect:A}=e;return m[0]!==f?(t=Z.W.showDeepCodeSearchButton&&(0,i.jsx)(C.N5,{commandId:"copilot-chat:deep-codesearch",icon:w.RocketIcon,variant:"invisible",tooltipDirection:"n",className:(0,y.$)({[tL.clicked]:f})}),m[0]=f,m[1]=t):t=m[1],m[2]!==h||m[3]!==p||m[4]!==g?(n=!g&&(0,i.jsx)(N.Q,{ref:p,leadingVisual:w.PaperclipIcon,variant:"invisible",onClick:h,"data-testid":"attachment-menu-button",children:"Attach"}),m[2]=h,m[3]=p,m[4]=g,m[5]=n):n=m[5],m[6]!==R||m[7]!==I?(r=ee(Z.W.copilotMcp,I,R)&&(0,i.jsx)(t7,{}),m[6]=R,m[7]=I,m[8]=r):r=m[8],m[9]!==A?(a=Z.W.spacesInputMenuSelect&&A&&(0,i.jsx)(b,{}),m[9]=A,m[10]=a):a=m[10],m[11]!==T||m[12]!==t||m[13]!==n||m[14]!==r||m[15]!==a?(s=(0,i.jsxs)("div",{className:tL.toolbarLeft,children:[t,n,r,T,a]}),m[11]=T,m[12]=t,m[13]=n,m[14]=r,m[15]=a,m[16]=s):s=m[16],m[17]!==j||m[18]!==_||m[19]!==S?(l=_&&S&&(0,i.jsx)(t8.Yb,{onNewThreadSelected:_,limited:j}),m[17]=j,m[18]=_,m[19]=S,m[20]=l):l=m[20],m[21]!==x||m[22]!==k||m[23]!==v?(c=x?(0,i.jsx)(na,{}):(0,i.jsx)(nr,{disabled:v,label:k}),m[21]=x,m[22]=k,m[23]=v,m[24]=c):c=m[24],m[25]!==l||m[26]!==c?(d=(0,i.jsxs)("div",{className:tL.toolbarRight,children:[l,c]}),m[25]=l,m[26]=c,m[27]=d):d=m[27],m[28]!==s||m[29]!==d?(u=(0,i.jsxs)("div",{className:tL.toolbar,children:[s,d]}),m[28]=s,m[29]=d,m[30]=u):u=m[30],u});function nr(e){let t,n=(0,o.c)(3),{disabled:r,label:a}=e,s=a||"Send now";return n[0]!==r||n[1]!==s?(t=(0,i.jsx)(C.N5,{commandId:"copilot-chat:send-message",variant:"invisible",size:"medium",icon:w.PaperAirplaneIcon,"aria-label":s,disabled:r,tooltipDirection:"n"}),n[0]=r,n[1]=s,n[2]=t):t=n[2],t}function na(){let e,t=(0,o.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(C.N5,{...(0,_.G)("copilot-chat-stop-button"),commandId:"github:cancel",variant:"invisible",size:"medium",icon:w.SquareFillIcon,tooltipDirection:"n",className:tL.CommandIconButton}),t[0]=e):e=t[0],e}nn.displayName="ChatInputToolbar";try{nt.displayName||(nt.displayName="ChatInput")}catch{}try{nr.displayName||(nr.displayName="SubmitButton")}catch{}try{na.displayName||(na.displayName="StopButton")}catch{}function ni(e){return"user"===e.role}function no(e){return"attachment-types"===e?null:"attachment-types"}function ns(e){return e.type.startsWith("image/")}},83880:(e,t,n)=>{n.d(t,{$:()=>s,V:()=>l});var r=n(74848),a=n(21728),i=n(96540);let o=(0,i.createContext)(void 0),s=e=>{let t,n,i,s=(0,a.c)(5),{message:l,children:c}=e;return s[0]!==l?(n={message:l},s[0]=l,s[1]=n):n=s[1],t=n,s[2]!==c||s[3]!==t?(i=(0,r.jsx)(o.Provider,{value:t,children:c}),s[2]=c,s[3]=t,s[4]=i):i=s[4],i},l=()=>{let e=(0,i.useContext)(o);if(!e)throw Error("useChatMessage must be used with ChatMessageProvider.");return e};try{o.displayName||(o.displayName="ChatMessageContext")}catch{}try{s.displayName||(s.displayName="ChatMessageProvider")}catch{}},44669:(e,t,n)=>{n.d(t,{A:()=>d,i:()=>c});var r=n(74848),a=n(21728),i=n(96679),o=n(96540),s=n(34901),l=n(40136);let c=e=>{let t,n,c,d,u=(0,a.c)(10),{isLastGroup:m,children:h}=e,{scrollContainerHeight:p,scrollToBottom:f}=(0,l.b)(),{threadHasNewMessages:g,pendingFirstMessage:y}=(0,s.Pk)(),x=m&&(g||y);if(u[0]!==x||u[1]!==f?(t=()=>{x&&f("smooth")},n=[x,f],u[0]=x,u[1]=f,u[2]=t,u[3]=n):(t=u[2],n=u[3]),(0,o.useEffect)(t,n),x)if(i.cg?.CSS?.supports("container-type: size")){let e;u[4]===Symbol.for("react.memo_cache_sentinel")?(e={minHeight:"100cqh"},u[4]=e):e=u[4],d=e}else{let e;u[5]!==p?(e={minHeight:p},u[5]=p,u[6]=e):e=u[6],d=e}return u[7]!==h||u[8]!==d?(c=(0,r.jsx)("div",{style:d,children:h}),u[7]=h,u[8]=d,u[9]=c):c=u[9],c};function d(e){return e.reduce((e,t)=>{let n=e.at(-1);return"assistant"===(n?.at(-1)?.role??"assistant")&&"user"===t.role?e.push([t]):n?.push(t),e},[])}try{c.displayName||(c.displayName="ChatMessagesGroup")}catch{}},78758:(e,t,n)=>{n.d(t,{t:()=>M,s:()=>A});var r,a=n(74848),i=n(38621),o=n(72010),s=n(38695),l=n(15385),c=n(34614),d=n(53110),u=n(34164),m=n(96540),h=n(22069),p=n(31971),f=n(34901),g=n(65011),y=n(58569),x=n(10569),v=n(47397);let b={ActionList_LinkItem:"ChatReference-module__ActionList_LinkItem--cFCZu"};var _=n(42342),C=n(53655);function S({reference:e,onClick:t}){let n,r=(0,f.Pk)(),o=(0,v.b)(),s=(0,m.useRef)(null),[c,d]=(0,m.useState)(!1),p=r?.mode??"assistive",{currentReferences:g}=r??{currentReferences:[]},S=(0,m.useMemo)(()=>g.map(e=>(0,h.Vb)(e)),[g]),w=(0,m.useMemo)(()=>(0,h.Vb)(e),[e]),j=(0,m.useMemo)(()=>"repo-instructions"===e.type,[e]),N=(0,m.useMemo)(()=>"org-instructions"===e.type,[e]),I=!j&&!N&&"web-search-result"!==e.type,T=(0,m.useMemo)(()=>j||N||S.includes(w),[j,N,S,w]),R=(0,m.useCallback)(t=>{t.stopPropagation(),T||o.addReference(e,"refMenu")},[o,e,T]),k=(0,h.JP)(e),A=(0,h.Xs)(k),E=(0,C.a_)(e,(0,h.P)(r?.currentTopic));switch(e.type){case"file":case"snippet":{n=`${e.repoName}`;let t=e.path.lastIndexOf("/");-1!==t&&(n=`${n}/${e.path.substring(0,t)}`);break}case"web-search-result":n=new URL(e.url,window.location.origin).hostname.replace(/^www\./,"")}let M=(0,h.z$)(e);return(0,a.jsxs)(l.l.LinkItem,{onClick:n=>{t&&!n.defaultPrevented&&t(e,n)},href:k,rel:"noopener",className:(0,u.$)("reference-action",b.ActionList_LinkItem),target:"immersive"===p||"third-party"===e.type?"_blank":void 0,children:[E&&(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)(E,{})}),(0,a.jsxs)(y.A,{title:M,maxWidth:"100%",className:"text-semibold",children:[M,n&&(0,a.jsx)("span",{className:"color-fg-muted ml-2",children:n})]}),I&&(0,a.jsx)(l.l.TrailingAction,{onClick:()=>d(!0),icon:i.KebabHorizontalIcon,label:"More reference options",ref:s}),I&&(0,a.jsx)(x.W,{anchorRef:s,open:c,onOpenChange:d,children:(0,a.jsx)(_.UJ,{portalContainerName:_.Dq,children:(0,a.jsxs)(l.l,{children:[A&&("immersive"===p||["third-party","folder","repository","docset"].includes(e.type)?(0,a.jsxs)(l.l.LinkItem,{href:k,rel:"noopener",target:"_blank",children:[(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)(i.LinkIcon,{})}),"Open"]}):(0,a.jsxs)(l.l.Item,{onSelect:()=>{o.selectReference(e)},children:[(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)(i.LinkIcon,{})}),"Preview"]})),(0,a.jsxs)(l.l.Item,{onSelect:R,disabled:T,children:[(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)(i.PaperclipIcon,{})}),"Attach to chat"]})]})})})]})}try{S.displayName||(S.displayName="OutputReference")}catch{}try{(r=Icon).displayName||(r.displayName="Icon")}catch{}let w={referencesContainer:"ChatReferences-module__referencesContainer--Lxpin",referencesListImmersiveContainer:"ChatReferences-module__referencesListImmersiveContainer--iscAs",title:"ChatReferences-module__title--zwhMS",assistiveTitle:"ChatReferences-module__assistiveTitle--vngwU",referencesDetails:"ChatReferences-module__referencesDetails--f5bdD",referenceTokensOuterContainer:"ChatReferences-module__referenceTokensOuterContainer--tFG8Q",referenceTokensContainer:"ChatReferences-module__referenceTokensContainer--PGYAF",chatMessageReferenceListFooter:"ChatReferences-module__chatMessageReferenceListFooter--nkt6v",chevronDownIcon:"ChatReferences-module__chevronDownIcon--NVWr8",chevronUpIcon:"ChatReferences-module__chevronUpIcon--JiO80",ActionList:"ChatReferences-module__ActionList--Mx5sd"};var j=n(21728),N=n(63867);let I={referenceToken:"FigmaChatReference-module__referenceToken--Qn1Il",name:"FigmaChatReference-module__name--fKkEE",content:"FigmaChatReference-module__content--X8uXy",thumbnail:"FigmaChatReference-module__thumbnail--PaX46",thumbnailHidden:"FigmaChatReference-module__thumbnailHidden--PBOGz",thumbnailOuter:"FigmaChatReference-module__thumbnailOuter--sO8P4",thumbnailLoading:"FigmaChatReference-module__thumbnailLoading--PKK05",figmaIconOuter:"FigmaChatReference-module__figmaIconOuter--dd0HF",figmaIcon:"FigmaChatReference-module__figmaIcon--iPM9K"};var T=n(39038);let R=(0,m.forwardRef)(function(e,t){let n,r,i,o,s,l,c,d,p,f,g=(0,j.c)(23);g[0]!==e?({reference:n,...r}=e,g[0]=e,g[1]=n,g[2]=r):(n=g[1],r=g[2]);let[y,x]=(0,m.useState)(!0);return g[3]!==n?(i=(0,h.JP)(n),g[3]=n,g[4]=i):i=g[4],g[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,u.$)(I.referenceToken),g[5]=o):o=g[5],g[6]!==n.thumbnailUrl||g[7]!==n.title||g[8]!==y?(s=n.thumbnailUrl&&(0,a.jsxs)(a.Fragment,{children:[y&&(0,a.jsx)("span",{className:I.thumbnailLoading,children:(0,a.jsx)(N.A,{size:"medium"})}),(0,a.jsx)("img",{className:(0,u.$)(I.thumbnail,{[I.thumbnailHidden]:y}),src:n.thumbnailUrl,alt:`preview thumbnail for ${n.title}`,onLoad:()=>x(!1)})]}),g[6]=n.thumbnailUrl,g[7]=n.title,g[8]=y,g[9]=s):s=g[9],g[10]!==s?(l=(0,a.jsx)("span",{className:I.thumbnailOuter,children:s}),g[10]=s,g[11]=l):l=g[11],g[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)("div",{className:I.figmaIconOuter,children:(0,a.jsx)(T._,{className:I.figmaIcon})}),g[12]=c):c=g[12],g[13]!==n?(d=(0,h.z$)(n),g[13]=n,g[14]=d):d=g[14],g[15]!==d?(p=(0,a.jsxs)("span",{className:I.content,children:[c,(0,a.jsx)("span",{className:I.name,children:d})]}),g[15]=d,g[16]=p):p=g[16],g[17]!==t||g[18]!==r||g[19]!==i||g[20]!==l||g[21]!==p?(f=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("a",{href:i,className:o,ref:t,target:"_blank",rel:"noreferrer",...r,children:[l,p]})}),g[17]=t,g[18]=r,g[19]=i,g[20]=l,g[21]=p,g[22]=f):f=g[22],f});try{R.displayName||(R.displayName="FigmaChatReference")}catch{}var k=n(5279);function A({references:e,onToggle:t,onClick:n,isImmersive:r,className:p}){let g=(0,f.Pk)(),y=(0,m.useMemo)(()=>(0,h.rT)(e),[e]),{getDetailsProps:x}=(0,o.A)({}),v=(0,m.useMemo)(()=>(0,h.P)(g?.currentTopic)&&y.every(E),[g?.currentTopic,y]),b=(0,m.useMemo)(()=>y.some(e=>"web-search-result"===e.type),[y]);if(0===y.length)return null;let _=v&&g?.currentTopic?.name?`Search results from ${g.currentTopic.name}`:`${y.length} ${1===y.length?"reference":"references"}`;return(0,a.jsxs)(s.A,{...x(),onToggle:t,className:(0,u.$)(p,w.referencesDetails),children:[(0,a.jsxs)("summary",{className:(0,u.$)(w.referencesContainer),children:[(0,a.jsx)("span",{className:(0,u.$)(w.title,r?"":w.assistiveTitle),children:_}),(0,a.jsx)(d.A,{icon:i.ChevronDownIcon,className:(0,u.$)("references-chevron-down",w.chevronDownIcon)}),(0,a.jsx)(d.A,{icon:i.ChevronUpIcon,className:(0,u.$)("references-chevron-up",w.chevronUpIcon)})]}),(0,a.jsxs)(l.l,{className:(0,u.$)(r&&w.referencesListImmersiveContainer,w.ActionList),children:[y.map(e=>(0,a.jsx)(S,{reference:e,onClick:n},(0,h.Vb)(e))),b&&(0,a.jsxs)("div",{className:w.chatMessageReferenceListFooter,children:["Copilot used the"," ",(0,a.jsx)(c.A,{inline:!0,href:"https://gh.io/azure-ai-agent-with-bing-grounding",target:"_blank",rel:"noopener noreferrer",children:"Bing Search"})," ","tool."," ",(0,a.jsx)(c.A,{inline:!0,href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"})]})]})]})}function E(e){return"snippet"===e.type&&!!e.languageName&&g.Yr.has(e.languageName)}function M({references:e,message:t,className:n,size:r,onClickReference:i,getReferenceVersion:o}){let{bigReferences:s,smallReferences:l}=(0,m.useMemo)(()=>(function(e){let t=(0,h.rT)(e),n=[],r=[];for(let e of t)P.has(e.type)?n.push(e):r.push(e);return{bigReferences:n,smallReferences:r}})(e),[e]),c=e=>"figma"===e.type&&p.W.immersiveFigmaIntegration?(0,a.jsx)(R,{reference:e,onClick:t=>i?.(e,t)},(0,h.Vb)(e)):(0,a.jsx)(C.BR,{message:t,reference:e,size:r,onClick:(t,n)=>i?.(e,n),getReferenceVersion:o},(0,h.Vb)(e));return(0,a.jsxs)(k.M,{"aria-label":"Attachments",className:(0,u.$)(w.referenceTokensOuterContainer,n),children:[s.map(c),(0,a.jsx)("div",{className:w.referenceTokensContainer,children:l.map(c)})]})}let P=new Set(["figma","image"]);try{A.displayName||(A.displayName="ChatMessageReferencesList")}catch{}try{M.displayName||(M.displayName="ChatMessageReferenceTokens")}catch{}try{P.displayName||(P.displayName="BIG_REFERENCE_TYPES")}catch{}},40136:(e,t,n)=>{n.d(t,{$:()=>d,b:()=>u});var r=n(74848),a=n(21728),i=n(81425),o=n(34164),s=n(96540);let l={container:"ChatScrollContainer-module__container--b73rS"},c=(0,s.createContext)(null);function d(e){let t,n,d,u,m,h,p,f,g,y,x,v,b,_,C,S=(0,a.c)(30);S[0]!==e?({children:n,disabled:d,containerRef:t,...u}=e,S[0]=e,S[1]=t,S[2]=n,S[3]=d,S[4]=u):(t=S[1],n=S[2],d=S[3],u=S[4]);let w=(0,i.L)(t),j=(0,s.useRef)(null),[N,I]=(0,s.useState)(!1);S[5]!==w.current?(m=()=>{let e=new IntersectionObserver(e=>{let[t]=e;return I(!t?.isIntersecting)},{root:w.current,threshold:0,rootMargin:"50px"});return e.observe(j.current),()=>e.disconnect()},S[5]=w.current,S[6]=m):m=S[6],S[7]!==w?(h=[w],S[7]=w,S[8]=h):h=S[8],(0,s.useEffect)(m,h);let[T,R]=(0,s.useState)();S[9]!==w.current?(p=()=>{let e=()=>{if(!w.current)return;let e=getComputedStyle(w.current);R(`calc(${w.current.clientHeight}px - ${e.paddingTop} - ${e.paddingBottom})`)},t=new ResizeObserver(e);return e(),t.observe(w.current),()=>t.disconnect()},S[9]=w.current,S[10]=p):p=S[10],S[11]!==w?(f=[w],S[11]=w,S[12]=f):f=S[12],(0,s.useEffect)(p,f),S[13]!==d?(g=e=>{d||j.current?.scrollIntoView({behavior:e,block:"end"})},S[13]=d,S[14]=g):g=S[14];let k=g;return S[15]!==N||S[16]!==T||S[17]!==k?(x={isScrolledUp:N,scrollToBottom:k,scrollContainerHeight:T},S[15]=N,S[16]=T,S[17]=k,S[18]=x):x=S[18],y=x,S[19]!==u.className?(v=(0,o.$)(l.container,u.className),S[19]=u.className,S[20]=v):v=S[20],S[21]===Symbol.for("react.memo_cache_sentinel")?(b=(0,r.jsx)("div",{ref:j,style:{height:"1px",marginTop:"-1px"}}),S[21]=b):b=S[21],S[22]!==n||S[23]!==w||S[24]!==u||S[25]!==v?(_=(0,r.jsxs)("div",{ref:w,...u,className:v,children:[n,b]}),S[22]=n,S[23]=w,S[24]=u,S[25]=v,S[26]=_):_=S[26],S[27]!==y||S[28]!==_?(C=(0,r.jsx)(c.Provider,{value:y,children:_}),S[27]=y,S[28]=_,S[29]=C):C=S[29],C}let u=()=>{let e=(0,s.useContext)(c);if(!e)throw Error("useChatScroll may only be called in a descendant of ChatScrollContainer");return e};try{c.displayName||(c.displayName="ChatScrollContext")}catch{}try{d.displayName||(d.displayName="ChatScrollContainer")}catch{}},32702:(e,t,n)=>{n.d(t,{m:()=>u});var r=n(74848),a=n(21728),i=n(84217),o=n(55847),s=n(34164),l=n(96540),c=n(34901);let d={ConfirmationContainer:"Confirmation-module__ConfirmationContainer--UNcKY",confirmationTitle:"Confirmation-module__confirmationTitle--G7KBr",confirmationMessage:"Confirmation-module__confirmationMessage--lI92p",actionButtonsContainer:"Confirmation-module__actionButtonsContainer--YJhM5"};function u(e){let t,n,u,h,p,f,g,y=(0,a.c)(21),{confirmation:x,handleConfirmation:v,isLatestMessage:b}=e,_=(0,c.Pk)();if(y[0]!==x.confirmation||y[1]!==_.allClientConfirmations){let e=JSON.stringify(Object.values(x.confirmation).sort());t=_.allClientConfirmations?.includes(e),y[0]=x.confirmation,y[1]=_.allClientConfirmations,y[2]=t}else t=y[2];let C=t,{isWaitingOnCopilot:S}=_,[w,j]=(0,l.useState)(C&&!b);y[3]!==x.confirmation||y[4]!==x.onSubmit||y[5]!==x.title||y[6]!==v?(n=e=>{j(!0),v({state:e,confirmation:x.confirmation},x.title,x.onSubmit)},y[3]=x.confirmation,y[4]=x.onSubmit,y[5]=x.title,y[6]=v,y[7]=n):n=y[7];let N=n;return y[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.$)("border rounded-2",d.ConfirmationContainer),y[8]=u):u=y[8],y[9]!==x.title?(h=(0,r.jsx)(i.A,{as:"h3",className:d.confirmationTitle,children:x.title}),y[9]=x.title,y[10]=h):h=y[10],y[11]!==x.message?(p=x.message.split(`
`).map(m),y[11]=x.message,y[12]=p):p=y[12],y[13]!==w||y[14]!==N||y[15]!==S?(f=!w&&(0,r.jsxs)("div",{className:d.actionButtonsContainer,children:[(0,r.jsx)(o.Q,{disabled:S,variant:"primary",onClick:()=>N("accepted"),children:"Allow"}),(0,r.jsx)(o.Q,{disabled:S,onClick:()=>N("dismissed"),children:"Dismiss"})]}),y[13]=w,y[14]=N,y[15]=S,y[16]=f):f=y[16],y[17]!==h||y[18]!==p||y[19]!==f?(g=(0,r.jsxs)("div",{className:u,children:[h,p,f]}),y[17]=h,y[18]=p,y[19]=f,y[20]=g):g=y[20],g}function m(e){return(0,r.jsx)("p",{className:d.confirmationMessage,children:e},e)}try{u.displayName||(u.displayName="Confirmation")}catch{}},45064:(e,t,n)=>{n.d(t,{W:()=>h});var r=n(74848),a=n(21728),i=n(50539),o=n(34164),s=n(96540);let l={copilotBadge:"CopilotBadgeV2-module__copilotBadge--OJjfk",loading:"CopilotBadgeV2-module__loading--NG3DO",animation:"CopilotBadgeV2-module__animation--cRY_E",assistive:"CopilotBadgeV2-module__assistive--aZiUP",clickableAnimationWrapper:"CopilotBadgeV2-module__clickableAnimationWrapper--mY4Cy"},c=[i.L.Tickle,i.L.Celebrate,i.L.JumpWiggle],d=["yes","absolutely","certainly","sure","definitely","right","correct","indeed","precisely","exactly","true","affirmative","agree","agreed"],u=["no","never","negative","wrong","false","untrue","cannot","can't","sorry","incorrect","deny","disagree","refuse","unfortunately"];function m(e){let t=new Date(e);return(new Date().getTime()-t.getTime())/1e3/60<.5}function h(e){let t,n,h,f,g,y,x,v,b,_,C=(0,a.c)(37),{isFirstMessage:S,isLoading:w,isLoadingSkills:j,isError:N,className:I,mode:T,message:R,createdAt:k}=e,A=void 0!==S&&S;C[0]!==k||C[1]!==A?(t=()=>({animationType:A&&(!k||m(k))?i.L.Celebrate:i.L.Static,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!1}),C[0]=k,C[1]=A,C[2]=t):t=C[2];let[E,M]=(0,s.useState)(t);C[3]!==k||C[4]!==N||C[5]!==w||C[6]!==j||C[7]!==R?(n=()=>{m(k)&&M(e=>(function({previousState:e,isLoadingSkills:t,isAffirmativeSentiment:n,isNegativeSentiment:r,isError:a,isLoading:o}){switch(e.animationType){case i.L.Static:if((n||r)&&!a&&!e.hasLoadedMessage)return{animationType:n?i.L.Affirmative:i.L.Negative,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!0};if(t)return{...e,animationType:i.L.Thinking,loopAnimation:!0};if(!o&&!e.hasLoadedMessage&&!a)return{animationType:i.L.Confirm,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!0};if(a&&!e.hasLoadedMessage)return{animationType:i.L.Negative,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!0};return e;case i.L.Thinking:if(!t)return{...e,animationType:a?i.L.Negative:i.L.Static,loopAnimation:!1};return e;default:return e}})({previousState:e,isLoadingSkills:j||!1,isError:N||!1,isLoading:w||!1,isAffirmativeSentiment:function(e){if(e.length<200){let t=e.toLowerCase().split(/\W+/).filter(Boolean);return d.some(e=>t.includes(e.toLowerCase()))}return!1}(R),isNegativeSentiment:function(e){if(e.length<200){let t=e.toLowerCase().split(/\W+/).filter(Boolean);return u.some(e=>t.includes(e.toLowerCase()))}return!1}(R)}))},C[3]=k,C[4]=N,C[5]=w,C[6]=j,C[7]=R,C[8]=n):n=C[8],C[9]!==E.animationType||C[10]!==E.hasLoadedMessage||C[11]!==k||C[12]!==N||C[13]!==A||C[14]!==w||C[15]!==j||C[16]!==R?(h=[j,N,w,E.animationType,E.hasLoadedMessage,A,R,k],C[9]=E.animationType,C[10]=E.hasLoadedMessage,C[11]=k,C[12]=N,C[13]=A,C[14]=w,C[15]=j,C[16]=R,C[17]=h):h=C[17],(0,s.useEffect)(n,h),C[18]!==E||C[19]!==w?(f=()=>{w||M({...E,animationType:c[Math.floor(Math.random()*c.length)],onFinish:i.L.Static,loopAnimation:!1})},C[18]=E,C[19]=w,C[20]=f):f=C[20];let P=f,L=w&&l.loading;C[21]!==I||C[22]!==L?(g=(0,o.$)(l.copilotBadge,L,I),C[21]=I,C[22]=L,C[23]=g):g=C[23];let F=E.animationType;C[24]===Symbol.for("react.memo_cache_sentinel")?(y=()=>M(p),C[24]=y):y=C[24];let $=E.loopAnimation,B="assistive"===T&&l.assistive;return C[25]!==B?(x=(0,o.$)(l.animation,B),C[25]=B,C[26]=x):x=C[26],C[27]!==E.animationType||C[28]!==E.loopAnimation||C[29]!==x?(v=(0,r.jsx)(i.N,{animationType:F,onAnimationEnd:y,loopAnimation:$,className:x}),C[27]=E.animationType,C[28]=E.loopAnimation,C[29]=x,C[30]=v):v=C[30],C[31]!==P||C[32]!==v?(b=(0,r.jsx)("div",{onClick:P,className:l.clickableAnimationWrapper,children:v}),C[31]=P,C[32]=v,C[33]=b):b=C[33],C[34]!==b||C[35]!==g?(_=(0,r.jsx)("div",{className:g,"aria-label":"Copilot badge",role:"img",children:b}),C[34]=b,C[35]=g,C[36]=_):_=C[36],_}function p(e){return{...e,animationType:e.onFinish}}try{h.displayName||(h.displayName="CopilotBadge")}catch{}},56521:(e,t,n)=>{n.d(t,{K:()=>y,h:()=>v});var r=n(74848),a=n(21728),i=n(91936),o=n(98386),s=n(38621),l=n(87330),c=n(55847),d=n(95726),u=n(34164),m=n(96540),h=n(22069),p=n(66889),f=n(79929),g=n(83880);function y(e){let t=(0,a.c)(8),{manager:n}=e,{message:i}=(0,g.V)(),{error:s}=i;if(!s)return null;switch(s.type){case"agentUnauthorized":{let e;return t[0]!==s||t[1]!==n?(e=(0,r.jsx)(x,{error:s,manager:n}),t[0]=s,t[1]=n,t[2]=e):e=t[2],e}case"agentRequest":{let e;return t[3]!==s.details?(e=(0,r.jsx)(v,{errors:[s.details]}),t[3]=s.details,t[4]=e):e=t[4],e}default:{let e,n;t[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.G)("error-message-banner"),t[5]=e):e=t[5];let a=s.message||"Something went wrong";return t[6]!==a?(n=(0,r.jsx)(d.l,{...e,title:"Error",hideTitle:!0,description:a,variant:"warning"}),t[6]=a,t[7]=n):n=t[7],n}}}function x(e){let t,n,i,d,p,g,y,x,v,b,_,C=(0,a.c)(25),{error:S,manager:w}=e,{details:j}=S,[N,I]=(0,m.useState)(!1);C[0]!==j.name||C[1]!==w?(t=()=>{I(!0),w.dispatch({type:"MESSAGE_ADDED",message:(0,h.Y6)({role:"user",content:`Dismissed the connection with ${j.name}.`,mediaContent:[],parentMessageID:w.FindLastMessageID()})}),w.dispatch({type:"MESSAGE_ADDED",message:(0,h.Y6)({role:"assistant",content:`I was unable to connect you to ${j.name} because you cancelled the authentication.`,mediaContent:[],parentMessageID:w.FindLastMessageID()})})},C[0]=j.name,C[1]=w,C[2]=t):t=C[2];let T=t;C[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,o.G)("agent-unauthorized-error"),C[3]=n):n=C[3],C[4]!==N||C[5]!==T?(i=!N&&(0,r.jsx)(l.K,{"aria-label":"Close",className:"position-absolute top-0 right-0 mt-2 mr-2",icon:s.XIcon,onClick:T,variant:"invisible",unsafeDisableTooltip:!0}),C[4]=N,C[5]=T,C[6]=i):i=C[6],C[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,r.jsx)(s.MarkGithubIcon,{size:48,className:"border circle borderColor-muted"}),p=(0,r.jsx)(s.LinkIcon,{className:"fgColor-muted"}),g=(0,u.$)("avatar",f.A.agentUnauthorizedAvatar,"border circle borderColor-muted"),C[7]=d,C[8]=p,C[9]=g):(d=C[7],p=C[8],g=C[9]);let R=`icon for ${j.name}`;return C[10]!==j.avatar_url||C[11]!==R?(y=(0,r.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[d,p,(0,r.jsx)("img",{className:g,src:j.avatar_url,alt:R})]}),C[10]=j.avatar_url,C[11]=R,C[12]=y):y=C[12],C[13]!==j.name?(v=(0,r.jsxs)("p",{className:"h4 m-0 text-center",children:["Connect with ",j.name]}),x=(0,r.jsxs)("p",{className:"fgColor-muted text-center",children:["To use the ",j.name," extension, you\u2019ll need to connect your GitHub account to your ",j.name," account."]}),C[13]=j.name,C[14]=x,C[15]=v):(x=C[14],v=C[15]),C[16]!==j.authorize_url||C[17]!==N?(b=!N&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Q,{as:"a",variant:"primary",size:"large",className:"width-full",href:j.authorize_url,rel:"noopener",target:"_blank",children:"Connect"}),(0,r.jsxs)("p",{className:"fgColor-muted text-center f6 m-0",children:["Click connect to be redirected to ",j.authorize_url]})]}),C[16]=j.authorize_url,C[17]=N,C[18]=b):b=C[18],C[19]!==x||C[20]!==b||C[21]!==i||C[22]!==y||C[23]!==v?(_=(0,r.jsxs)("div",{className:"position-relative d-flex flex-column flex-items-center gap-3 border rounded-2 p-5",...n,children:[i,y,v,x,b]}),C[19]=x,C[20]=b,C[21]=i,C[22]=y,C[23]=v,C[24]=_):_=C[24],_}function v(e){let t,n,i=(0,a.c)(4),{errors:o}=e;return i[0]!==o?(t=o.map(b),i[0]=o,i[1]=t):t=i[1],i[2]!==t?(n=(0,r.jsx)("div",{className:"d-flex flex-column gap-2",children:t}),i[2]=t,i[3]=n):n=i[3],n}function b(e,t){var n;return(0,r.jsxs)("div",{className:"p-3 border rounded-2",children:[(0,r.jsxs)("div",{className:"text-bold",children:[(0,r.jsx)(s.AlertFillIcon,{className:"mr-1 fgColor-attention"})," ","http"===(n=e).type?`${n.code} ${n.identifier}`:`${(0,p.Z)(n.type)} error`]}),(0,r.jsx)(i.To,{markdown:e.message})]},t)}try{y.displayName||(y.displayName="ErrorMessage")}catch{}try{x.displayName||(x.displayName="AgentUnauthorizedError")}catch{}try{v.displayName||(v.displayName="AgentErrors")}catch{}},78929:(e,t,n)=>{n.d(t,{G:()=>v});var r=n(74848),a=n(21728),i=n(38621),o=n(87330),s=n(96540),l=n(34901),c=n(47397),d=n(83880);let u={submittedFeedbackButton:"Feedback-module__submittedFeedbackButton--P_4a2"};var m=n(13455),h=n(31971),p=n(74244),f=n(69458);let g={thumbsUp:"MessageFeedbackDialog-module__thumbsUp--L1svG",thumbsDown:"MessageFeedbackDialog-module__thumbsDown--xdoe9"},y=[{name:"Bad",value:"NEGATIVE",icon:(0,r.jsx)(i.ThumbsdownIcon,{className:g.thumbsDown}),color:"bad"},{name:"Good",value:"POSITIVE",icon:(0,r.jsx)(i.ThumbsupIcon,{className:g.thumbsUp}),color:"good"}],x=(0,s.forwardRef)(function({messageId:e,threadId:t,returnFocusRef:n,onSubmitted:a,onClose:i},o){let l=(0,c.b)(),d=(0,s.useRef)(null),u=(0,s.useRef)(null),g=(0,s.useRef)(void 0);(0,s.useImperativeHandle)(o,()=>({openDialog:e=>{g.current=e,h.W.copilotChatInterviewSurvey?d.current?.openDialog():u.current?.openDialog(e)}}));let x=async(n,r)=>{let i=[];if(null==n&&i.push("Please select a rating."),r.length>500&&i.push("Please keep your feedback within 500 characters or less."),i.length>0)return i;try{(await l.service.sendFeedback({feedback:n,feedbackChoice:[],messageId:e,threadId:t,textResponse:r})).ok?a?.(n):i.push("An error occurred while submitting your feedback.")}catch{i.push("An error occurred while submitting your feedback.")}return i};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.E,{ref:d,title:"Give additional feedback",onClose:e=>{"no-thanks"===e?u.current?.openDialog(g.current):i?.()}}),(0,r.jsx)(m.NE,{title:"Give additional feedback",ref:u,options:y,onSubmit:x,onClose:i,requestID:p.J.getRequestID(e),returnFocusRef:n})]})});function v(e){let t,n,m,h,p,f=(0,a.c)(20),{iconSize:g}=e,{message:y}=(0,d.V)(),v=y.id,b=y.threadID,_=(0,c.b)(),C=(0,s.useRef)(null),S=(0,s.useRef)(null);f[0]!==_||f[1]!==y?(t=e=>{_.handleFeedback(y,e)},f[0]=_,f[1]=y,f[2]=t):t=f[2];let w=t,{optedInToUserFeedback:j}=(0,l.Pk)();f[3]!==_.service||f[4]!==v||f[5]!==w||f[6]!==j||f[7]!==b?(n=e=>{_.service.sendFeedback({feedback:e,messageId:v,threadId:b}),w(e),j?C.current?.openDialog(e):S.current?.focus()},f[3]=_.service,f[4]=v,f[5]=w,f[6]=j,f[7]=b,f[8]=n):n=f[8];let N=n;return f[9]!==g||f[10]!==y.feedback||f[11]!==N?(m=null!=y.feedback?(0,r.jsx)(o.K,{ref:S,"aria-label":`${y.feedback.toLocaleLowerCase()} feedback submitted`,icon:"POSITIVE"===y.feedback?i.ThumbsupIcon:i.ThumbsdownIcon,variant:"invisible",size:g,"aria-disabled":!0,className:u.submittedFeedbackButton}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.K,{icon:i.ThumbsupIcon,"aria-label":"Good response",onClick:()=>N("POSITIVE"),variant:"invisible",size:g}),(0,r.jsx)(o.K,{icon:i.ThumbsdownIcon,size:g,"aria-label":"Bad response",onClick:()=>N("NEGATIVE"),variant:"invisible"})]}),f[9]=g,f[10]=y.feedback,f[11]=N,f[12]=m):m=f[12],f[13]!==v||f[14]!==w||f[15]!==b?(h=(0,r.jsx)(x,{ref:C,messageId:v,threadId:b,onSubmitted:w,returnFocusRef:S}),f[13]=v,f[14]=w,f[15]=b,f[16]=h):h=f[16],f[17]!==m||f[18]!==h?(p=(0,r.jsxs)(r.Fragment,{children:[m,h]}),f[17]=m,f[18]=h,f[19]=p):p=f[19],p}x.displayName="MessageFeedbackDialog";try{v.displayName||(v.displayName="Feedback")}catch{}},95409:(e,t,n)=>{n.d(t,{WA:()=>ev});var r,a,i,o,s,l,c,d,u,m,h,p,f,g=n(74848),y=n(21728),x=n(59706),v=n(38621),b=n(58569),_=n(84217);n(99377),n(31971);var C=n(74244),S=n(34614),w=n(63867),j=n(55847),N=n(15385),I=n(53110),T=n(34164),R=n(96540),k=n(22069),A=n(34901);let E={functionCallButton:"FunctionCallButton-module__functionCallButton--CUec3"},M={functionReferenceListContainer:"FunctionLoadingUtils-module__functionReferenceListContainer--nLEFp",functionLoading:"FunctionLoadingUtils-module__functionLoading--ksfrz",spinner:"FunctionLoadingUtils-module__spinner--dWC1I",functionReferenceButton:"FunctionLoadingUtils-module__functionReferenceButton--RThXV",functionReferenceButtonContents:"FunctionLoadingUtils-module__functionReferenceButtonContents--p5oMB",functionReferenceTitle:"FunctionLoadingUtils-module__functionReferenceTitle--P1oyO",functionReferenceListFooter:"FunctionLoadingUtils-module__functionReferenceListFooter--xNrSv",errorContainer:"FunctionLoadingUtils-module__errorContainer--yYXl3",errorHeading:"FunctionLoadingUtils-module__errorHeading--MtwEC",errorMessage:"FunctionLoadingUtils-module__errorMessage--jAROF",toolDescriptionText:"FunctionLoadingUtils-module__toolDescriptionText--sPt4r",toolNameHighlight:"FunctionLoadingUtils-module__toolNameHighlight--I82Zw",functionTitleContainer:"FunctionLoadingUtils-module__functionTitleContainer--cmj7m"};function P(e){return(e.references?.[0]?.results??[]).map(L)}function L(e){return{title:e.title,url:e.url,description:e.excerpt,leadingIcon:v.GlobeIcon}}function F(e){let t=e.references?.[0];return(t?.results??[]).map(e=>({title:e.title,url:e.url,leadingIcon:"bing_search"===e.reference_type?x._:v.GlobeIcon}))}function $(e){return(e.references??[]).map(B)}function B(e){return"file-v2"===e.type?{description:`${e.repoName}/${e.path}`,leadingIcon:v.FileIcon,reference:e,title:(0,k.Xo)(e),url:e.url}:void 0}let D=(e,t)=>t?`${e} on ref ${t}`:e;function O(e){return(e.references??[]).map(U)}function U(e){return"alert.api"===e.type?{description:"Alert",leadingIcon:z,title:"Alert"}:void 0}function z(){return(0,g.jsx)(v.ShieldIcon,{})}function q(e){return(e.references??[]).map(V)}function V(e){return"discussion"===e.type?{title:e.title??"Discussion",description:`Using discussion #${e.number} for ${e.repository.owner}/${e.repository.name}`,url:e.url,leadingIcon:v.CommentDiscussionIcon}:void 0}function H(e){let t,n,r=(0,y.c)(3),{children:a}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,g.jsx)("span",{className:M.spinner,children:(0,g.jsx)(w.A,{size:"small"})}),r[0]=t):t=r[0],r[1]!==a?(n=(0,g.jsxs)("div",{className:M.functionLoading,children:[t,(0,g.jsx)("span",{children:a})]}),r[1]=a,r[2]=n):n=r[2],n}function G(e){return(e.references??[]).filter(K).map(W)}function W(e){return{description:`${e.id} \xb7 ${e.repoOwner}/${e.repoName}`,leadingIcon:v.PlayIcon,title:"Job"}}function K(e){return"job"===e.type}function Z(e){return e.jobId?`job ${e.jobId}`:e.runId?`workflow run ${e.runId}`:e.pullRequestNumber?`pull request ${e.pullRequestNumber}`:e.workflowPath?`workflow ${e.workflowPath}`:"unknown job"}function Q(e){let t,n,r=(0,y.c)(27),{additionalFooterContent:a,chatManager:i,errorButtonText:o,errorTitle:s,functionCall:l,inProgressMessage:c,noResultsMessage:d,resultsMapper:u,successButtonText:m,toolLink:h,toolName:p,useSelectReference:f}=e,[x,_]=(0,R.useState)(!1),C=(0,R.useId)();if(r[0]!==a||r[1]!==i||r[2]!==C||r[3]!==o||r[4]!==s||r[5]!==x||r[6]!==l||r[7]!==c||r[8]!==d||r[9]!==u||r[10]!==m||r[11]!==h||r[12]!==p||r[13]!==f){n=Symbol.for("react.early_return_sentinel");e:{let e,y,S,w,R=u(l),{status:k,errorMessage:A}=l;if(l.references?.length===1){let e=l.references[0];if(e)switch(e.type){case"text":k="error",A=e.text;break;case"unsupported":k="unsupported",A=e.text}}if("started"===k){let e;r[16]!==c?(e=(0,g.jsx)(H,{children:c}),r[16]=c,r[17]=e):e=r[17],n=e;break e}r[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,T.$)(M.functionReferenceButton,E.functionCallButton),r[18]=e):e=r[18];let P=x?v.ChevronUpIcon:v.ChevronDownIcon;r[19]===Symbol.for("react.memo_cache_sentinel")?(y=()=>_(J),r[19]=y):y=r[19];let L="error"===k?o:"unsupported"===k?d:m;r[20]!==L?(S=(0,g.jsx)("span",{className:M.functionReferenceButtonContents,children:L}),r[20]=L,r[21]=S):S=r[21],r[22]!==C||r[23]!==x||r[24]!==P||r[25]!==S?(w=(0,g.jsx)(j.Q,{"aria-expanded":x,"aria-controls":C,className:e,leadingVisual:P,onClick:y,variant:"invisible",children:S}),r[22]=C,r[23]=x,r[24]=P,r[25]=S,r[26]=w):w=r[26],t=(0,g.jsxs)(g.Fragment,{children:[w,x&&(0,g.jsxs)("div",{id:C,className:M.functionReferenceListContainer,children:[(0,g.jsx)(N.l,{children:"error"===k?(0,g.jsxs)(N.l.Item,{children:[s,(0,g.jsx)(N.l.Description,{variant:"block",children:A})]}):"unsupported"===k?(0,g.jsxs)(N.l.Item,{children:[A,(0,g.jsx)(N.l.Description,{truncate:!0,children:""})]}):0===R.length?(0,g.jsxs)(N.l.Item,{children:[d,(0,g.jsx)(N.l.Description,{truncate:!0,children:"Try modifying your query by reframing your question."})]}):R.map((e,t)=>e&&(0,g.jsxs)(N.l.LinkItem,{className:"width-fit",href:e.url,onClick:t=>{f&&e.reference&&(i.selectReference(e.reference),t.preventDefault())},target:"_blank",rel:"noopener",children:[e.leadingIcon&&(0,g.jsx)(N.l.LeadingVisual,{children:(0,g.jsx)(I.A,{icon:e.leadingIcon,sx:{...e.leadingIconColor&&{color:e.leadingIconColor}}})}),(0,g.jsx)(b.A,{className:M.functionReferenceTitle,title:e.title,children:e.title}),(0,g.jsx)(N.l.Description,{variant:"block",children:e.description})]},t))}),(0,g.jsxs)("span",{className:M.functionReferenceListFooter,children:["Copilot used the"," ",(0,g.jsx)("a",{href:h,target:"_blank",rel:"noopener noreferrer",children:p})," ","tool",a&&(0,g.jsxs)(g.Fragment,{children:[". ",a]})]})]})]})}r[0]=a,r[1]=i,r[2]=C,r[3]=o,r[4]=s,r[5]=x,r[6]=l,r[7]=c,r[8]=d,r[9]=u,r[10]=m,r[11]=h,r[12]=p,r[13]=f,r[14]=t,r[15]=n}else t=r[14],n=r[15];return n!==Symbol.for("react.early_return_sentinel")?n:t}function J(e){return!e}function X(e){return"text"!==e.type}function Y(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ee(e){let t=e.references?.[0];return[{title:t?.title||"",url:t?.url||"",description:""}]}let et="https://docs.github.com/en/support/contacting-github-support/using-copilot-in-github-support";function en(e){return(e.references?.[0]?.results??[]).map(er)}function er(e){return{title:e.title,url:e.url,description:e.url}}function ea(e){return(e.references??[]).map(e=>"file"===e.type||"snippet"===e.type?{description:(0,k.Z8)(e),leadingIcon:v.CodeIcon,reference:e,title:(0,k.z$)(e),url:e.url}:void 0)}try{(r=function(e){let t,n,r=(0,y.c)(8),{chatManager:a,functionCall:i,skillArgs:o}=e,s=o.query;r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,g.jsx)(S.A,{href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"}),r[0]=t):t=r[0];let l=`An error occurred when searching for \u{201C}${s}\u{201D}`,c=`Searching the web for \u{201C}${s}\u{201D}`,d=`No web search results for \u{201C}${s}\u{201D} were found`,u=`Using web search results for \u{201C}${s}\u{201D}`;return r[1]!==a||r[2]!==i||r[3]!==l||r[4]!==c||r[5]!==d||r[6]!==u?(n=(0,g.jsx)(Q,{additionalFooterContent:t,chatManager:a,errorButtonText:l,errorTitle:"An error occurred when searching the web",toolLink:"https://bing.com",toolName:"Bing search",functionCall:i,inProgressMessage:c,noResultsMessage:d,resultsMapper:P,successButtonText:u,useSelectReference:!1}),r[1]=a,r[2]=i,r[3]=l,r[4]=c,r[5]=d,r[6]=u,r[7]=n):n=r[7],n}).displayName||(r.displayName="BingFunctionButton")}catch{}try{(a=function(e){let t,n,r=(0,y.c)(8),{chatManager:a,functionCall:i,skillArgs:o}=e,s=o.query;r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,g.jsx)(S.A,{href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"}),r[0]=t):t=r[0];let l=`An error occurred when searching for \u{201C}${s}\u{201D}`,c=`Searching the web for \u{201C}${s}\u{201D}`,d=`No web search results for \u{201C}${s}\u{201D} were found`,u=`Using web search results for \u{201C}${s}\u{201D}`;return r[1]!==a||r[2]!==i||r[3]!==l||r[4]!==c||r[5]!==d||r[6]!==u?(n=(0,g.jsx)(Q,{additionalFooterContent:t,chatManager:a,errorButtonText:l,errorTitle:"An error occurred when searching the web",toolLink:"https://gh.io/azure-ai-agent-with-bing-grounding",toolName:"Bing Search",functionCall:i,inProgressMessage:c,noResultsMessage:d,resultsMapper:F,successButtonText:u,useSelectReference:!1}),r[1]=a,r[2]=i,r[3]=l,r[4]=c,r[5]=d,r[6]=u,r[7]=n):n=r[7],n}).displayName||(a.displayName="BingGroundingFunctionButton")}catch{}try{(i=function(e){var t;let n,r=(0,y.c)(9),{chatManager:a,functionCall:i,skillArgs:o,useSelectReference:s}=e,l=o.query,c="scopingQuery"in o?o.scopingQuery:o.repoOwner&&o.repoName?`repo:${o.repoOwner}/${o.repoName}`:void 0;c&&(c=(t=c).startsWith("repo:")?t.substring(5):t);let d="semantic-code-search"===o.kind?"semantic":"lexical",u=`An error occurred when searching for \u{201C}${l}\u{201D}`,m=`${d.charAt(0).toUpperCase()+d.slice(1)} search`,h=`Searching for \u{201C}${l}\u{201D}${c&&` in ${c}`}`,p=`No results were found when ${d} searching for \u{201C}${l}\u{201D}${c&&` in ${c}`}`,f=`Using ${d} search results for \u{201C}${l}\u{201D}${c&&` in ${c}`}`;return r[0]!==a||r[1]!==i||r[2]!==u||r[3]!==m||r[4]!==h||r[5]!==p||r[6]!==f||r[7]!==s?(n=(0,g.jsx)(Q,{chatManager:a,errorButtonText:u,errorTitle:"An error occurred when searching code",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:m,functionCall:i,inProgressMessage:h,noResultsMessage:p,resultsMapper:ea,successButtonText:f,useSelectReference:s}),r[0]=a,r[1]=i,r[2]=u,r[3]=m,r[4]=h,r[5]=p,r[6]=f,r[7]=s,r[8]=n):n=r[8],n}).displayName||(i.displayName="CodeSearchButton")}catch{}try{(o=function(e){let t,n=(0,y.c)(8),{chatManager:r,functionCall:a,skillArgs:i,useSelectReference:o}=e,s=i.query,l=i.kbID,{knowledgeBases:c}=(0,A.Pk)(),d=c.find(e=>e.id===l),u=d?.name??"the knowledge base",m=`An error occurred when searching for \u{201C}${s}\u{201D} in ${u}`,h=`Searching the ${u} knowledge base for \u{201C}${s}\u{201D}`,p=`No results were found when searching the ${u} knowledge base for \u{201C}${s}\u{201D}`,f=`Using search results from the ${u} knowledge base for \u{201C}${s}\u{201D}`;return n[0]!==r||n[1]!==a||n[2]!==m||n[3]!==h||n[4]!==p||n[5]!==f||n[6]!==o?(t=(0,g.jsx)(Q,{chatManager:r,errorButtonText:m,errorTitle:"An error occurred when searching the knowledge base",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Knowledge base search",functionCall:a,inProgressMessage:h,noResultsMessage:p,resultsMapper:ea,successButtonText:f,useSelectReference:o}),n[0]=r,n[1]=a,n[2]=m,n[3]=h,n[4]=p,n[5]=f,n[6]=o,n[7]=t):t=n[7],t}).displayName||(o.displayName="KnowledgeBaseSearchButton")}catch{}try{(s=function(e){let t,n,r,a,i,o=(0,y.c)(20),{chatManager:s,functionCall:l,skillArgs:c,useSelectReference:d}=e,{path:u,repo:m,ref:h}=c,p=`An error occurred when finding \u{201C}${u}\u{201D} in ${m}`;o[0]!==h||o[1]!==p?(t=D(p,h),o[0]=h,o[1]=p,o[2]=t):t=o[2];let f=`File results for \u{201C}${u}\u{201D} in ${m}`;o[3]!==h||o[4]!==f?(n=D(f,h),o[3]=h,o[4]=f,o[5]=n):n=o[5];let x=`No files matching \u{201C}${u}\u{201D} in ${m} were found`;o[6]!==h||o[7]!==x?(r=D(x,h),o[6]=h,o[7]=x,o[8]=r):r=o[8];let v=`Using results for \u{201C}${u}\u{201D} in ${m}`;return o[9]!==h||o[10]!==v?(a=D(v,h),o[9]=h,o[10]=v,o[11]=a):a=o[11],o[12]!==s||o[13]!==l||o[14]!==t||o[15]!==n||o[16]!==r||o[17]!==a||o[18]!==d?(i=(0,g.jsx)(Q,{chatManager:s,errorButtonText:t,errorTitle:"An error occurred when finding a file",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get file",functionCall:l,inProgressMessage:n,noResultsMessage:r,resultsMapper:$,successButtonText:a,useSelectReference:d}),o[12]=s,o[13]=l,o[14]=t,o[15]=n,o[16]=r,o[17]=a,o[18]=d,o[19]=i):i=o[19],i}).displayName||(s.displayName="GetFileButton")}catch{}try{(l=function(e){let t,n,r,a,i,o,s=(0,y.c)(23),{chatManager:l,functionCall:c,skillArgs:d,useSelectReference:u}=e,{path:m,repo:h,ref:p}=d,f=`An error occurred when finding file changes for \u{201C}${m}\u{201D} in ${h}`;s[0]!==p||s[1]!==f?(t=D(f,p),s[0]=p,s[1]=f,s[2]=t):t=s[2];let x=`File changes results for \u{201C}${m} in ${h}`;s[3]!==p||s[4]!==x?(n=D(x,p),s[3]=p,s[4]=x,s[5]=n):n=s[5];let b=`No files changes were found for \u{201C}${m}\u{201D} in ${h}`;s[6]!==p||s[7]!==b?(r=D(b,p),s[6]=p,s[7]=b,s[8]=r):r=s[8],s[9]!==m?(a=e=>(e.references??[]).map(e=>"file-changes"===e.type?{description:`${e.repository.name}/${m}`,leadingIcon:v.FileIcon,reference:e,title:(0,k.Xo)(e),url:e.url}:void 0),s[9]=m,s[10]=a):a=s[10];let _=`Using results for \u{201C}${m}\u{201D} in ${h}`;return s[11]!==p||s[12]!==_?(i=D(_,p),s[11]=p,s[12]=_,s[13]=i):i=s[13],s[14]!==l||s[15]!==c||s[16]!==t||s[17]!==n||s[18]!==r||s[19]!==a||s[20]!==i||s[21]!==u?(o=(0,g.jsx)(Q,{chatManager:l,errorButtonText:t,errorTitle:"An error occurred when finding the file changes",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get file changes",functionCall:c,inProgressMessage:n,noResultsMessage:r,resultsMapper:a,successButtonText:i,useSelectReference:u}),s[14]=l,s[15]=c,s[16]=t,s[17]=n,s[18]=r,s[19]=a,s[20]=i,s[21]=u,s[22]=o):o=s[22],o}).displayName||(l.displayName="GetFileChangesButton")}catch{}try{(c=function(e){let t,n=(0,y.c)(5),{chatManager:r,functionCall:a,skillArgs:i,useSelectReference:o}=e,s=`An error occurred when fetching alert information for ${i.url}`;return n[0]!==r||n[1]!==a||n[2]!==s||n[3]!==o?(t=(0,g.jsx)(Q,{chatManager:r,errorButtonText:s,errorTitle:"An error occurred when fetching alert information",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get alert information",functionCall:a,inProgressMessage:"Fetching alert information",noResultsMessage:"Unable to fetch alert information",resultsMapper:O,successButtonText:"Using alert information",useSelectReference:o}),n[0]=r,n[1]=a,n[2]=s,n[3]=o,n[4]=t):t=n[4],t}).displayName||(c.displayName="GetAlertButton")}catch{}try{(d=function(e){let t,n=(0,y.c)(7),{chatManager:r,functionCall:a,skillArgs:i,useSelectReference:o}=e,s=`Fetching discussion ${i.discussionNumber}`,l=`Unable to fetch discussion ${i.discussionNumber}`,c=`Using discussion #${i.discussionNumber}`;return n[0]!==r||n[1]!==a||n[2]!==s||n[3]!==l||n[4]!==c||n[5]!==o?(t=(0,g.jsx)(Q,{chatManager:r,errorButtonText:"An error occurred when fetching discussion",errorTitle:"An error occurred when fetching discussion",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get discussion",functionCall:a,inProgressMessage:s,noResultsMessage:l,resultsMapper:q,successButtonText:c,useSelectReference:o}),n[0]=r,n[1]=a,n[2]=s,n[3]=l,n[4]=c,n[5]=o,n[6]=t):t=n[6],t}).displayName||(d.displayName="GetDiscussionButton")}catch{}try{H.displayName||(H.displayName="FunctionLoading")}catch{}try{(u=function(e){let t=(0,y.c)(1),{functionCall:n}=e,{status:r}=n;if("started"===r){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(H,{children:"Coming up with a plan"}),t[0]=e):e=t[0],e}}).displayName||(u.displayName="PlanButton")}catch{}try{(m=function(e){let t,n=(0,y.c)(8),{chatManager:r,functionCall:a,skillArgs:i,useSelectReference:o}=e,s=Z(i),l=`An error occurred when fetching logs for ${s} in ${i.repo}`,c=`Fetching logs for ${s} in ${i.repo}`,d=`Unable to fetch logs for ${s} in ${i.repo}`,u=`Using logs for ${s} in ${i.repo}`;return n[0]!==r||n[1]!==a||n[2]!==l||n[3]!==c||n[4]!==d||n[5]!==u||n[6]!==o?(t=(0,g.jsx)(Q,{chatManager:r,errorButtonText:l,errorTitle:"An error occurred when fetching a commit",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get job logs",functionCall:a,inProgressMessage:c,noResultsMessage:d,resultsMapper:G,successButtonText:u,useSelectReference:o}),n[0]=r,n[1]=a,n[2]=l,n[3]=c,n[4]=d,n[5]=u,n[6]=o,n[7]=t):t=n[7],t}).displayName||(m.displayName="GetJobLogsButton")}catch{}try{Q.displayName||(Q.displayName="ExpandableFunctionButton")}catch{}try{(h=function(e){let t,n,r,a=(0,y.c)(15),{chatManager:i,functionCall:o,skillArgs:s,useSelectReference:l}=e,c="GitHub API",d=o.references?.[0];if(d){let e=d.type;if(e.endsWith(".api")){let t=e.split(".")[0];t&&(c=`${t.split("-").map(Y).join(" ")} API`)}else"api-response"===d.type&&(c=`${d.resourceType} API`)}a[0]!==s.endpoint||a[1]!==s.endpointDescription?(t=s.endpointDescription?{errorButtonText:`An error occurred when using the GitHub API to ${s.endpointDescription}`,inProgressMessage:`Using the GitHub API to ${s.endpointDescription}`,noResultsMessage:`Unable to use the GitHub API to ${s.endpointDescription}`,successButtonText:`Using the GitHub API to ${s.endpointDescription}`}:{errorButtonText:`An error occurred when fetching from ${s.endpoint}`,inProgressMessage:`Fetching endpoint ${s.endpoint}`,noResultsMessage:`Unable to fetch from ${s.endpoint}`,successButtonText:`Using endpoint ${s.endpoint}`},a[0]=s.endpoint,a[1]=s.endpointDescription,a[2]=t):t=a[2];let u=t;return a[3]!==s?(n=e=>e.references?.filter(X).map(e=>(function(e,t){switch(e.type){case"release.api":return{description:`Release ${e.tag_name} \xb7 ${t.repo}`,leadingIcon:v.TagIcon,title:e.name??"Release",url:e.html_url};case"issue.api":return{description:`#${e.number} \xb7 ${t.repo}`,leadingIcon:v.IssueOpenedIcon,title:e.title??"Issue",url:e.html_url};case"pull-request.api":return{description:`#${e.number} \xb7 ${t.repo}`,leadingIcon:v.GitPullRequestIcon,title:e.title??"Pull request",url:e.html_url};case"repository.api":return{description:e.description||"",title:e.name,leadingIcon:v.RepoIcon,url:e.html_url};case"commit.api":return{description:`${e.sha} \xb7 ${t.repo}`,leadingIcon:v.GitCommitIcon,title:e.commit.message??"Commit",url:e.html_url};case"topic.api":return{description:e.short_description||"",leadingIcon:v.HashIcon,title:e.display_name??e.name};case"api-response":switch(e.resourceType){case"Repository":return{description:e.data.description||"",title:e.data.name,leadingIcon:v.RepoIcon,url:e.data.html_url};case"Issue":return{description:`#${e.data.number} \xb7 ${t.repo}`,leadingIcon:v.IssueOpenedIcon,title:e.data.title??"Issue",url:e.data.html_url};case"Release":return{description:`Release ${e.data.tag_name} \xb7 ${t.repo}`,leadingIcon:v.TagIcon,title:e.data.name??"Release",url:e.data.html_url};case"PullRequest":return{description:`#${e.data.number} \xb7 ${t.repo}`,leadingIcon:v.GitPullRequestIcon,title:e.data.title??"Pull request",url:e.data.html_url};case"Commit":return{description:`${e.data.sha} \xb7 ${t.repo}`,leadingIcon:v.GitCommitIcon,title:e.data.commit.message??"Commit",url:e.data.html_url};case"Topic":return{description:e.data.short_description||"",leadingIcon:v.HashIcon,title:e.data.display_name??e.data.name};default:return{description:"API endpoint returned results successfully",leadingIcon:v.InfoIcon,title:"API results"}}default:return{description:"API endpoint returned results successfully",leadingIcon:v.InfoIcon,title:"API results"}}})(e,s))??[],a[3]=s,a[4]=n):n=a[4],a[5]!==i||a[6]!==o||a[7]!==u.errorButtonText||a[8]!==u.inProgressMessage||a[9]!==u.noResultsMessage||a[10]!==u.successButtonText||a[11]!==n||a[12]!==c||a[13]!==l?(r=(0,g.jsx)(Q,{chatManager:i,errorTitle:"An error occurred when fetching data from the GitHub API",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:c,functionCall:o,errorButtonText:u.errorButtonText,inProgressMessage:u.inProgressMessage,noResultsMessage:u.noResultsMessage,successButtonText:u.successButtonText,useSelectReference:l,resultsMapper:n}),a[5]=i,a[6]=o,a[7]=u.errorButtonText,a[8]=u.inProgressMessage,a[9]=u.noResultsMessage,a[10]=u.successButtonText,a[11]=n,a[12]=c,a[13]=l,a[14]=r):r=a[14],r}).displayName||(h.displayName="GetGitHubDataButton")}catch{}try{(p=function(e){let t,n=(0,y.c)(7),{chatManager:r,functionCall:a,skillArgs:i}=e,o=`An error occurred when retrieving \u{201C}${i.name}\u{201D}`,s=`Getting Figma file \u{201C}${i.name}\u{201D}`,l=`Unable to retrieve \u{201C}${i.name}\u{201D}`,c=`Using result from \u{201C}${i.name}\u{201D}`;return n[0]!==r||n[1]!==a||n[2]!==o||n[3]!==s||n[4]!==l||n[5]!==c?(t=(0,g.jsx)(Q,{chatManager:r,errorButtonText:o,errorTitle:"An error occurred retrieving Figma file",toolLink:"https://figma.com",toolName:"Get Figma",functionCall:a,inProgressMessage:s,noResultsMessage:l,resultsMapper:ee,successButtonText:c,useSelectReference:!1}),n[0]=r,n[1]=a,n[2]=o,n[3]=s,n[4]=l,n[5]=c,n[6]=t):t=n[6],t}).displayName||(p.displayName="FigmaButton")}catch{}try{(f=function(e){let t,n,r=(0,y.c)(8),{chatManager:a,functionCall:i,skillArgs:o}=e,s=o.rawUserQuery;r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,g.jsx)(S.A,{href:et,rel:"nofollow",target:"_blank",children:"Information on using Copilot in GitHub Support"}),r[0]=t):t=r[0];let l=`An error occurred when searching for \u{201C}${s}\u{201D}`,c=`Searching support documents for \u{201C}${s}\u{201D}`,d=`No support documents for \u{201C}${s}\u{201D} were found`,u=`Using support search results for \u{201C}${s}\u{201D}`;return r[1]!==a||r[2]!==i||r[3]!==l||r[4]!==c||r[5]!==d||r[6]!==u?(n=(0,g.jsx)(Q,{additionalFooterContent:t,chatManager:a,errorButtonText:l,errorTitle:"An error occurred when searching support documents",toolLink:et,toolName:"Support Search",functionCall:i,inProgressMessage:c,noResultsMessage:d,resultsMapper:en,successButtonText:u,useSelectReference:!1}),r[1]=a,r[2]=i,r[3]=l,r[4]=c,r[5]=d,r[6]=u,r[7]=n):n=r[7],n}).displayName||(f.displayName="SupportSearchButton")}catch{}let ei=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(v.SearchIcon,{}),t[0]=e):e=t[0],e},eo=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(v.FileIcon,{}),t[0]=e):e=t[0],e},es=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(v.TagIcon,{}),t[0]=e):e=t[0],e},el=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(v.PlayIcon,{}),t[0]=e):e=t[0],e},ec=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(v.BookIcon,{}),t[0]=e):e=t[0],e},ed=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(v.CommentDiscussionIcon,{}),t[0]=e):e=t[0],e},eu=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(v.TasklistIcon,{}),t[0]=e):e=t[0],e},em=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,g.jsx)(em,{}),t[0]=e):e=t[0],e},eh="planning response",ep=e=>{switch(e.kind){case"bing-search":return{id:"bing-search",referenceType:"web-search",loadingText:`Using Bing to search for "${e.query}"`,completedText:`Bing results for "${e.query}"`,icon:x._,name:"Bing search",activeSkillText:"searching Bing"};case"lexical-code-search":return{id:"codesearch",loadingText:`Search for "${e.query}" in "${e.scopingQuery}"`,completedText:`Search results for "${e.query}" in "${e.scopingQuery}"`,icon:ei,name:"Code search",activeSkillText:"searching the codebase"};case"semantic-code-search":return{id:"codesearch",loadingText:`Search for "${e.query}" in "${e.repoOwner}/${e.repoName}"`,completedText:`Search results for "${e.query}" in "${e.repoOwner}/${e.repoName}"`,icon:ei,name:"Code search",activeSkillText:"searching the codebase"};case"kb-search":return{id:"kb-search",loadingText:`Searching for "${e.query}" in the knowledge base`,completedText:`Knowledge base search results for "${e.query}"`,icon:ec,name:"Knowledge base search",activeSkillText:"searching the knowledge base"};case"getalert":return{id:"getalert",loadingText:"Retrieving information about alerts",completedText:"Including information about alerts",icon:()=>(0,g.jsx)(v.ShieldIcon,{}),name:"Get alert",activeSkillText:"getting alert"};case"get-github-data":return{id:"get-github-data",loadingText:`Fetching ${e.endpoint}`,completedText:`Results of ${e.endpoint}`,icon:es,name:"Get GitHub Data",activeSkillText:"getting data"};case"get-actions-job-logs":{let t=Z(e),n=t.charAt(0).toUpperCase()+t.slice(1);return{id:"get-actions-jog-logs",loadingText:`Retrieving ${t} in ${e.repo}`,completedText:`${n} in ${e.repo}`,icon:el,name:"Get job logs",activeSkillText:"getting job logs"}}case"getdiscussion":return{id:"getdiscussion",loadingText:`Fetching discussion ${e.discussionNumber}`,completedText:`Details about discussion #${e.discussionNumber}`,icon:ed,name:"Get discussion",activeSkillText:"getting discussion"};case"getfile":return{id:"getfile",loadingText:"Searching for file",completedText:"Using results of get file",icon:eo,name:"Get file",activeSkillText:"searching for file"};case"getfilechanges":return{id:"getfilechanges",loadingText:"Searching for file changes",completedText:`File changes for ${e.path} in ${e.repo}`,icon:eo,name:"Get file changes",activeSkillText:"searching for file changes"};case"planskill":return{id:"planskill",loadingText:"Planning response...",completedText:"Plan created",icon:eu,name:"Plan skill",activeSkillText:"planning response"};case"support-search":return{id:"supportsearch",loadingText:"Searching for support documents",completedText:"Using results of support search",icon:ec,name:"Support search",activeSkillText:"searching for support documents"};case"get-figma":return{id:"getfigma",loadingText:"Analyzing Figma file",completedText:"Using results of Figma file",icon:ec,name:"Get Figma",activeSkillText:"analyzing Figma file"};case"codesearchagentskill":return{id:"codesearchagentskill",loadingText:"Using the code search agent",completedText:"Using results of code search agent",icon:ec,name:"Code Search Agent",activeSkillText:"searching the codebase"};case"draft-issue":return{id:"draft-issue",loadingText:e.repository?`Drafting issue in ${e.repository}`:"Drafting issue ",completedText:e.repository?`Drafted issue in ${e.repository}`:"Drafted issue",icon:em,name:"Draft Issue",activeSkillText:e.repository?`drafting issue in ${e.repository}`:"drafting issue"};case"repository-metadata":return{id:"repository-metadata",loadingText:`Fetching metadata from ${e.repository}`,completedText:`Using metadata from ${e.repository}`,icon:em,name:"Repository Metadata",activeSkillText:`fetching metadata from ${e.repository}`}}};function ef(e){let t,n,r,a,i=(0,y.c)(10),{maxWidth:o,functionMetadata:s}=e;return i[0]!==s?(t=s.icon(),i[0]=s,i[1]=t):t=i[1],i[2]!==o?(n={maxWidth:o},i[2]=o,i[3]=n):n=i[3],i[4]!==s.completedText||i[5]!==n?(r=(0,g.jsx)(b.A,{title:s.completedText,sx:n,children:s.completedText}),i[4]=s.completedText,i[5]=n,i[6]=r):r=i[6],i[7]!==t||i[8]!==r?(a=(0,g.jsxs)(g.Fragment,{children:[t,r]}),i[7]=t,i[8]=r,i[9]=a):a=i[9],a}function eg(e){let t,n,r,a,i=(0,y.c)(10),{maxWidth:o,functionMetadata:s}=e;return i[0]!==s?(t=s.icon(),i[0]=s,i[1]=t):t=i[1],i[2]!==o?(n={maxWidth:o},i[2]=o,i[3]=n):n=i[3],i[4]!==s.loadingText||i[5]!==n?(r=(0,g.jsx)(b.A,{title:s.loadingText,sx:n,children:s.loadingText}),i[4]=s.loadingText,i[5]=n,i[6]=r):r=i[6],i[7]!==t||i[8]!==r?(a=(0,g.jsxs)(g.Fragment,{children:[t,r]}),i[7]=t,i[8]=r,i[9]=a):a=i[9],a}function ey(e){let t,n,r,a,i=(0,y.c)(10),{functionCall:o,functionMetadata:s}=e;return i[0]!==s.activeSkillText?(t=(0,g.jsxs)(_.A,{as:"h3",className:M.errorHeading,children:["An error occurred while ",s.activeSkillText]}),i[0]=s.activeSkillText,i[1]=t):t=i[1],i[2]!==o.errorMessage?(n=(0,g.jsx)("p",{className:M.errorMessage,children:o.errorMessage}),i[2]=o.errorMessage,i[3]=n):n=i[3],i[4]!==s.name?(r=(0,g.jsxs)("p",{className:M.toolDescriptionText,children:["Copilot used the ",(0,g.jsx)("span",{className:M.toolNameHighlight,children:s.name})," tool"]}),i[4]=s.name,i[5]=r):r=i[5],i[6]!==t||i[7]!==n||i[8]!==r?(a=(0,g.jsxs)("div",{className:M.errorContainer,children:[t,n,r]}),i[6]=t,i[7]=n,i[8]=r,i[9]=a):a=i[9],a}function ex(e){let t,n,r=(0,y.c)(6),{functionCall:a,functionMetadata:i,panelWidth:o}=e,s=o?o-130:C.J.DEFAULT_PANEL_WIDTH;r[0]!==a||r[1]!==i||r[2]!==s?(t=a?.status==="error"?(0,g.jsx)(ey,{functionCall:a,functionMetadata:i}):a?.status==="completed"?(0,g.jsx)(ef,{maxWidth:s,functionMetadata:i}):(0,g.jsx)(eg,{maxWidth:s,functionMetadata:i}),r[0]=a,r[1]=i,r[2]=s,r[3]=t):t=r[3];let l=t;return r[4]!==l?(n=(0,g.jsx)("div",{className:M.functionTitleContainer,children:l}),r[4]=l,r[5]=n):n=r[5],n}function ev(e){if(!e)return eh;let t=function(e){if(e)return ep({...JSON.parse(e?.arguments||"{}"),kind:e.slug})}(e);return e.statusMessage??t?.activeSkillText??eh}try{ei.displayName||(ei.displayName="CodeSearchIcon")}catch{}try{eo.displayName||(eo.displayName="GetFileIcon")}catch{}try{es.displayName||(es.displayName="ReleaseIcon")}catch{}try{el.displayName||(el.displayName="JobIcon")}catch{}try{ec.displayName||(ec.displayName="KnowledgeBaseIcon")}catch{}try{ed.displayName||(ed.displayName="DiscussionIcon")}catch{}try{eu.displayName||(eu.displayName="PlanIcon")}catch{}try{em.displayName||(em.displayName="IssueDraftIcon")}catch{}try{ef.displayName||(ef.displayName="FunctionCompleted")}catch{}try{eg.displayName||(eg.displayName="FunctionLoading")}catch{}try{ey.displayName||(ey.displayName="FunctionError")}catch{}try{ex.displayName||(ex.displayName="FunctionTitle")}catch{}},4699:(e,t,n)=>{n.d(t,{h:()=>l});var r=n(74848),a=n(21728),i=n(95726),o=n(34164);let s={interruptedBanner:"InterruptedBanner-module__interruptedBanner--XDG6C",hasContent:"InterruptedBanner-module__hasContent--NwTH4"};function l(e){let t,n,l=(0,a.c)(4),{messageHasContent:c}=e,d=c&&s.hasContent;return l[0]!==d?(t=(0,o.$)(s.interruptedBanner,d),l[0]=d,l[1]=t):t=l[1],l[2]!==t?(n=(0,r.jsx)(i.l,{className:t,"data-testid":"chat-message-interrupted",description:"Copilot was interrupted before it could finish this message.",hideTitle:!0,title:"Message interrupted",variant:"info"}),l[2]=t,l[3]=n):n=l[3],n}try{l.displayName||(l.displayName="InterruptedBanner")}catch{}},69458:(e,t,n)=>{n.d(t,{E:()=>u});var r=n(74848),a=n(21728),i=n(10871),o=n(55847),s=n(9852),l=n(96540);let c={dialog:"InterviewSurveyDialog-module__dialog--vBqY6",body:"InterviewSurveyDialog-module__body--zTKei",primaryText:"InterviewSurveyDialog-module__primaryText--E49Ba InterviewSurveyDialog-module__text--AnLTc",secondaryText:"InterviewSurveyDialog-module__secondaryText--uX6h1 InterviewSurveyDialog-module__text--AnLTc",surveyLink:"InterviewSurveyDialog-module__surveyLink--LnhEL",noThanksButton:"InterviewSurveyDialog-module__noThanksButton--loLSW"};function d(e,t){let n,d,u,m,h=(0,a.c)(10),{title:p,onClose:f}=e,g=void 0===p?"Give feedback":p,[y,x]=(0,l.useState)(!1);h[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>({openDialog:()=>x(!0)}),h[0]=n):n=h[0],(0,l.useImperativeHandle)(t,n),h[1]!==f?(d=e=>{x(!1),f?.(e)},h[1]=f,h[2]=d):d=h[2];let v=d;h[3]!==v?(u=()=>(0,r.jsxs)("div",{className:c.body,children:[(0,r.jsx)("img",{alt:"Mona and Copilot flying a Hubot-themed spaceship",src:"/images/modules/copilot-chat/mona-copilot-hubot-spaceship.png",srcSet:"/images/modules/copilot-chat/mona-copilot-hubot-spaceship@2x.png 2x"}),(0,r.jsx)("span",{className:c.primaryText,children:"Would you like to participate in our research?"}),(0,r.jsx)("span",{className:c.secondaryText,children:"You will be compensated for your time"}),(0,r.jsx)(i.z,{variant:"primary",className:c.surveyLink,href:"/github-copilot/chat/feedback/interview-survey",target:"_blank",children:"Book a session"}),(0,r.jsx)(o.Q,{variant:"link",className:c.noThanksButton,onClick:()=>v("no-thanks"),children:"No, thanks"})]}),h[3]=v,h[4]=u):u=h[4];let b=u;return h[5]!==v||h[6]!==y||h[7]!==b||h[8]!==g?(m=y&&(0,r.jsx)(s.l,{className:c.dialog,onClose:()=>v("close"),title:g,renderBody:b}),h[5]=v,h[6]=y,h[7]=b,h[8]=g,h[9]=m):m=h[9],m}let u=(0,l.forwardRef)(d);try{d.displayName||(d.displayName="InterviewSurveyDialogInner")}catch{}try{u.displayName||(u.displayName="InterviewSurveyDialog")}catch{}},42342:(e,t,n)=>{n.d(t,{UJ:()=>y,E5:()=>c,Dq:()=>d,Gj:()=>u,f1:()=>m,cB:()=>h,zc:()=>p,Cb:()=>f,hl:()=>g});var r=n(74848),a=n(21728),i=n(16255),o=n(10569),s=n(96540);let l={chatPortalContainer:"PortalContainerUtils-module__chatPortalContainer--QCSxu",menuPortalContainer:"PortalContainerUtils-module__menuPortalContainer--MjmMh"},c="copilotChatMenuPortalRoot",d="copilotChatMessagesMenuPortalRoot",u="copilotChatPortalRoot",m="copilotChatTopicPickerPortalRoot",h=()=>{let e,t,n,o=(0,a.c)(3),c=(0,s.useRef)(null);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(0,i.c)(c.current,u)},t=[],o[0]=e,o[1]=t):(e=o[0],t=o[1]),(0,s.useEffect)(e,t),o[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)("div",{ref:c,className:l.chatPortalContainer}),o[2]=n):n=o[2],n},p=()=>{let e,t,n,o=(0,a.c)(3),d=(0,s.useRef)(null);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(0,i.c)(d.current,c)},t=[],o[0]=e,o[1]=t):(e=o[0],t=o[1]),(0,s.useEffect)(e,t),o[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)("div",{ref:d,className:l.menuPortalContainer}),o[2]=n):n=o[2],n},f=()=>{let e,t,n,o=(0,a.c)(3),l=(0,s.useRef)(null);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(0,i.c)(l.current,d)},t=[],o[0]=e,o[1]=t):(e=o[0],t=o[1]),(0,s.useEffect)(e,t),o[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)("div",{ref:l}),o[2]=n):n=o[2],n},g=()=>{let e,t,n,o=(0,a.c)(3),l=(0,s.useRef)(null);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(0,i.c)(l.current,m)},t=[],o[0]=e,o[1]=t):(e=o[0],t=o[1]),(0,s.useEffect)(e,t),o[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)("div",{ref:l}),o[2]=n):n=o[2],n},y=e=>{let t,n,i,l,d,u,m=(0,a.c)(10);m[0]!==e?({children:t,portalContainerName:i,...n}=e,m[0]=e,m[1]=t,m[2]=n,m[3]=i):(t=m[1],n=m[2],i=m[3]);let[h,p]=(0,s.useState)(x);if(m[4]===Symbol.for("react.memo_cache_sentinel")?(l=()=>p(!0),d=[],m[4]=l,m[5]=d):(l=m[4],d=m[5]),(0,s.useEffect)(l,d),!h)return null;let f=i||c;return m[6]!==t||m[7]!==n||m[8]!==f?(u=(0,r.jsx)(o.W.Overlay,{...n,portalContainerName:f,children:t}),m[6]=t,m[7]=n,m[8]=f,m[9]=u):u=m[9],u};try{h.displayName||(h.displayName="ChatPortalContainer")}catch{}try{p.displayName||(p.displayName="MenuPortalContainer")}catch{}try{f.displayName||(f.displayName="MessagesPortalContainer")}catch{}try{g.displayName||(g.displayName="TopicPickerPortalContainer")}catch{}try{y.displayName||(y.displayName="ActionMenuOverlay")}catch{}function x(){return"undefined"!=typeof document}},53655:(e,t,n)=>{n.d(t,{BR:()=>b,lh:()=>S,a_:()=>_});var r,a=n(74848),i=n(21728),o=n(59706),s=n(38621),l=n(63867),c=n(87330),d=n(35642),u=n(34164),m=n(96540),h=n(22069),p=n(34901),f=n(47397),g=n(65011),y=n(39038);let x={referenceToken:"ReferenceToken-module__referenceToken--MoDht",small:"ReferenceToken-module__small--LxJV_",loadingName:"ReferenceToken-module__loadingName--OEUm0",name:"ReferenceToken-module__name--Wq2Bs",trailingVisual:"ReferenceToken-module__trailingVisual--JeIeK",removeButton:"ReferenceToken-module__removeButton--BIbYP",icon:"ReferenceToken-module__icon--WJse5",openIcon:"ReferenceToken-module__openIcon--LVVWZ",closedIcon:"ReferenceToken-module__closedIcon--qYsTG",pullRequestClosedIcon:"ReferenceToken-module__pullRequestClosedIcon--ivG0w",pullRequestMergedIcon:"ReferenceToken-module__pullRequestMergedIcon--S1IFs",figmaIconOuter:"ReferenceToken-module__figmaIconOuter--PpoUe",figmaIcon:"ReferenceToken-module__figmaIcon--x5K98"};var v=n(30581);let b=(0,m.forwardRef)(function(e,t){let n,r,o,l,c,g,y,b,C,j,N,I=(0,i.c)(40),{reference:T,message:R,onClick:k,onRemove:A,size:E,getReferenceVersion:M}=e;I[0]!==A?(n=e=>{A&&("Delete"===e.key||"Backspace"===e.key)&&(e.preventDefault(),A())},I[0]=A,I[1]=n):n=I[1];let P=n,L=(0,f.b)(),F=(0,p.pn)(w),$=(0,p.A3)("selectedThreadID");I[2]!==F||I[3]!==L||I[4]!==R||I[5]!==k||I[6]!==T||I[7]!==$?(r=e=>{if(!k||(k(T,e),!e.defaultPrevented)){if(!F){if(("issue"===T.type||"pull-request"===T.type||"discussion"===T.type)&&(window.open(T.url,"_blank"),self.focus()),["file","thread-scoped-file"].includes(T.type)){let e=$?`/copilot/c/${$}`:"/copilot";e+=`?reference_id=${(0,h.Vb)(T)}`,R&&(e+=`&message_index=${R.messageIndex}`),window.open(e,"_blank");return}["repository","folder","docset","third-party","image","issue","pull-request"].includes(T.type)||(e.preventDefault(),L.selectReference(T))}}},I[2]=F,I[3]=L,I[4]=R,I[5]=k,I[6]=T,I[7]=$,I[8]=r):r=I[8];let B=r,D=(0,p.A3)("currentTopic");I[9]!==T||I[10]!==D?(o=_(T,(0,h.P)(D)),I[9]=T,I[10]=D,I[11]=o):o=I[11];let O=o,U=(0,m.useId)();I[12]!==M||I[13]!==T?(l=M?.(T),I[12]=M,I[13]=T,I[14]=l):l=I[14];let z=l;I[15]!==T?(c=(0,h.JP)(T),I[15]=T,I[16]=c):c=I[16];let q="small"===E&&x.small;I[17]!==q?(g=(0,u.$)(x.referenceToken,q),I[17]=q,I[18]=g):g=I[18];let V=A&&U;return I[19]!==O?(y=O&&(0,a.jsx)(O,{size:"small",className:(0,u.$)(x.icon,O===s.IssueOpenedIcon&&x.openIcon,O===s.GitPullRequestIcon&&x.openIcon,O===s.IssueClosedIcon&&x.closedIcon,O===s.GitPullRequestClosedIcon&&x.pullRequestClosedIcon,O===s.GitMergeIcon&&x.pullRequestMergedIcon)}),I[19]=O,I[20]=y):y=I[20],I[21]!==T?(b="loading"===T.type?(0,a.jsx)("span",{className:x.loadingName,children:(0,a.jsx)(d.r,{"aria-hidden":"true"})}):(0,a.jsx)("span",{className:x.name,children:(0,h.z$)(T)}),I[21]=T,I[22]=b):b=I[22],I[23]!==z?(C=void 0!==z&&(0,a.jsx)("span",{className:x.trailingVisual,children:(0,a.jsx)(v.g,{version:z})}),I[23]=z,I[24]=C):C=I[24],I[25]!==U||I[26]!==A||I[27]!==E?(j=A&&(0,a.jsx)(S,{size:E,onRemove:A,descriptionId:U}),I[25]=U,I[26]=A,I[27]=E,I[28]=j):j=I[28],I[29]!==B||I[30]!==P||I[31]!==t||I[32]!==y||I[33]!==b||I[34]!==C||I[35]!==j||I[36]!==c||I[37]!==g||I[38]!==V?(N=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("a",{href:c,className:g,onKeyDown:P,onClick:B,ref:t,"aria-describedby":V,children:[y,b,C,j]})}),I[29]=B,I[30]=P,I[31]=t,I[32]=y,I[33]=b,I[34]=C,I[35]=j,I[36]=c,I[37]=g,I[38]=V,I[39]=N):N=I[39],N});function _(e,t){switch(e.type){case"figma":return C;case"file":return s.FileIcon;case"folder":return s.FileDirectoryFillIcon;case"file-diff":return s.FileDiffIcon;case"snippet":return t&&"languageName"in e&&e.languageName&&g.Yr.has(e.languageName)?s.BookIcon:s.CodeIcon;case"repository":return s.RepoIcon;case"symbol":return s.CodeSquareIcon;case"docset":return s.BookIcon;case"commit":return s.GitCommitIcon;case"pull-request":if("pull-request"===e.type){if(e.draft&&"open"===e.state)return s.GitPullRequestDraftIcon;switch(e.state){case"open":default:return s.GitPullRequestIcon;case"closed":return s.GitPullRequestClosedIcon;case"merged":return s.GitMergeIcon}}return;case"repo-instructions":case"org-instructions":return s.NoteIcon;case"issue":if("issue"===e.type)switch(e.state){case"open":default:return s.IssueOpenedIcon;case"closed":return s.IssueClosedIcon;case"not_planned":return s.SkipIcon}return;case"draft-issue":return s.IssueDraftIcon;case"discussion":return s.CommentDiscussionIcon;case"web-search-result":if("web-search-result"===e.type)if("bing_search"===e.reference_type)return o._;else return s.GlobeIcon;return;case"thread-scoped-file":return"language"in e&&g.Yr.has(e.language)?s.MarkdownIcon:s.CodeIcon;case"loading":return l.A;default:return}}function C(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:x.figmaIconOuter,children:(0,a.jsx)(y._,{className:x.figmaIcon})}),t[0]=e):e=t[0],e}let S=e=>{let t,n,r,o,l=(0,i.c)(12),{size:d,onRemove:u,descriptionId:m,onMouseOver:h,onMouseLeave:p}=e;return l[0]!==u?(t=e=>{e.stopPropagation(),e.preventDefault(),u()},l[0]=u,l[1]=t):t=l[1],l[2]!==p||l[3]!==h||l[4]!==d||l[5]!==t?(n=(0,a.jsx)(c.K,{tabIndex:-1,"aria-hidden":!0,size:d,icon:s.XIcon,"aria-label":"Remove",onClick:t,tooltipDirection:"n",variant:"invisible",className:x.removeButton,onMouseOver:h,onMouseLeave:p}),l[2]=p,l[3]=h,l[4]=d,l[5]=t,l[6]=n):n=l[6],l[7]!==m?(r=(0,a.jsx)("span",{hidden:!0,id:m,children:"press backspace or delete to remove"}),l[7]=m,l[8]=r):r=l[8],l[9]!==n||l[10]!==r?(o=(0,a.jsxs)(a.Fragment,{children:[n,r]}),l[9]=n,l[10]=r,l[11]=o):o=l[11],o};try{b.displayName||(b.displayName="ReferenceToken")}catch{}try{(r=Icon).displayName||(r.displayName="Icon")}catch{}try{C.displayName||(C.displayName="StylizedFigmaIcon")}catch{}try{S.displayName||(S.displayName="RemoveReferenceTokenButton")}catch{}function w(e){return"immersive"===e.mode}},69359:(e,t,n)=>{n.d(t,{FZ:()=>w,X1:()=>I});var r,a=n(74848),i=n(21728),o=n(38007),s=n(19139),l=n(98386),c=n(15385),d=n(83978),u=n(34164),m=n(96540),h=n(40961),p=n(6612),f=n(51295),g=n(22069),y=n(74244),x=n(34901),v=n(47397),b=n(39546),_=n(42342);let C={ActionList:"RepoSelectPanel-module__ActionList--KXTae"};var S=n(99629);function w(e){let t,n,r,o,s=(0,i.c)(12),{currentReferences:l}=(0,x.Pk)(),c=(0,v.b)();s[0]!==l?(n=new Set((t=l.filter(N)).map(j)),s[0]=l,s[1]=t,s[2]=n):(t=s[1],n=s[2]);let d=n,[u,h]=(0,m.useState)();s[3]!==c||s[4]!==e||s[5]!==t?(r=async n=>{h(void 0);let r=t.find(e=>e.id===n);if(r)return void c.removeReference(r);let a=await c.service.fetchRepo(n);if(!a.ok){h("Error: failed to attach repository. Please try again."),e.onOpenChange(!0);return}let i=(0,g.qS)(a.payload);c.addReference(i,"repoMenu")},s[3]=c,s[4]=e,s[5]=t,s[6]=r):r=s[6];let p=r;return s[7]!==u||s[8]!==e||s[9]!==d||s[10]!==p?(o=(0,a.jsx)(I,{...e,selectionVariant:"multiple",selectedRepoIds:d,onSelectRepo:p,description:"Choose repositories to chat about.",error:u}),s[7]=u,s[8]=e,s[9]=d,s[10]=p,s[11]=o):o=s[11],o}function j(e){return e.id}function N(e){return"repository"===e.type}function I(e){let t,n,r,g,y,v,w,j,N,I,k,A,E,M,P,L,F,$,B,D,O=(0,i.c)(54),{open:U,onOpenChange:z,submitReturnFocusRef:q,cancelReturnFocusRef:V,selectedRepoIds:H,featuredRepoIds:G,onSelectRepo:W,selectionVariant:K,description:Z,error:Q,ownerDisplayLogin:J,includeForks:X}=e,Y=void 0===G?H:G,{ssoOrganizations:ee}=(0,x.Pk)(),[et,en]=(0,m.useState)("");O[0]!==U?(t=()=>{U||en("")},n=[U],O[0]=U,O[1]=t,O[2]=n):(t=O[1],n=O[2]),(0,m.useEffect)(t,n);let{repositories:er,loading:ea}=(0,p.U)(et,U,void 0,J,void 0!==X&&X);e:{if(ea){r="Loading repositories";break e}if(0===er.length){r="No repositories found";break e}if(1===er.length){r="1 repository found";break e}r=`${er.length} repositories found`}let ei=r;O[3]===Symbol.for("react.memo_cache_sentinel")?(g=e=>{en(e.currentTarget.value)},O[3]=g):g=O[3];let eo=g;t:{let e;if(!ee){let e;O[4]===Symbol.for("react.memo_cache_sentinel")?(e=[],O[4]=e):e=O[4],y=e;break t}O[5]!==ee?(e=ee.map(R),O[5]=ee,O[6]=e):e=O[6],y=e}let es=y;O[7]!==Y?(v=e=>Y.has(e.databaseId)?"featuredRepos":"nonFeaturedRepos",O[7]=Y,O[8]=v):v=O[8];let{featuredRepos:el,nonFeaturedRepos:ec}=(0,f.O)(er,v),[ed,eu]=(0,m.useState)(!1);O[9]!==W?(w=async e=>{eu(!0),await W(e),eu(!1)},O[9]=W,O[10]=w):w=O[10];let em=w;O[11]===Symbol.for("react.memo_cache_sentinel")?(j=(0,l.G)("repo-select-panel"),O[11]=j):j=O[11];let eh=d.X;O[12]!==V.current||O[13]!==z?(N=()=>{(0,h.flushSync)(()=>z(!1)),V.current?.focus(),(0,o.BI)("dotcom_chat.activate",{target:"REPOSITORY_DIALOG_CLOSE",mode:"immersive"})},O[12]=V.current,O[13]=z,O[14]=N):N=O[14],O[15]!==z||O[16]!==q.current?(I=()=>{(0,h.flushSync)(()=>z(!1)),q.current?.focus()},O[15]=z,O[16]=q.current,O[17]=I):I=O[17];let ep="multiple"===K?"Select repositories":"Select a repository",ef=es.length>0&&"border-bottom-0";O[18]!==ef?(k=(0,u.$)(ef),O[18]=ef,O[19]=k):k=O[19];let eg=!0===ea||ed;O[20]!==eg?(A=(0,a.jsx)(d.X.SearchInput,{loading:eg,onChange:eo,placeholder:"Search repositories","aria-label":"Search repositories"}),O[20]=eg,O[21]=A):A=O[21],O[22]!==k||O[23]!==A?(E=(0,a.jsx)(d.X.Header,{className:k,children:A}),O[22]=k,O[23]=A,O[24]=E):E=O[24],O[25]!==J||O[26]!==es?(M=(void 0===J||""===J)&&(0,a.jsx)(s.x,{portalContainerName:_.f1,protectedOrgs:es,redirectURI:T,useFullWidthStyle:!0}),O[25]=J,O[26]=es,O[27]=M):M=O[27],O[28]===Symbol.for("react.memo_cache_sentinel")?(P=(0,a.jsx)(_.hl,{}),O[28]=P):P=O[28],O[29]!==Q?(L=Q&&(0,a.jsx)(d.X.Message,{variant:"error",size:"inline",children:Q}),O[29]=Q,O[30]=L):L=O[30];let ey=c.l;O[31]!==ei?(F=(0,a.jsx)("div",{className:"sr-only",children:ei}),O[31]=ei,O[32]=F):F=O[32];let ex="initial"===ea?(0,a.jsx)(d.X.Loading,{children:"Fetching repositories\u2026"}):0!==er.length||ea?(0,a.jsxs)(a.Fragment,{children:[el?.map(e=>(0,a.jsx)(S.W,{repo:e,onSelect:em,selected:H.has(e.databaseId)},e.databaseId)),el&&ec&&(0,a.jsx)(c.l.Divider,{}),ec?.map(e=>(0,a.jsx)(S.W,{repo:e,onSelect:em,selected:H.has(e.databaseId)},e.databaseId))]}):(0,a.jsx)(b.O,{delay:750,children:(0,a.jsx)(d.X.Message,{variant:"empty",title:"No repositories found",children:"Try a different search term"})});return O[33]!==ey||O[34]!==C.ActionList||O[35]!==F||O[36]!==ex?($=(0,a.jsxs)(ey,{className:C.ActionList,children:[F,ex]}),O[33]=ey,O[34]=C.ActionList,O[35]=F,O[36]=ex,O[37]=$):$=O[37],O[38]!==eh||O[39]!==Z||O[40]!==U||O[41]!==K||O[42]!==N||O[43]!==I||O[44]!==ep||O[45]!==E||O[46]!==M||O[47]!==P||O[48]!==L||O[49]!==$?(B=(0,a.jsxs)(eh,{width:"large",maxHeight:"xlarge",onCancel:N,onSubmit:I,open:U,variant:"modal",selectionVariant:K,title:ep,description:Z,children:[E,M,P,L,$]}),O[38]=eh,O[39]=Z,O[40]=U,O[41]=K,O[42]=N,O[43]=I,O[44]=ep,O[45]=E,O[46]=M,O[47]=P,O[48]=L,O[49]=$,O[50]=B):B=O[50],O[51]!==j||O[52]!==B?(D=(0,a.jsx)("div",{...j,children:B}),O[51]=j,O[52]=B,O[53]=D):D=O[53],D}function T(){return`/search/refresh_blackbird_caches?return_to=${location.href}`}function R(e){return e.login}try{(r=function(e){let t,n,r,o=(0,i.c)(9),{selectedThreadID:s,currentTopic:l}=(0,x.Pk)(),c=(0,v.b)();o[0]!==c||o[1]!==s?(t=async e=>{y.J.setSelectedTopic(s??"",e.toString()),c.clearCurrentReferences(["image","issue"]),await c.fetchCurrentRepo(e)},o[0]=c,o[1]=s,o[2]=t):t=o[2];let d=t;return o[3]!==l?(n=new Set(l?[l.id]:[]),o[3]=l,o[4]=n):n=o[4],o[5]!==d||o[6]!==e||o[7]!==n?(r=(0,a.jsx)(I,{...e,selectionVariant:"instant",selectedRepoIds:n,onSelectRepo:d,description:"Choose a repository to chat about."}),o[5]=d,o[6]=e,o[7]=n,o[8]=r):r=o[8],r}).displayName||(r.displayName="RepoTopicSelectPanel")}catch{}try{w.displayName||(w.displayName="RepoReferencesSelectPanel")}catch{}try{I.displayName||(I.displayName="RepoSelectPanel")}catch{}},99629:(e,t,n)=>{n.d(t,{W:()=>s});var r=n(74848),a=n(21728),i=n(39459),o=n(15385);function s(e){let t,n,s,l,c=(0,a.c)(14),{onSelect:d,repo:u,selected:m,trailingVisualComponent:h}=e,{databaseId:p,isInOrganization:f,nwo:g,ownerAvatarUrl:y}=u;return c[0]!==p||c[1]!==d?(t=()=>d(p),c[0]=p,c[1]=d,c[2]=t):t=c[2],c[3]!==f||c[4]!==y?(n=(0,r.jsx)(o.l.LeadingVisual,{children:(0,r.jsx)(i.r,{src:y,square:f,size:16})}),c[3]=f,c[4]=y,c[5]=n):n=c[5],c[6]!==h?(s=h&&(0,r.jsx)(o.l.TrailingVisual,{children:h}),c[6]=h,c[7]=s):s=c[7],c[8]!==g||c[9]!==m||c[10]!==t||c[11]!==n||c[12]!==s?(l=(0,r.jsxs)(o.l.Item,{onSelect:t,selected:m,children:[n,g,s]},g),c[8]=g,c[9]=m,c[10]=t,c[11]=n,c[12]=s,c[13]=l):l=c[13],l}try{s.displayName||(s.displayName="RepositoryListItem")}catch{}},87928:(e,t,n)=>{n.d(t,{$:()=>c});var r=n(74848),a=n(21728),i=n(38621),o=n(87330),s=n(31637),l=n(66912);function c(e){let t,n,c=(0,a.c)(11),{handleRetryMessage:d,disabled:u,showModelPicker:m,model:h,navigateToNewThread:p}=e,f=void 0!==u&&u,g=void 0!==m&&m;c[0]!==d||c[1]!==h?(t=()=>{d(h)},c[0]=d,c[1]=h,c[2]=t):t=c[2];let y=t,{isLicensedLimited:x}=(0,s.xR)();if(g&&(!p||!h))throw Error("navigateToNewThread and model must be provided in order to show the model picker");return c[3]!==f||c[4]!==y||c[5]!==d||c[6]!==x||c[7]!==h||c[8]!==p||c[9]!==g?(n=g?(0,r.jsx)(l.Yb,{onNewThreadSelected:p,limited:x,type:"message-retry",selectedModel:h,onModelSelected:d,disabled:f}):(0,r.jsx)(o.K,{variant:"invisible","aria-label":"Retry","data-testid":"retry-button",onClick:y,icon:i.SyncIcon,disabled:f}),c[3]=f,c[4]=y,c[5]=d,c[6]=x,c[7]=h,c[8]=p,c[9]=g,c[10]=n):n=c[10],n}try{c.displayName||(c.displayName="RetryButton")}catch{}},5279:(e,t,n)=>{n.d(t,{M:()=>l});var r=n(74848),a=n(21728),i=n(69676),o=n(82678),s=n(96540);function l(e){let t,n,l,c,d=(0,a.c)(8);d[0]!==e?({className:t,...n}=e,d[0]=e,d[1]=t,d[2]=n):(t=d[1],n=d[2]);let u=(0,s.useRef)(null);return d[3]===Symbol.for("react.memo_cache_sentinel")?(l={containerRef:u,focusInStrategy:"first",focusOutBehavior:"stop",bindKeys:i.z0.ArrowHorizontal|i.z0.HomeAndEnd},d[3]=l):l=d[3],(0,o.G)(l),d[4]!==t||d[5]!==e.children||d[6]!==n?(c=(0,r.jsx)("div",{ref:u,className:t,role:"toolbar",...n,children:e.children}),d[4]=t,d[5]=e.children,d[6]=n,d[7]=c):c=d[7],c}try{l.displayName||(l.displayName="Toolbar")}catch{}},85332:(e,t,n)=>{n.d(t,{R:()=>h});var r=n(74848),a=n(21728),i=n(34614),o=n(34164),s=n(7277),l=n(39818),c=n(36721),d=n(13897),u=n(83880),m=n(10370);function h(e){let t,n,i,h,f,g,y,x=(0,a.c)(24),{className:v,accessibleHeader:b}=e,{message:_}=(0,u.V)(),C=_.content??"";x[0]!==C?(t=(0,d._)(C),x[0]=C,x[1]=t):t=x[1];let{availableAgents:S}=(0,l.JE)(t);x[2]!==S?(n=void 0===S?[]:S,x[2]=S,x[3]=n):n=x[3];let w=n;if(x[4]!==b||x[5]!==w||x[6]!==v||x[7]!==_.references||x[8]!==C){let e;x[12]!==_.references?(e=_.references??[],x[12]=_.references,x[13]=e):e=x[13];let t=(0,s.l)().use(c.U,{references:e,agents:w}).parse(C);x[14]!==b?(f=b&&(0,r.jsx)("h3",{className:"sr-only",children:b}),x[14]=b,x[15]=f):f=x[15],x[16]!==v?(i=(0,o.$)(m.A.container,v),x[16]=v,x[17]=i):i=x[17],h=t.children.map(p),x[4]=b,x[5]=w,x[6]=v,x[7]=_.references,x[8]=C,x[9]=i,x[10]=h,x[11]=f}else i=x[9],h=x[10],f=x[11];return x[18]!==i||x[19]!==h?(g=(0,r.jsx)("div",{className:i,children:h}),x[18]=i,x[19]=h,x[20]=g):g=x[20],x[21]!==f||x[22]!==g?(y=(0,r.jsxs)(r.Fragment,{children:[f,g]}),x[21]=f,x[22]=g,x[23]=y):y=x[23],y}function p(e,t){switch(e.type){case"text":return e.value;case"agent-mention":return(0,r.jsx)(f,{agent:e.data.mentionedAgent,children:e.value},t);case"reference-mention":return void 0!==e.data.mentionedReferenceId?(0,r.jsx)("span",{className:m.A.mention,children:e.value},t):e.value}}function f(e){let t,n=(0,a.c)(4),{agent:o,children:s}=e,l=`/integrations/${o.slug}/hovercard`;return n[0]!==o.integrationUrl||n[1]!==s||n[2]!==l?(t=(0,r.jsx)(i.A,{href:o.integrationUrl,"data-hovercard-url":l,className:m.A.mention,children:s}),n[0]=o.integrationUrl,n[1]=s,n[2]=l,n[3]=t):t=n[3],t}try{h.displayName||(h.displayName="UserMessage")}catch{}try{f.displayName||(f.displayName="AgentLink")}catch{}},30581:(e,t,n)=>{n.d(t,{g:()=>s});var r=n(74848),a=n(21728),i=n(2676);let o={version:"VersionName-module__version--DI4zD"};function s(e){let t,n=(0,a.c)(3),{"data-testid":s,version:l}=e;return n[0]!==s||n[1]!==l?(t=(0,r.jsxs)(i.A,{className:o.version,as:"span","data-testid":s,children:["v",l]}),n[0]=s,n[1]=l,n[2]=t):t=n[2],t}try{s.displayName||(s.displayName="VersionName")}catch{}},39038:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(74848),a=n(21728);function i(e){let t,n,i,o,s,l=(0,a.c)(8);return l[0]!==e?({className:t,...n}=e,l[0]=e,l[1]=t,l[2]=n):(t=l[1],n=l[2]),l[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.jsxs)("g",{clipPath:"url(#clip0_216_3161)",children:[(0,r.jsx)("path",{d:"M7.99837 7.99967C7.99837 6.52683 9.1922 5.33301 10.665 5.33301C12.1379 5.33301 13.3317 6.52683 13.3317 7.99967C13.3317 9.47252 12.1379 10.6663 10.665 10.6663C9.1922 10.6663 7.99837 9.47252 7.99837 7.99967Z",fill:"#1ABCFE"}),(0,r.jsx)("path",{d:"M2.66504 13.3337C2.66504 11.8608 3.85886 10.667 5.33171 10.667H7.99837V13.3337C7.99837 14.8065 6.80455 16.0003 5.33171 16.0003C3.85886 16.0003 2.66504 14.8065 2.66504 13.3337Z",fill:"#0ACF83"}),(0,r.jsx)("path",{d:"M7.99837 0V5.33333H10.665C12.1379 5.33333 13.3317 4.13951 13.3317 2.66667C13.3317 1.19382 12.1379 0 10.665 0H7.99837Z",fill:"#FF7262"}),(0,r.jsx)("path",{d:"M2.665 2.66667C2.665 4.13951 3.85883 5.33333 5.33167 5.33333H7.99833V0H5.33167C3.85883 0 2.665 1.19382 2.665 2.66667Z",fill:"#F24E1E"}),(0,r.jsx)("path",{d:"M2.66504 7.99967C2.66504 9.47252 3.85886 10.6663 5.33171 10.6663H7.99837V5.33301H5.33171C3.85886 5.33301 2.66504 6.52683 2.66504 7.99967Z",fill:"#A259FF"})]}),l[3]=i):i=l[3],l[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_216_3161",children:(0,r.jsx)("rect",{width:"10.6667",height:"16",fill:"white",transform:"translate(2.665)"})})}),l[4]=o):o=l[4],l[5]!==t||l[6]!==n?(s=(0,r.jsxs)("svg",{"aria-label":"Figma logo",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...n,children:[i,o]}),l[5]=t,l[6]=n,l[7]=s):s=l[7],s}try{i.displayName||(i.displayName="FigmaIcon")}catch{}},39546:(e,t,n)=>{n.d(t,{O:()=>o});var r=n(74848),a=n(21728),i=n(96540);let o=e=>{let t,n,o,s=(0,a.c)(6),{children:l,delay:c,assertive:d}=e,u=void 0===c?500:c,[m,h]=(0,i.useState)(!1);if(s[0]!==u?(t=()=>{h(!1);let e=setTimeout(()=>h(!0),u);return()=>clearTimeout(e)},n=[u,h],s[0]=u,s[1]=t,s[2]=n):(t=s[1],n=s[2]),(0,i.useEffect)(t,n),!m)return null;let p=void 0!==d&&d?"assertive":"polite";return s[3]!==l||s[4]!==p?(o=(0,r.jsx)("div",{role:"alert","aria-live":p,"aria-atomic":"true",children:l}),s[3]=l,s[4]=p,s[5]=o):o=s[5],o};try{o.displayName||(o.displayName="DelayedComponent")}catch{}},9677:(e,t,n)=>{n.d(t,{O:()=>N});var r=n(74848),a=n(21728),i=n(38621),o=n(75177),s=n(87330),l=n(84217),c=n(55847),d=n(15385),u=n(63867),m=n(53110),h=n(96540);function p(e){let t,n,i,s,l=(0,a.c)(5),{children:c}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(t={overflow:"auto",maxHeight:"calc(100dvh - 64px - 52px)"},l[0]=t):t=l[0],l[1]===Symbol.for("react.memo_cache_sentinel")?(n={overflow:"hidden",backgroundColor:"canvas.default"},l[1]=n):n=l[1],l[2]===Symbol.for("react.memo_cache_sentinel")?(i={display:"flex",flexDirection:"column"},l[2]=i):i=l[2],l[3]!==c?(s=(0,r.jsx)(o.A,{sx:t,children:(0,r.jsx)(o.A,{sx:n,children:(0,r.jsx)(o.A,{sx:i,children:c})})}),l[3]=c,l[4]=s):s=l[4],s}function f(e){let t,n,c,d,u,m=(0,a.c)(9),{children:h,onDismiss:p}=e;return m[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"16px",fontSize:1},m[0]=t):t=m[0],m[1]===Symbol.for("react.memo_cache_sentinel")?(n={display:"flex",flexDirection:"row",alignItems:"center",minWidth:0,"@media screen and (max-width: 768px)":{maxWidth:"80%"}},m[1]=n):n=m[1],m[2]!==h?(c=(0,r.jsx)(o.A,{sx:n,children:h}),m[2]=h,m[3]=c):c=m[3],m[4]!==p?(d=p&&(0,r.jsx)(s.K,{unsafeDisableTooltip:!0,"aria-label":"Dismiss",icon:i.XIcon,onClick:p,variant:"invisible",sx:{flexShrink:0}}),m[4]=p,m[5]=d):d=m[5],m[6]!==c||m[7]!==d?(u=(0,r.jsxs)(l.A,{as:"h3",sx:t,children:[c,d]}),m[6]=c,m[7]=d,m[8]=u):u=m[8],u}function g(e){let t,n,i=(0,a.c)(3),{children:s}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t={borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",borderTop:"1px solid var(--borderColor-default, var(--color-border-default))",backgroundColor:"canvas.subtle",px:3,py:2},i[0]=t):t=i[0],i[1]!==s?(n=(0,r.jsx)(o.A,{sx:t,children:s}),i[1]=s,i[2]=n):n=i[2],n}function y(e){let t,n,o,s,l,d,u=(0,a.c)(11),{children:p,title:f,initiallyOpen:g}=e,[y,v]=(0,h.useState)(g??!1);u[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>v(x),u[0]=t):t=u[0],u[1]===Symbol.for("react.memo_cache_sentinel")?(n={borderRadius:0,backgroundColor:"canvas.default",border:"none",borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",'[data-component="buttonContent"]':{justifyContent:"start"}},u[1]=n):n=u[1];let b=y?i.ChevronDownIcon:i.ChevronRightIcon;u[2]===Symbol.for("react.memo_cache_sentinel")?(o={mr:2},u[2]=o):o=u[2],u[3]!==b?(s=(0,r.jsx)(m.A,{icon:b,sx:o}),u[3]=b,u[4]=s):s=u[4],u[5]!==s||u[6]!==f?(l=(0,r.jsxs)(c.Q,{onClick:t,sx:n,children:[s,f]}),u[5]=s,u[6]=f,u[7]=l):l=u[7];let _=y&&p;return u[8]!==l||u[9]!==_?(d=(0,r.jsxs)(r.Fragment,{children:[l,_]}),u[8]=l,u[9]=_,u[10]=d):d=u[10],d}function x(e){return!e}function v(e){let t,n,i=(0,a.c)(3),{children:s}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t={padding:3},i[0]=t):t=i[0],i[1]!==s?(n=(0,r.jsx)(o.A,{sx:t,children:s}),i[1]=s,i[2]=n):n=i[2],n}function b(e){let t,n,s,l,d,u,h,p=(0,a.c)(14),{direction:f,onExpand:g}=e;p[0]===Symbol.for("react.memo_cache_sentinel")?(t={justifyContent:"start"},p[0]=t):t=p[0],p[1]!==f?(n={borderRadius:0,backgroundColor:"canvas.default",border:"none",px:3,py:2,width:"100%",fontSize:0,fontWeight:"normal",color:"fg.muted",'[data-component="buttonContent"]':t,..."above"===f?{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}:{borderTop:"1px solid var(--borderColor-default, var(--color-border-default))"}},p[1]=f,p[2]=n):n=p[2],p[3]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",alignItems:"center"},p[3]=s):s=p[3];let y="below"===f?i.FoldDownIcon:i.FoldUpIcon;return p[4]===Symbol.for("react.memo_cache_sentinel")?(l={mr:2},p[4]=l):l=p[4],p[5]!==y?(d=(0,r.jsx)(m.A,{icon:y,sx:l}),p[5]=y,p[6]=d):d=p[6],p[7]!==f||p[8]!==d?(u=(0,r.jsxs)(o.A,{sx:s,children:[d,"Show content ",f]}),p[7]=f,p[8]=d,p[9]=u):u=p[9],p[10]!==g||p[11]!==n||p[12]!==u?(h=(0,r.jsx)(c.Q,{onClick:g,sx:n,children:u}),p[10]=g,p[11]=n,p[12]=u,p[13]=h):h=p[13],h}function _(e){let t,n,i=(0,a.c)(3),{children:o}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(d.l.GroupHeading,{as:"h3",children:"Reference details"}),i[0]=t):t=i[0],i[1]!==o?(n=(0,r.jsx)(d.l,{children:(0,r.jsxs)(d.l.Group,{children:[t,o]})}),i[1]=o,i[2]=n):n=i[2],n}function C(e){let t,n,i=(0,a.c)(6),{children:o,href:s,icon:l}=e;return i[0]!==l?(t=(0,r.jsx)(d.l.LeadingVisual,{children:(0,r.jsx)(m.A,{icon:l})}),i[0]=l,i[1]=t):t=i[1],i[2]!==o||i[3]!==s||i[4]!==t?(n=(0,r.jsxs)(d.l.LinkItem,{href:s,children:[t,o]}),i[2]=o,i[3]=s,i[4]=t,i[5]=n):n=i[5],n}function S(){let e,t,n=(0,a.c)(2);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e={display:"flex",flexDirection:"column",alignItems:"center",m:"auto",p:3},n[0]=e):e=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsxs)(o.A,{sx:e,children:[(0,r.jsx)(u.A,{sx:{mb:2}}),(0,r.jsx)("div",{children:"Loading..."})]}),n[1]=t):t=n[1],t}function w(){let e,t,n=(0,a.c)(2);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e={display:"flex",justifyContent:"center",p:3},n[0]=e):e=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(o.A,{sx:e,children:(0,r.jsx)(o.A,{sx:{color:"danger.fg",fontWeight:"bold"},children:"Failed to load reference details"})}),n[1]=t):t=n[1],t}function j(e){let t,n=(0,a.c)(4),{children:i,detailsError:o,detailsLoading:s}=e;return n[0]!==i||n[1]!==o||n[2]!==s?(t=o?(0,r.jsx)(w,{}):s?(0,r.jsx)(S,{}):(0,r.jsx)(r.Fragment,{children:i}),n[0]=i,n[1]=o,n[2]=s,n[3]=t):t=n[3],t}let N={Frame:p,Header:f,Body:j,Content:v,CollapsibleSubsection:y,ContentExpander:b,Details:_,DetailLink:C,SectionDivider:g};try{p.displayName||(p.displayName="Frame")}catch{}try{f.displayName||(f.displayName="Header")}catch{}try{g.displayName||(g.displayName="SectionDivider")}catch{}try{y.displayName||(y.displayName="CollapsibleSubsection")}catch{}try{v.displayName||(v.displayName="Content")}catch{}try{b.displayName||(b.displayName="ContentExpander")}catch{}try{_.displayName||(_.displayName="Details")}catch{}try{C.displayName||(C.displayName="DetailLink")}catch{}try{S.displayName||(S.displayName="Loading")}catch{}try{w.displayName||(w.displayName="Error")}catch{}try{j.displayName||(j.displayName="Body")}catch{}},59706:(e,t,n)=>{n.d(t,{_:()=>m,I:()=>d});var r=n(74848),a=n(21728),i=n(75177),o=n(52464),s=n(34614),l=n(9677);let c={"bing-icon":"WebSearchReferencePreview-module__bing-icon--kFZ4I"};function d(e){let t,n,c,d,h,p,f,g,y,x,v,b=(0,a.c)(19),{reference:_,onDismiss:C}=e;b[0]===Symbol.for("react.memo_cache_sentinel")?(t={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:2},n=(0,r.jsx)(m,{}),b[0]=t,b[1]=n):(t=b[0],n=b[1]),b[2]===Symbol.for("react.memo_cache_sentinel")?(c={fontSize:0,fontWeight:400,color:"fg.muted"},b[2]=c):c=b[2],b[3]===Symbol.for("react.memo_cache_sentinel")?(d={fontSize:1,fontWeight:600,color:"fg.default"},b[3]=d):d=b[3];let S=1===_.results.length?" result ":" results ";return b[4]!==_.results.length||b[5]!==S?(h=(0,r.jsxs)(i.A,{sx:t,children:[n,(0,r.jsxs)(o.A,{sx:c,children:[(0,r.jsxs)(o.A,{sx:d,children:[_.results.length," ",S]}),"from Bing search."]})]}),b[4]=_.results.length,b[5]=S,b[6]=h):h=b[6],b[7]!==C||b[8]!==h?(p=(0,r.jsx)(l.O.Header,{onDismiss:C,children:h}),b[7]=C,b[8]=h,b[9]=p):p=b[9],b[10]===Symbol.for("react.memo_cache_sentinel")?(f={display:"flex",flexDirection:"column",px:3,gap:3,pb:3},b[10]=f):f=b[10],b[11]!==_.results?(g=_.results.map(u),b[11]=_.results,b[12]=g):g=b[12],b[13]===Symbol.for("react.memo_cache_sentinel")?(y=(0,r.jsx)(o.A,{sx:{fontSize:0,fontWeight:400},children:(0,r.jsx)(s.A,{href:"https://privacy.microsoft.com/en-us/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"})}),b[13]=y):y=b[13],b[14]!==g?(x=(0,r.jsx)(l.O.Body,{detailsError:!1,detailsLoading:!1,children:(0,r.jsxs)(i.A,{sx:f,children:[g,y]})}),b[14]=g,b[15]=x):x=b[15],b[16]!==x||b[17]!==p?(v=(0,r.jsxs)(l.O.Frame,{children:[p,x]}),b[16]=x,b[17]=p,b[18]=v):v=b[18],v}function u(e,t){return(0,r.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",gap:1,border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px",padding:3},children:[(0,r.jsx)(s.A,{sx:{fontWeight:600,fontSize:2},href:e.url,rel:"nofollow",children:e.title}),(0,r.jsx)("div",{children:e.excerpt}),(0,r.jsx)(i.A,{sx:{fontSize:0,color:"fg.muted"},children:e.url})]},t)}let m=()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:c["bing-icon"]}),t[0]=e):e=t[0],e};try{d.displayName||(d.displayName="WebSearchReferencePreview")}catch{}try{m.displayName||(m.displayName="BingIcon")}catch{}},99038:(e,t,n)=>{n.d(t,{Dy:()=>l,GS:()=>i,KJ:()=>o,LP:()=>c,OZ:()=>d});var r=n(74848),a=n(21728);let i=e=>{let t,n,i,o,s,l=(0,a.c)(7);l[0]!==e?(t=void 0===e?{}:e,l[0]=e,l[1]=t):t=l[1];let{size:c}=t,d=void 0===c?16:c;return l[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M.5 6v4.5A2.5 2.5 0 0 0 3 13h1.645a3.5 3.5 0 0 1-.11-1.5H3a1 1 0 0 1-1-1V6zM14 6v4.5a1 1 0 0 1-1 1h-1.535a3.5 3.5 0 0 1-.11 1.5H13a2.5 2.5 0 0 0 2.5-2.5V6zm-4 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0",clipRule:"evenodd"}),o=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.5 10V5.5A2.5 2.5 0 0 0 13 3h-1.645a3.5 3.5 0 0 1 .11 1.5H13a1 1 0 0 1 1 1V10zM2 10V5.5a1 1 0 0 1 1-1h1.535a3.5 3.5 0 0 1 .11-1.5H3A2.5 2.5 0 0 0 .5 5.5V10zm4-6a2 2 0 1 1 4 0 2 2 0 0 1-4 0",clipRule:"evenodd"}),l[2]=n,l[3]=i,l[4]=o):(n=l[2],i=l[3],o=l[4]),l[5]!==d?(s=(0,r.jsxs)("svg",{width:d,height:d,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:[i,o]}),l[5]=d,l[6]=s):s=l[6],s},o=e=>{let t,n,i,o,s=(0,a.c)(6);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:l}=t,c=void 0===l?16:l;return s[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.515.456a1.555 1.555 0 00-2.2 0L6.58 6.19a1.556 1.556 0 00-.396.673l-.825 2.89a.667.667 0 00.824.824l2.89-.826c.254-.072.485-.209.672-.396l5.735-5.734a1.556 1.556 0 000-2.2l-.965-.965zm-1.257.942a.222.222 0 01.314 0l.965.966a.222.222 0 010 .314L13.415 3.8l-1.28-1.28 1.123-1.122zm-2.065 2.066l1.279 1.279-3.67 3.67a.221.221 0 01-.096.056l-1.736.496.496-1.736c.01-.036.03-.07.057-.096l3.67-3.67zM1.639 4.778a2.25 2.25 0 012.25-2.25h3.154a.75.75 0 000-1.5H3.889a3.75 3.75 0 00-3.75 3.75v7.333a3.75 3.75 0 003.75 3.75h7.333a3.75 3.75 0 003.75-3.75V8.445a.75.75 0 00-1.5 0v3.666a2.25 2.25 0 01-2.25 2.25H3.889a2.25 2.25 0 01-2.25-2.25V4.778z",clipRule:"evenodd"}),s[2]=n,s[3]=i):(n=s[2],i=s[3]),s[4]!==c?(o=(0,r.jsx)("svg",{width:c,height:c,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:i}),s[4]=c,s[5]=o):o=s[5],o},s=e=>{let t,n,i,o,s=(0,a.c)(6);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:l}=t,c=void 0===l?16:l;return s[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13 .5H3A2.5 2.5 0 0 0 .5 3v10A2.5 2.5 0 0 0 3 15.5h10a2.5 2.5 0 0 0 2.5-2.5V3A2.5 2.5 0 0 0 13 .5M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm6 6.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5M12.25 5a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0M5 12.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"}),s[2]=n,s[3]=i):(n=s[2],i=s[3]),s[4]!==c?(o=(0,r.jsx)("svg",{width:c,height:c,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:i}),s[4]=c,s[5]=o):o=s[5],o},l=e=>{let t,n,i,o,s=(0,a.c)(6);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:l}=t,c=void 0===l?16:l;return s[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9853 4.76795c.2467 1.23107.1819 2.55631-.3218 3.71134 1.0897-1.00527 1.7464-2.46826 1.7464-3.86921 0-.41421.3357-.75.75-.75.4142 0 .75.33579.75.75 0 2.80515-2.0553 5.92172-5.26314 6.53282.12999.0339.26315.0635.39904.0885 1.3486.2485 2.7916.0174 3.7282-.5446.3552-.2131.8159-.0979 1.029.2573.2131.3552.0979.8159-.2573 1.029-1.3033.782-3.1303 1.0359-4.77168.7335-1.47895-.2726-2.95185-1.0297-3.73462-2.4328.03609.3407.0998.6912.19117 1.0445.39625 1.5319 1.23152 2.7976 2.12066 3.2689.36598.194.5054.6479.31141 1.0139-.19399.366-.64793.5054-1.01391.3114-1.41889-.7521-2.42362-2.4914-2.87037-4.2186-.37219-1.439-.41354-3.09054.18406-4.40236-.18676.13263-.36743.27694-.54001.43237-1.03593.93306-1.73142 2.22122-1.73142 3.69879 0 .4142-.33579.75-.75.75-.41422 0-.75-.3358-.75-.75 0-1.97509.934-3.64826 2.22755-4.81334.88055-.7931 1.9505-1.37217 3.05387-1.65822-.11043-.0376-.22261-.07252-.33631-.10464-1.50098-.42402-2.98649-.28172-3.84609.36302-.33136.24853-.80147.18139-1.05-.14998-.24854-.33136-.1814-.80146.14997-1.05 1.38041-1.03537 3.4149-1.0978 5.1539-.60654 1.67421.47295 3.33259 1.53108 4.06402 3.11319l.0038.00674c.035-.47081.0022-.96424-.0972-1.46029-.2603-1.29954-.95701-2.50156-1.90466-3.21238-.33135-.24854-.39848-.71865-.14994-1.050006.24855-.331356.71865-.398487 1.05001-.14994C10.8023 1.6197 11.6657 3.17263 11.9853 4.76795ZM7.99998 6.0001c-1.10457 0-2 .89543-2 2s.89543 2 2 2 2-.89543 2-2-.89543-2-2-2Z",fill:"currentColor"}),s[2]=n,s[3]=i):(n=s[2],i=s[3]),s[4]!==c?(o=(0,r.jsx)("svg",{width:c,height:c,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:i}),s[4]=c,s[5]=o):o=s[5],o},c=e=>{let t,n,i,o,s,l=(0,a.c)(7);l[0]!==e?(t=void 0===e?{}:e,l[0]=e,l[1]=t):t=l[1];let{size:c}=t,d=void 0===c?16:c;return l[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,r.jsx)("path",{d:"M16.0376 9.67565V5.82038C16.0376 5.69043 15.9257 5.58508 15.7876 5.58508H11.6914C11.4687 5.58508 11.3571 5.83853 11.5146 5.98676L15.6108 9.84196C15.7683 9.99019 16.0376 9.88525 16.0376 9.67565Z",fill:"currentColor"}),o=(0,r.jsx)("path",{d:"M1.89601 3.25629C4.26064 1.03075 8.04807 0.960969 10.5015 3.04765L10.7339 3.25629L10.7857 3.3096C11.0259 3.58685 11.0085 3.99602 10.7339 4.25445C10.4593 4.51252 10.0254 4.52825 9.73097 4.30225L9.67336 4.25445L9.4966 4.09544C7.63201 2.50983 4.75358 2.56313 2.95656 4.25445C1.10158 6.00031 1.10158 8.83023 2.95656 10.5761C4.81155 12.322 7.8184 12.3219 9.67336 10.5761L13.563 6.91622C13.8559 6.64063 14.3307 6.64058 14.6236 6.91622C14.9163 7.19186 14.9163 7.63873 14.6236 7.91438L10.7339 11.5752C8.29328 13.8718 4.33667 13.8718 1.89601 11.5752C-0.544758 9.27799 -0.544771 5.55349 1.89601 3.25629Z",fill:"currentColor"}),l[2]=n,l[3]=i,l[4]=o):(n=l[2],i=l[3],o=l[4]),l[5]!==d?(s=(0,r.jsxs)("svg",{width:d,height:d,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:[i,o]}),l[5]=d,l[6]=s):s=l[6],s},d={compose:o,dice:s,loops:c,node:i,spaces:l};try{i.displayName||(i.displayName="NodeIcon")}catch{}try{o.displayName||(o.displayName="ComposeIcon")}catch{}try{s.displayName||(s.displayName="DiceIcon")}catch{}try{l.displayName||(l.displayName="SpacesIcon")}catch{}try{c.displayName||(c.displayName="LoopsIcon")}catch{}},44446:(e,t,n)=>{n.d(t,{I:()=>u});var r=n(74848),a=n(21728),i=n(34164),o=n(99038),s=n(38621);let l={container:"Icon-module__container--QOYOK",customColor:"Icon-module__customColor--HlhOS",hasBackground:"Icon-module__hasBackground--zz0fp",auburn:"Icon-module__auburn--qIzKn",blue:"Icon-module__blue--Ydgzj",brown:"Icon-module__brown--MphUd",coral:"Icon-module__coral--Jjxvj",cyan:"Icon-module__cyan--O0g_g",gray:"Icon-module__gray--rvF4R",green:"Icon-module__green--nHw65",indigo:"Icon-module__indigo--S8x7A",lemon:"Icon-module__lemon--Nc7fm",lime:"Icon-module__lime--ghjuW",olive:"Icon-module__olive--v6fBi",orange:"Icon-module__orange--AmLH_",pine:"Icon-module__pine--j5Ka1",pink:"Icon-module__pink--QHUu5",plum:"Icon-module__plum--JvLfU",purple:"Icon-module__purple--CLqTs",red:"Icon-module__red--ayaY4",teal:"Icon-module__teal--xmOZK",yellow:"Icon-module__yellow--Y3ymS"},c=new Set(Object.keys(l).filter(e=>!["container","hasBackground","customColor"].includes(e))),d=e=>e in s;function u(e){let t,n,u,m,h,p,f=(0,a.c)(19),{icon:g,hasBackground:y,color:x,size:v,className:b}=e,_=void 0!==y&&y,C=void 0===x?"gray":x,S=void 0===v?16:v;if("string"==typeof g)if(g in o.OZ)t=o.OZ[g];else{let e;f[0]!==g?(e=function(e){let t=`${e.replaceAll(/(?:^|-)(\w)/g,(e,t)=>t.toUpperCase())}Icon`;return d(t)?s[t]:void 0}(g),f[0]=g,f[1]=e):e=f[1],t=e}else t=g;if(!t)return null;f[2]!==C?(n=c.has(C),f[2]=C,f[3]=n):n=f[3];let w=n,j=`${_?2*S:S}px`;f[4]!==C||f[5]!==w||f[6]!==j?(u={"--custom-size":j},w||(u["--custom-color"]=C),f[4]=C,f[5]=w,f[6]=j,f[7]=u):u=f[7];let N=w?l[C]:l.customColor,I=_&&l.hasBackground;return f[8]!==b||f[9]!==N||f[10]!==I?(m=(0,i.$)(l.container,N,I,b),f[8]=b,f[9]=N,f[10]=I,f[11]=m):m=f[11],f[12]!==t||f[13]!==S?(h=(0,r.jsx)(t,{size:S,fill:"currentColor"}),f[12]=t,f[13]=S,f[14]=h):h=f[14],f[15]!==u||f[16]!==m||f[17]!==h?(p=(0,r.jsx)("div",{style:u,className:m,children:h}),f[15]=u,f[16]=m,f[17]=h,f[18]=p):p=f[18],p}try{u.displayName||(u.displayName="Icon")}catch{}},60674:(e,t,n)=>{n.d(t,{BP:()=>u,D3:()=>d,O8:()=>l});var r=n(74848),a=n(21728),i=n(96540),o=n(96679),s=n(17515);let l={ServerRender:"ServerRender",ClientHydrate:"ClientHydrate",ClientRender:"ClientRender"},c=(0,i.createContext)(l.ClientRender);function d(e){let t,n,d,u,m=(0,a.c)(8),{wasServerRendered:h,children:p}=e;m[0]!==h?(t=()=>o.X3?l.ServerRender:h?l.ClientHydrate:l.ClientRender,m[0]=h,m[1]=t):t=m[1];let[f,g]=(0,i.useState)(t);return m[2]!==f?(n=()=>{f!==l.ClientRender&&g(l.ClientRender)},d=[f],m[2]=f,m[3]=n,m[4]=d):(n=m[3],d=m[4]),(0,s.N)(n,d),m[5]!==p||m[6]!==f?(u=(0,r.jsx)(c.Provider,{value:f,children:p}),m[5]=p,m[6]=f,m[7]=u):u=m[7],u}function u(){return(0,i.useContext)(c)}try{c.displayName||(c.displayName="RenderPhaseContext")}catch{}try{d.displayName||(d.displayName="RenderPhaseProvider")}catch{}},68415:(e,t,n)=>{n.d(t,{Gy:()=>c,LB:()=>p,nn:()=>f,lm:()=>m});var r=n(74848),a=n(96540);let i=null,o=null,s=new Set;function l(e){return s.add(e),i||(i=new ResizeObserver(()=>{o||(o=requestAnimationFrame(()=>{for(let e of(o=null,s))e()}))})).observe(document.documentElement),()=>{s.delete(e),0===s.size&&i&&(i.disconnect(),i=null)}}let c={small:1,medium:544,large:768,xlarge:1012,xxlarge:1280,xxxlarge:1350,xxxxlarge:1440},d=[c.xxxxlarge,c.xxxlarge,c.xxlarge,c.xlarge,c.large,c.medium,c.small],u=a.createContext({screenSize:c.small});function m(){return a.useContext(u)}function h(){return f(window.innerWidth)}function p({children:e,initialValue:t=c.small}){let n=(0,a.useSyncExternalStore)(l,h,(0,a.useCallback)(()=>t,[t])),i=(0,a.useMemo)(()=>({screenSize:n}),[n]);return(0,r.jsx)(u.Provider,{value:i,children:e})}function f(e){for(let t of d)if(e>=t)return t;return c.small}try{u.displayName||(u.displayName="ScreenContext")}catch{}try{p.displayName||(p.displayName="ScreenSizeProvider")}catch{}},19139:(e,t,n)=>{n.d(t,{x:()=>h});var r=n(74848),a=n(38621),i=n(75177),o=n(6869),s=n(34614),l=n(10569),c=n(15385),d=n(85647);let u={Box:"SingleSignOnBanner-module__Box--iwIEO",Flash:"SingleSignOnBanner-module__Flash--XK1g3",Box_1:"SingleSignOnBanner-module__Box_1--VPBly",Octicon:"SingleSignOnBanner-module__Octicon--JXNw_",Box_2:"SingleSignOnBanner-module__Box_2--kq0MT",ForceWrap:"SingleSignOnBanner-module__ForceWrap--tZqOV",Paragraph:"SingleSignOnBanner-module__Paragraph--rpV0k"};var m=n(34164);function h({className:e,portalContainerName:t,protectedOrgs:n,maxVisibleOrgNames:l=3,redirectURI:c,useFullWidthStyle:h,forceWrap:g,sx:y}){let x=(0,d.zy)();if(!n||0===n.length)return null;let v=Math.max(0,n.length-l),b=1===n.length||v>0?(0,r.jsx)("b",{children:n.slice(0,l).join(", ")}):(0,r.jsxs)("span",{children:[(0,r.jsx)("b",{children:n.slice(0,n.length-1).join(", ")}),n.length>2&&","," and ",(0,r.jsx)("b",{children:n[n.length-1]})]});return(0,r.jsx)(i.A,{sx:y,className:e,"data-testid":"sso-banner",children:(0,r.jsx)("div",{className:u.Box,children:(0,r.jsx)("section",{"aria-label":"Single sign-on information",children:(0,r.jsx)(o.A,{sx:{borderRadius:2*!h,borderWidth:h?"1px 0":1},className:u.Flash,children:1===n.length?(0,r.jsxs)("div",{children:[(0,r.jsx)(a.ShieldLockIcon,{}),(0,r.jsx)(s.A,{inline:!0,href:`/orgs/${n[0]}/sso?return_to=${f({location:x,redirectURI:c})}`,children:"Single sign-on"})," ","to see results in the ",(0,r.jsx)("b",{children:n[0]})," organization."]}):(0,r.jsxs)("div",{className:u.Box_1,children:[(0,r.jsx)(a.ShieldLockIcon,{className:u.Octicon}),(0,r.jsxs)("div",{className:(0,m.$)(u.Box_2,g&&u.ForceWrap),children:[(0,r.jsxs)("p",{className:u.Paragraph,children:["Single sign-on to see results in ",0===v&&"the ",l>0&&(0,r.jsxs)(r.Fragment,{children:[b," "]}),v>0&&(0,r.jsxs)(r.Fragment,{children:[l>0&&"and ",v," other"," "]}),n.length>1&&1!==v?"organizations":"organization","."]}),(0,r.jsx)("div",{style:{flexShrink:0},children:(0,r.jsx)(p,{portalContainerName:t,protectedOrgs:n,redirectURI:c})})]})]})})})})})}function p({portalContainerName:e,protectedOrgs:t,redirectURI:n}){let a=(0,d.zy)();return(0,r.jsxs)(l.W,{children:[(0,r.jsx)(l.W.Button,{size:"small",children:"Select an organization"}),(0,r.jsx)(l.W.Overlay,{portalContainerName:e,children:(0,r.jsx)(c.l,{children:t.map(e=>(0,r.jsx)(c.l.Item,{onSelect:()=>window.location.href=`/orgs/${encodeURIComponent(e)}/sso?return_to=${f({location:a,redirectURI:n})}`,children:e},`org-${e}`))})})]})}function f({location:e,redirectURI:t}){return encodeURIComponent(t?t(e):e.pathname+e.search+e.hash)}try{h.displayName||(h.displayName="SingleSignOnBanner")}catch{}try{p.displayName||(p.displayName="SingleSignOnButton")}catch{}},99543:(e,t,n)=>{n.d(t,{Qn:()=>l,T8:()=>d,Y6:()=>m,k6:()=>u});var r=n(74848),a=n(65556),i=n(96540),o=n(13233),s=n(47019);let l=5e3,c=(0,i.createContext)({addToast:o.l,addPersistedToast:o.l,clearPersistedToast:o.l}),d=(0,i.createContext)({toasts:[],persistedToast:null});function u({children:e}){let[t,n]=(0,s.A)([]),[o,u]=(0,i.useState)(null),{safeSetTimeout:m}=(0,a.A)(),h=(0,i.useCallback)(function(e){n([...t,e]),m(()=>n(t.slice(1)),l)},[t,m,n]),p=(0,i.useCallback)(function(e){u(e)},[u]),f=(0,i.useCallback)(function(){u(null)},[u]),g=(0,i.useMemo)(()=>({addToast:h,addPersistedToast:p,clearPersistedToast:f}),[p,h,f]),y=(0,i.useMemo)(()=>({toasts:t,persistedToast:o}),[t,o]);return(0,r.jsx)(c.Provider,{value:g,children:(0,r.jsx)(d.Provider,{value:y,children:e})})}function m(){return(0,i.useContext)(c)}try{c.displayName||(c.displayName="ToastContext")}catch{}try{d.displayName||(d.displayName="InternalToastsContext")}catch{}try{u.displayName||(u.displayName="ToastContextProvider")}catch{}},42218:(e,t,n)=>{n.d(t,{V:()=>m});var r=n(74848),a=n(96540),i=n(99543),o=n(38621),s=n(65556),l=n(16255);let c={info:"",success:"Toast--success",error:"Toast--error"},d={info:(0,r.jsx)(o.InfoIcon,{}),success:(0,r.jsx)(o.CheckIcon,{}),error:(0,r.jsx)(o.StopIcon,{})},u=({message:e,timeToLive:t,icon:n,type:i="info",role:o="log"})=>{let[u,m]=a.useState(!0),{safeSetTimeout:h}=(0,s.A)();return(0,a.useEffect)(()=>{t&&h(()=>m(!1),t-300)},[h,t]),(0,r.jsx)(l.Z,{children:(0,r.jsx)("div",{className:"p-1 position-fixed bottom-0 left-0 mb-3 ml-3",children:(0,r.jsxs)("div",{className:`Toast ${c[i]} ${u?"Toast--animateIn":"Toast--animateOut"}`,id:"ui-app-toast","data-testid":`ui-app-toast-${i}`,role:o,children:[(0,r.jsx)("span",{className:"Toast-icon",children:n||d[i]}),(0,r.jsx)("span",{className:"Toast-content",children:e})]})})})};try{u.displayName||(u.displayName="Toast")}catch{}function m(){let{toasts:e,persistedToast:t}=(0,a.useContext)(i.T8);return(0,r.jsxs)(r.Fragment,{children:[e.map((e,t)=>(0,r.jsx)(u,{message:e.message,icon:e.icon,timeToLive:i.Qn,type:e.type,role:e.role},t)),t&&(0,r.jsx)(u,{message:t.message,icon:t.icon,type:t.type,role:t.role})]})}try{m.displayName||(m.displayName="Toasts")}catch{}},13455:(e,t,n)=>{n.d(t,{NE:()=>g,Mm:()=>x,YS:()=>y,mN:()=>_,XF:()=>v,Cf:()=>b});var r=n(74848),a=n(96540),i=n(73451),o=n(19647),s=n(34614),l=n(42522),c=n(55847),d=n(9852),u=n(38621);let m={bodyContainer:"UserFeedback-module__bodyContainer--O4i85",ratingContainer:"UserFeedback-module__ratingContainer--i0uZJ",ratingOption:"UserFeedback-module__ratingOption--hic5K",ratingButton:"UserFeedback-module__ratingButton--HsIWu",ratingCaption:"UserFeedback-module__ratingCaption--qUJIU",footerContainer:"UserFeedback-module__footerContainer--u06YH",footerActionButtonGroup:"UserFeedback-module__footerActionButtonGroup--t8_wz",copyLogsSuccessIcon:"UserFeedback-module__copyLogsSuccessIcon--zNnJA",messageContainer:"UserFeedback-module__messageContainer--cT4Rk",validationError:"UserFeedback-module__validationError--zjQhN",privacyText:"UserFeedback-module__privacyText--qSsVA",Dialog:"UserFeedback-module__Dialog--d4Z0e"},h={verySatisfied:"UserFeedbackColors-module__verySatisfied--Ypo1v",good:"UserFeedbackColors-module__good--iI67T",satisfied:"UserFeedbackColors-module__satisfied--MpwOG",dissatisfied:"UserFeedbackColors-module__dissatisfied--Kuqhh",veryDissatisfied:"UserFeedbackColors-module__veryDissatisfied--m5jfW",bad:"UserFeedbackColors-module__bad--TcLP4"};var p=n(34164);function f({title:e="Give feedback",requestID:t,options:n,returnFocusRef:f,onSubmit:g,onClose:y},x){let[v,b]=(0,a.useState)(null),[_,C]=(0,a.useState)(""),[S,w]=(0,a.useState)([]),[j,N]=(0,a.useState)(0),[I,T]=(0,a.useState)(!1),[R,k]=(0,a.useState)(!1);(0,a.useEffect)(()=>{S.length>0&&N(e=>e+1)},[S]),(0,a.useImperativeHandle)(x,()=>({openDialog:e=>{if(null!=e){if(!n.some(t=>t.value===e))throw Error("invalid initial option value");b(e)}T(!0)}}));let A=async e=>{e.preventDefault();let t=[];try{t=await g(v,_)}catch{t=["An error occurred while submitting your feedback."]}w(t),0===t.length&&M()},E=()=>{b(null),C(""),w([])},M=()=>{E(),T(!1),y?.()},P=e=>{b(e),w([])},L=e=>{C(e.target.value),w([])},F=async()=>{if(t){try{await navigator.clipboard.writeText(`Request ID: ${t}`)}catch{w(e=>[...e,"Failed to copy logs."]);return}k(!0),setTimeout(()=>{k(!1)},1e3)}};return(0,r.jsx)(r.Fragment,{children:I&&(0,r.jsx)(d.l,{onClose:M,title:e,renderBody:()=>(0,r.jsxs)("div",{className:m.bodyContainer,children:[(0,r.jsxs)(i.A,{required:!0,children:[(0,r.jsx)(i.A.Label,{visuallyHidden:!0,children:"Rating"}),(0,r.jsx)("div",{className:m.ratingContainer,children:n.map(e=>(0,r.jsxs)("div",{className:m.ratingOption,children:[(0,r.jsx)("button",{type:"button",role:"radio","aria-label":e.name,"aria-checked":v===e.value,onClick:()=>P(e.value),className:(0,p.$)(m.ratingButton,h[e.color]),children:e.icon}),(0,r.jsx)("span",{className:m.ratingCaption,children:e.name})]},e.name))})]}),(0,r.jsxs)("div",{className:m.messageContainer,children:[(0,r.jsxs)(i.A,{children:[(0,r.jsx)(i.A.Label,{children:"Message"}),(0,r.jsx)(o.Ay,{placeholder:"Tell us what you liked or what could be better",value:_,onChange:L,resize:"vertical",block:!0,rows:5})]}),(0,r.jsxs)("span",{className:m.privacyText,children:["Please don\u2019t include sensitive, confidential, or personal data. Your feedback helps us improve our services in line with our"," ",(0,r.jsx)(s.A,{href:"https://docs.github.com/en/site-policy/privacy-policies/github-general-privacy-statement",inline:!0,muted:!0,children:"Privacy Policy"}),"."]}),(0,r.jsx)("div",{className:m.validationError,role:"alert",children:S.map(e=>(0,r.jsx)("div",{children:e},e))},j)]})]}),renderFooter:()=>(0,r.jsxs)("div",{className:m.footerContainer,children:[(0,r.jsx)("div",{children:t&&(0,r.jsx)(l.m,{text:"Copy logs to add in feedback",direction:"n",children:(0,r.jsx)(c.Q,{leadingVisual:R?(0,r.jsx)(u.CheckIcon,{className:m.copyLogsSuccessIcon,size:16}):(0,r.jsx)(u.CopyIcon,{size:16}),onClick:F,variant:"default",children:R?"Copied!":"Copy logs"})})}),(0,r.jsxs)("div",{className:m.footerActionButtonGroup,children:[(0,r.jsx)(c.Q,{onClick:M,children:"Cancel"}),(0,r.jsx)(c.Q,{variant:"primary",type:"submit",onClick:A,children:"Send"})]})]}),className:m.Dialog,returnFocusRef:f})})}let g=(0,a.forwardRef)(f),y=(0,r.jsxs)("svg",{width:"16",height:"16","aria-hidden":"true",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.65646 10.7C6.15313 9.85483 7.09616 9.3 8 9.3C8.47794 9.3 9.0345 9.50535 9.54632 9.9146C9.83116 10.1424 10.0753 10.4124 10.2645 10.7H5.65646ZM11.8447 11.016C11.3379 9.39273 9.66897 8 8 8C6.30092 8 4.60185 9.23723 4.12902 11.011C3.98676 11.5446 4.44771 12 5 12H11C11.5523 12 12.0093 11.5432 11.8447 11.016Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.89649 4.7586C4.02981 4.42529 4.40809 4.26317 4.7414 4.39649L7.00928 5.30364C7.63789 5.55509 7.6379 6.44491 7.00928 6.69636L4.7414 7.60351C4.40809 7.73683 4.02981 7.57471 3.89649 7.2414C3.76317 6.90809 3.92529 6.52981 4.2586 6.39649L5.24982 6L4.2586 5.60351C3.92529 5.47019 3.76317 5.09191 3.89649 4.7586Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1035 4.7586C11.9702 4.42529 11.5919 4.26317 11.2586 4.39649L8.99072 5.30364C8.36211 5.55509 8.3621 6.44491 8.99072 6.69636L11.2586 7.60351C11.5919 7.73683 11.9702 7.57471 12.1035 7.2414C12.2368 6.90809 12.0747 6.52981 11.7414 6.39649L10.7502 6L11.7414 5.60351C12.0747 5.47019 12.2368 5.09191 12.1035 4.7586Z"})]}),x=(0,r.jsxs)("svg",{width:"16",height:"16","aria-hidden":"true",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,r.jsx)("path",{d:"M6.5 6.5C6.5 7.05228 6.05228 7.5 5.5 7.5C4.94772 7.5 4.5 7.05228 4.5 6.5C4.5 5.94772 4.94772 5.5 5.5 5.5C6.05228 5.5 6.5 5.94772 6.5 6.5Z"}),(0,r.jsx)("path",{d:"M11.5 6.5C11.5 7.05228 11.0523 7.5 10.5 7.5C9.94772 7.5 9.5 7.05228 9.5 6.5C9.5 5.94772 9.94772 5.5 10.5 5.5C11.0523 5.5 11.5 5.94772 11.5 6.5Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3416 11.8591C9.33064 10.0058 6.66936 10.0058 5.65842 11.8591C5.46007 12.2228 5.0045 12.3568 4.64086 12.1584C4.27722 11.9601 4.14323 11.5045 4.34158 11.1409C5.92104 8.24518 10.079 8.24518 11.6584 11.1409C11.8568 11.5045 11.7228 11.9601 11.3591 12.1584C10.9955 12.3568 10.5399 12.2228 10.3416 11.8591Z"})]}),v=(0,r.jsxs)("svg",{width:"16","aria-hidden":"true",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,r.jsx)("path",{d:"M6.5 6.5C6.5 7.05228 6.05228 7.5 5.5 7.5C4.94772 7.5 4.5 7.05228 4.5 6.5C4.5 5.94772 4.94772 5.5 5.5 5.5C6.05228 5.5 6.5 5.94772 6.5 6.5Z"}),(0,r.jsx)("path",{d:"M11.5 6.5C11.5 7.05228 11.0523 7.5 10.5 7.5C9.94772 7.5 9.5 7.05228 9.5 6.5C9.5 5.94772 9.94772 5.5 10.5 5.5C11.0523 5.5 11.5 5.94772 11.5 6.5Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 11C5 10.5858 5.33579 10.25 5.75 10.25H10.25C10.6642 10.25 11 10.5858 11 11C11 11.4142 10.6642 11.75 10.25 11.75H5.75C5.33579 11.75 5 11.4142 5 11Z"})]}),b=(0,r.jsxs)("svg",{width:"16","aria-hidden":"true",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,r.jsx)("path",{d:"M6.5 6.5C6.5 7.05228 6.05228 7.5 5.5 7.5C4.94772 7.5 4.5 7.05228 4.5 6.5C4.5 5.94772 4.94772 5.5 5.5 5.5C6.05228 5.5 6.5 5.94772 6.5 6.5Z"}),(0,r.jsx)("path",{d:"M11.5 6.5C11.5 7.05228 11.0523 7.5 10.5 7.5C9.94772 7.5 9.5 7.05228 9.5 6.5C9.5 5.94772 9.94772 5.5 10.5 5.5C11.0523 5.5 11.5 5.94772 11.5 6.5Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3569 9.61413C9.28933 11.3934 6.71067 11.3934 5.64312 9.61413C5.43001 9.25894 4.96931 9.14377 4.61413 9.35688C4.25894 9.56999 4.14377 10.0307 4.35688 10.3859C6.00704 13.1361 9.99296 13.1361 11.6431 10.3859C11.8562 10.0307 11.7411 9.56999 11.3859 9.35688C11.0307 9.14377 10.57 9.25894 10.3569 9.61413Z"})]}),_=(0,r.jsxs)("svg",{width:"16","aria-hidden":"true",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.65646 10.3C6.15313 11.1452 7.09616 11.7 8 11.7C8.47794 11.7 9.0345 11.4947 9.54632 11.0854C9.83116 10.8576 10.0753 10.5876 10.2645 10.3H5.65646ZM11.8447 9.98403C11.3379 11.6073 9.66897 13 8 13C6.30092 13 4.60185 11.7628 4.12902 9.98904C3.98676 9.45539 4.44771 9 5 9H11C11.5523 9 12.0093 9.45684 11.8447 9.98403Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3292 6.83541C10.9875 6.15213 10.0125 6.15213 9.67082 6.83541C9.48558 7.20589 9.03507 7.35606 8.66459 7.17082C8.29411 6.98558 8.14394 6.53507 8.32918 6.16459C9.22361 4.37574 11.7764 4.37574 12.6708 6.16459C12.8561 6.53507 12.7059 6.98558 12.3354 7.17082C11.9649 7.35606 11.5144 7.20589 11.3292 6.83541Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.32918 6.83541C5.98754 6.15213 5.01246 6.15213 4.67082 6.83541C4.48558 7.20589 4.03507 7.35606 3.66459 7.17082C3.29411 6.98558 3.14394 6.53507 3.32918 6.16459C4.22361 4.37574 6.77639 4.37574 7.67082 6.16459C7.85606 6.53507 7.70589 6.98558 7.33541 7.17082C6.96493 7.35606 6.51442 7.20589 6.32918 6.83541Z"})]});try{f.displayName||(f.displayName="UserFeedbackInner")}catch{}try{g.displayName||(g.displayName="UserFeedback")}catch{}}}]);
//# sourceMappingURL=ui_packages_copilot-chat_hooks_use-chat-message-behavior_ts-ui_packages_copilot-chat_hooks_us-ac6581-992e5045b6bd.js.map